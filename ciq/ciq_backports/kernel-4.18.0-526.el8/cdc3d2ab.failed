usb: typec: ucsi: acpi: Map the mailbox with memremap()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-526.el8
commit-author Heikki Krogerus <heikki.krogerus@linux.intel.com>
commit cdc3d2abf4387dbd9c690e44b1c9dc62d1873652
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-526.el8/cdc3d2ab.failed

The UCSI mailbox is always in main memory.

	Signed-off-by: Heikki Krogerus <heikki.krogerus@linux.intel.com>
	Reviewed-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit cdc3d2abf4387dbd9c690e44b1c9dc62d1873652)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/typec/ucsi/ucsi_acpi.c
diff --cc drivers/usb/typec/ucsi/ucsi_acpi.c
index f07610cb48aa,7455e3aff2be..000000000000
--- a/drivers/usb/typec/ucsi/ucsi_acpi.c
+++ b/drivers/usb/typec/ucsi/ucsi_acpi.c
@@@ -132,18 -132,7 +132,22 @@@ static int ucsi_acpi_probe(struct platf
  		return -ENODEV;
  	}
  
++<<<<<<< HEAD
 +	/* This will make sure we can use ioremap_nocache() */
 +	status = acpi_release_memory(ACPI_HANDLE(&pdev->dev), res, 1);
 +	if (ACPI_FAILURE(status))
 +		return -ENOMEM;
 +
 +	/*
 +	 * NOTE: The memory region for the data structures is used also in an
 +	 * operation region, which means ACPI has already reserved it. Therefore
 +	 * it can not be requested here, and we can not use
 +	 * devm_ioremap_resource().
 +	 */
 +	ua->base = devm_ioremap(&pdev->dev, res->start, resource_size(res));
++=======
+ 	ua->base = devm_memremap(&pdev->dev, res->start, resource_size(res), MEMREMAP_WB);
++>>>>>>> cdc3d2abf438 (usb: typec: ucsi: acpi: Map the mailbox with memremap())
  	if (!ua->base)
  		return -ENOMEM;
  
* Unmerged path drivers/usb/typec/ucsi/ucsi_acpi.c
