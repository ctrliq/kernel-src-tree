ACPI: x86: s2idle: Add a quirk for Lenovo Slim 7 Pro 14ARH7

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-529.el8
commit-author Mario Limonciello <mario.limonciello@amd.com>
commit 888ca9c7955e3969df84f5a1bda2143be9fa365a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-529.el8/888ca9c7.failed

Lenovo Slim 7 Pro 14ARH7 has a sporadically non-functional keyboard
when resuming from s2idle.  This is caused by some missing calls to the
EC that don't occur in the AMD codepath but only in the Microsoft codepath.

Add the system to the quirk list to force Microsoft codepath.

	Reported-by: Travis Glenn Hansen <travisghansen@yahoo.com>
	Reported-by: Sebastian S. <iam@decentr.al>
Link: https://bugzilla.kernel.org/show_bug.cgi?id=216473
Link: https://bugzilla.kernel.org/show_bug.cgi?id=216438
	Signed-off-by: Mario Limonciello <mario.limonciello@amd.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 888ca9c7955e3969df84f5a1bda2143be9fa365a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/x86/s2idle.c
diff --cc drivers/acpi/x86/s2idle.c
index 6da55fd4531b,c811eeed42cd..000000000000
--- a/drivers/acpi/x86/s2idle.c
+++ b/drivers/acpi/x86/s2idle.c
@@@ -416,6 -420,26 +416,29 @@@ static const struct dmi_system_id s2idl
  			DMI_MATCH(DMI_PRODUCT_NAME, "ASUS TUF Gaming A17"),
  		},
  	},
++<<<<<<< HEAD
++=======
+ 	{
+ 		/* ASUS ROG Zephyrus G14 (2022) */
+ 		.callback = lps0_prefer_microsoft,
+ 		.matches = {
+ 			DMI_MATCH(DMI_SYS_VENDOR, "ASUSTeK COMPUTER INC."),
+ 			DMI_MATCH(DMI_PRODUCT_NAME, "ROG Zephyrus G14 GA402"),
+ 		},
+ 	},
+ 	{
+ 		/*
+ 		 * Lenovo Yoga Slim 7 Pro X 14ARH7
+ 		 * https://bugzilla.kernel.org/show_bug.cgi?id=216473 : 82V2
+ 		 * https://bugzilla.kernel.org/show_bug.cgi?id=216438 : 82TL
+ 		 */
+ 		.callback = lps0_prefer_microsoft,
+ 		.matches = {
+ 			DMI_MATCH(DMI_BOARD_VENDOR, "LENOVO"),
+ 			DMI_MATCH(DMI_PRODUCT_NAME, "82"),
+ 		},
+ 	},
++>>>>>>> 888ca9c7955e (ACPI: x86: s2idle: Add a quirk for Lenovo Slim 7 Pro 14ARH7)
  	{}
  };
  
* Unmerged path drivers/acpi/x86/s2idle.c
