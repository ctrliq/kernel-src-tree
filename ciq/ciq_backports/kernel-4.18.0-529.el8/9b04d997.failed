ACPI: PM: Do not turn of unused power resources on the Toshiba Click Mini

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-529.el8
commit-author Hans de Goede <hdegoede@redhat.com>
commit 9b04d99788cf475cbd277f30ec66230ccb7e99f4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-529.el8/9b04d997.failed

The CPR3 power resource on the Toshiba Click Mini toggles a GPIO
which is called SISP (for SIS touchscreen power?) on/off.

This CPR3 power resource is not listed in any _PR? lists, let alone
in a _PR0 list for the SIS0817 touchscreen ACPI device which needs it.

Before commit a1224f34d72a ("ACPI: PM: Check states of power resources
during initialization") this was not an issue because since nothing
referenced the CPR3 power resource its state was always
ACPI_POWER_RESOURCE_STATE_UNKNOWN and power resources with this state
get ignored by acpi_turn_off_unused_power_resources().

This clearly is a bug in the DSDT of this device. Add a DMI quirk
to make acpi_turn_off_unused_power_resources() a no-op on this
model to fix the touchscreen no longer working since kernel 5.16 .

This quirk also causes 2 other power resources to not get turned
off, but the _OFF method on these already was a no-op, so this makes
no difference for the other 2 power resources.

Fixes: a1224f34d72a ("ACPI: PM: Check states of power resources during initialization")
	Reported-by: GÃ© Koerkamp <ge.koerkamp@gmail.com>
Link: https://bugzilla.kernel.org/show_bug.cgi?id=216946
Link: https://lore.kernel.org/regressions/32a14a8a-9795-4c8c-7e00-da9012f548f8@leemhuis.info/
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 9b04d99788cf475cbd277f30ec66230ccb7e99f4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/power.c
diff --cc drivers/acpi/power.c
index e911d4afa875,c2c70139c4f1..000000000000
--- a/drivers/acpi/power.c
+++ b/drivers/acpi/power.c
@@@ -34,6 -21,9 +34,12 @@@
   * may be shared by multiple devices.
   */
  
++<<<<<<< HEAD
++=======
+ #define pr_fmt(fmt) "ACPI: PM: " fmt
+ 
+ #include <linux/dmi.h>
++>>>>>>> 9b04d99788cf (ACPI: PM: Do not turn of unused power resources on the Toshiba Click Mini)
  #include <linux/kernel.h>
  #include <linux/module.h>
  #include <linux/init.h>
* Unmerged path drivers/acpi/power.c
