ALSA: usb-audio: Enable rate validation for Scarlett devices

jira LE-1907
Rebuild_History Non-Buildable kernel-rt-4.18.0-372.9.1.rt7.166.el8
commit-author Takashi Iwai <tiwai@suse.de>
commit 5963e5262180129f1be7556bd96994b6e52f3178
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-rt-4.18.0-372.9.1.rt7.166.el8/5963e526.failed

The Scarlett device series from Focusrite Novation seem requiring the
sample rate validations as we've done for MOTU devices; otherwise the
driver probes invalid audioformat entries that contain the sample
rates that actually don't work, and this may result in an incomplete
setup as reported recently.

This patch adds the needed quirk flag for enabling the sample rate
validation for Focusrite Novation devices.

Fixes: fe773b8711e3 ("ALSA: usb-audio: workaround for iface reset issue")
BugLink: https://bugzilla.kernel.org/show_bug.cgi?id=214493
Link: https://lore.kernel.org/r/20211004074050.28241-1-tiwai@suse.de
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 5963e5262180129f1be7556bd96994b6e52f3178)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/usb/quirks.c
diff --cc sound/usb/quirks.c
index e1e8b50c7222,889c855addfc..000000000000
--- a/sound/usb/quirks.c
+++ b/sound/usb/quirks.c
@@@ -1930,10 -1892,43 +1930,22 @@@ static const struct usb_audio_quirk_fla
  	/* Vendor matches */
  	VENDOR_FLG(0x045e, /* MS Lifecam */
  		   QUIRK_FLAG_GET_SAMPLE_RATE),
 -	VENDOR_FLG(0x046d, /* Logitech */
 -		   QUIRK_FLAG_CTL_MSG_DELAY_1M),
  	VENDOR_FLG(0x047f, /* Plantronics */
++<<<<<<< HEAD
 +		   QUIRK_FLAG_GET_SAMPLE_RATE),
++=======
+ 		   QUIRK_FLAG_GET_SAMPLE_RATE | QUIRK_FLAG_CTL_MSG_DELAY),
+ 	VENDOR_FLG(0x0644, /* TEAC Corp. */
+ 		   QUIRK_FLAG_CTL_MSG_DELAY | QUIRK_FLAG_IFACE_DELAY),
+ 	VENDOR_FLG(0x07fd, /* MOTU */
+ 		   QUIRK_FLAG_VALIDATE_RATES),
+ 	VENDOR_FLG(0x1235, /* Focusrite Novation */
+ 		   QUIRK_FLAG_VALIDATE_RATES),
+ 	VENDOR_FLG(0x152a, /* Thesycon devices */
+ 		   QUIRK_FLAG_DSD_RAW),
++>>>>>>> 5963e5262180 (ALSA: usb-audio: Enable rate validation for Scarlett devices)
  	VENDOR_FLG(0x1de7, /* Phoenix Audio */
  		   QUIRK_FLAG_GET_SAMPLE_RATE),
 -	VENDOR_FLG(0x20b1, /* XMOS based devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x22d9, /* Oppo */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x23ba, /* Playback Design */
 -		   QUIRK_FLAG_CTL_MSG_DELAY | QUIRK_FLAG_IFACE_DELAY |
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x25ce, /* Mytek devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x278b, /* Rotel? */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x292b, /* Gustard/Ess based devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x2972, /* FiiO devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x2ab6, /* T+A devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x3353, /* Khadas devices */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0x3842, /* EVGA */
 -		   QUIRK_FLAG_DSD_RAW),
 -	VENDOR_FLG(0xc502, /* HiBy devices */
 -		   QUIRK_FLAG_DSD_RAW),
  
  	{} /* terminator */
  };
* Unmerged path sound/usb/quirks.c
