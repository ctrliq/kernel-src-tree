x86/hyperv: Fix definition of hv_ghcb_pg variable

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-408.el8
commit-author Michael Kelley <mikelley@microsoft.com>
commit e1878402ab2dca12d1426f2fea39757943f3332c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-408.el8/e1878402.failed

The percpu variable hv_ghcb_pg is incorrectly defined.  The __percpu
qualifier should be associated with the union hv_ghcb * (i.e.,
a pointer), not with the target of the pointer. This distinction
makes no difference to gcc and the generated code, but sparse
correctly complains.  Fix the definition in the interest of
general correctness in addition to making sparse happy.

No functional change.

Fixes: 0cc4f6d9f0b9 ("x86/hyperv: Initialize GHCB page in Isolation VM")
	Reported-by: kernel test robot <lkp@intel.com>
	Signed-off-by: Michael Kelley <mikelley@microsoft.com>
Link: https://lore.kernel.org/r/1640662315-22260-2-git-send-email-mikelley@microsoft.com
	Signed-off-by: Wei Liu <wei.liu@kernel.org>
(cherry picked from commit e1878402ab2dca12d1426f2fea39757943f3332c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/hyperv/hv_init.c
#	arch/x86/include/asm/mshyperv.h
diff --cc arch/x86/hyperv/hv_init.c
index 492947588d79,8b392b6b7b93..000000000000
--- a/arch/x86/hyperv/hv_init.c
+++ b/arch/x86/hyperv/hv_init.c
@@@ -45,6 -37,8 +45,11 @@@ EXPORT_SYMBOL_GPL(hv_current_partition_
  void *hv_hypercall_pg;
  EXPORT_SYMBOL_GPL(hv_hypercall_pg);
  
++<<<<<<< HEAD
++=======
+ union hv_ghcb * __percpu *hv_ghcb_pg;
+ 
++>>>>>>> e1878402ab2d (x86/hyperv: Fix definition of hv_ghcb_pg variable)
  /* Storage to save the hypercall page temporarily for hibernation */
  static void *hv_hypercall_pg_saved;
  
diff --cc arch/x86/include/asm/mshyperv.h
index 50ff5ae8218d,498317df89b0..000000000000
--- a/arch/x86/include/asm/mshyperv.h
+++ b/arch/x86/include/asm/mshyperv.h
@@@ -52,6 -30,8 +52,11 @@@ extern void *hv_hypercall_pg
  
  extern u64 hv_current_partition_id;
  
++<<<<<<< HEAD
++=======
+ extern union hv_ghcb * __percpu *hv_ghcb_pg;
+ 
++>>>>>>> e1878402ab2d (x86/hyperv: Fix definition of hv_ghcb_pg variable)
  int hv_call_deposit_pages(int node, u64 partition_id, u32 num_pages);
  int hv_call_add_logical_proc(int node, u32 lp_index, u32 acpi_id);
  int hv_call_create_vp(int node, u64 partition_id, u32 vp_index, u32 flags);
* Unmerged path arch/x86/hyperv/hv_init.c
* Unmerged path arch/x86/include/asm/mshyperv.h
