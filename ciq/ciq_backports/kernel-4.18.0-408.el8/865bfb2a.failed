net: bridge: Use array_size() helper in copy_to_user()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-408.el8
commit-author Gustavo A. R. Silva <gustavoars@kernel.org>
commit 865bfb2affa8eff5182b29aa90803a2df4409834
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-408.el8/865bfb2a.failed

Use array_size() helper instead of the open-coded version in
copy_to_user(). These sorts of multiplication factors need
to be wrapped in array_size().

Link: https://github.com/KSPP/linux/issues/160
	Signed-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 865bfb2affa8eff5182b29aa90803a2df4409834)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bridge/br_ioctl.c
diff --cc net/bridge/br_ioctl.c
index 2db800fc27ca,49c268871fc1..000000000000
--- a/net/bridge/br_ioctl.c
+++ b/net/bridge/br_ioctl.c
@@@ -171,7 -189,7 +172,11 @@@ static int old_dev_ioctl(struct net_dev
  			return -ENOMEM;
  
  		get_port_ifindices(br, indices, num);
++<<<<<<< HEAD
 +		if (copy_to_user((void __user *)args[1], indices, num*sizeof(int)))
++=======
+ 		if (copy_to_user(argp, indices, array_size(num, sizeof(int))))
++>>>>>>> 865bfb2affa8 (net: bridge: Use array_size() helper in copy_to_user())
  			num =  -EFAULT;
  		kfree(indices);
  		return num;
@@@ -320,7 -337,8 +325,12 @@@ static int old_deviceless(struct net *n
  
  		args[2] = get_bridge_ifindices(net, indices, args[2]);
  
++<<<<<<< HEAD
 +		ret = copy_to_user((void __user *)args[1], indices, args[2]*sizeof(int))
++=======
+ 		ret = copy_to_user(uarg, indices,
+ 				   array_size(args[2], sizeof(int)))
++>>>>>>> 865bfb2affa8 (net: bridge: Use array_size() helper in copy_to_user())
  			? -EFAULT : args[2];
  
  		kfree(indices);
* Unmerged path net/bridge/br_ioctl.c
