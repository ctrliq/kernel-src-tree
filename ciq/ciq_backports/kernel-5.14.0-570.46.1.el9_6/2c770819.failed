scsi: fnic: Add Cisco hardware model names

jira LE-4311
Rebuild_History Non-Buildable kernel-5.14.0-570.46.1.el9_6
commit-author Karan Tilak Kumar <kartilak@cisco.com>
commit 2c77081969ee00ec31abda0cf6a26bc269f12ab2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-5.14.0-570.46.1.el9_6/2c770819.failed

Add model IDs for Cisco VIC.

	Reviewed-by: Sesidhar Baddela <sebaddel@cisco.com>
Co-developed-by: Gian Carlo Boffa <gcboffa@cisco.com>
	Signed-off-by: Gian Carlo Boffa <gcboffa@cisco.com>
Co-developed-by: Arulprabhu Ponnusamy <arulponn@cisco.com>
	Signed-off-by: Arulprabhu Ponnusamy <arulponn@cisco.com>
Co-developed-by: Arun Easi <aeasi@cisco.com>
	Signed-off-by: Arun Easi <aeasi@cisco.com>
Co-developed-by: Karan Tilak Kumar <kartilak@cisco.com>
	Signed-off-by: Karan Tilak Kumar <kartilak@cisco.com>
Link: https://lore.kernel.org/r/20241212020312.4786-7-kartilak@cisco.com
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 2c77081969ee00ec31abda0cf6a26bc269f12ab2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/fnic/fnic.h
#	drivers/scsi/fnic/fnic_main.c
diff --cc drivers/scsi/fnic/fnic.h
index 73fb8245c7b7,c2978c5c6e8f..000000000000
--- a/drivers/scsi/fnic/fnic.h
+++ b/drivers/scsi/fnic/fnic.h
@@@ -88,16 -82,100 +88,90 @@@
  #define FNIC_DEV_RST_TERM_DONE          BIT(20)
  #define FNIC_DEV_RST_ABTS_PENDING       BIT(21)
  
++<<<<<<< HEAD
++=======
+ #define IS_FNIC_FCP_INITIATOR(fnic) (fnic->role == FNIC_ROLE_FCP_INITIATOR)
+ 
+ /* Retry supported by rport (returned by PRLI service parameters) */
+ #define FNIC_FC_RP_FLAGS_RETRY            0x1
+ 
+ /* Cisco vendor id */
+ #define PCI_VENDOR_ID_CISCO						0x1137
+ #define PCI_DEVICE_ID_CISCO_VIC_FC				0x0045	/* fc vnic */
+ 
+ /* sereno pcie switch */
+ #define PCI_DEVICE_ID_CISCO_SERENO             0x004e
+ #define PCI_DEVICE_ID_CISCO_CRUZ               0x007a	/* Cruz */
+ #define PCI_DEVICE_ID_CISCO_BODEGA             0x0131	/* Bodega */
+ #define PCI_DEVICE_ID_CISCO_BEVERLY            0x025f	/* Beverly */
+ 
+ /* Sereno */
+ #define PCI_SUBDEVICE_ID_CISCO_VASONA			0x004f	/* vasona mezz */
+ #define PCI_SUBDEVICE_ID_CISCO_COTATI			0x0084	/* cotati mlom */
+ #define PCI_SUBDEVICE_ID_CISCO_LEXINGTON		0x0085	/* lexington pcie */
+ #define PCI_SUBDEVICE_ID_CISCO_ICEHOUSE			0x00cd	/* Icehouse */
+ #define PCI_SUBDEVICE_ID_CISCO_KIRKWOODLAKE		0x00ce	/* KirkwoodLake pcie */
+ #define PCI_SUBDEVICE_ID_CISCO_SUSANVILLE		0x012e	/* Susanville MLOM */
+ #define PCI_SUBDEVICE_ID_CISCO_TORRANCE			0x0139	/* Torrance MLOM */
+ 
+ /* Cruz */
+ #define PCI_SUBDEVICE_ID_CISCO_CALISTOGA		0x012c	/* Calistoga MLOM */
+ #define PCI_SUBDEVICE_ID_CISCO_MOUNTAINVIEW		0x0137	/* Cruz Mezz */
+ /* Cruz MountTian SIOC */
+ #define PCI_SUBDEVICE_ID_CISCO_MOUNTTIAN		0x014b
+ #define PCI_SUBDEVICE_ID_CISCO_CLEARLAKE		0x014d	/* ClearLake pcie */
+ /* Cruz MountTian2 SIOC */
+ #define PCI_SUBDEVICE_ID_CISCO_MOUNTTIAN2		0x0157
+ #define PCI_SUBDEVICE_ID_CISCO_CLAREMONT		0x015d	/* Claremont MLOM */
+ 
+ /* Bodega */
+ /* VIC 1457 PCIe mLOM */
+ #define PCI_SUBDEVICE_ID_CISCO_BRADBURY         0x0218
+ #define PCI_SUBDEVICE_ID_CISCO_BRENTWOOD        0x0217	/* VIC 1455 PCIe */
+ /* VIC 1487 PCIe mLOM */
+ #define PCI_SUBDEVICE_ID_CISCO_BURLINGAME       0x021a
+ #define PCI_SUBDEVICE_ID_CISCO_BAYSIDE          0x0219	/* VIC 1485 PCIe */
+ /* VIC 1440 Mezz mLOM */
+ #define PCI_SUBDEVICE_ID_CISCO_BAKERSFIELD      0x0215
+ #define PCI_SUBDEVICE_ID_CISCO_BOONVILLE        0x0216	/* VIC 1480 Mezz */
+ #define PCI_SUBDEVICE_ID_CISCO_BENICIA          0x024a	/* VIC 1495 */
+ #define PCI_SUBDEVICE_ID_CISCO_BEAUMONT         0x024b	/* VIC 1497 */
+ #define PCI_SUBDEVICE_ID_CISCO_BRISBANE         0x02af	/* VIC 1467 */
+ #define PCI_SUBDEVICE_ID_CISCO_BENTON           0x02b0	/* VIC 1477 */
+ #define PCI_SUBDEVICE_ID_CISCO_TWIN_RIVER       0x02cf	/* VIC 14425 */
+ #define PCI_SUBDEVICE_ID_CISCO_TWIN_PEAK        0x02d0	/* VIC 14825 */
+ 
+ /* Beverly */
+ #define PCI_SUBDEVICE_ID_CISCO_BERN             0x02de	/* VIC 15420 */
+ #define PCI_SUBDEVICE_ID_CISCO_STOCKHOLM        0x02dd	/* VIC 15428 */
+ #define PCI_SUBDEVICE_ID_CISCO_KRAKOW           0x02dc	/* VIC 15411 */
+ #define PCI_SUBDEVICE_ID_CISCO_LUCERNE          0x02db	/* VIC 15231 */
+ #define PCI_SUBDEVICE_ID_CISCO_TURKU            0x02e8	/* VIC 15238 */
+ #define PCI_SUBDEVICE_ID_CISCO_TURKU_PLUS       0x02f3	/* VIC 15237 */
+ #define PCI_SUBDEVICE_ID_CISCO_ZURICH           0x02df	/* VIC 15230 */
+ #define PCI_SUBDEVICE_ID_CISCO_RIGA             0x02e0	/* VIC 15427 */
+ #define PCI_SUBDEVICE_ID_CISCO_GENEVA           0x02e1	/* VIC 15422 */
+ #define PCI_SUBDEVICE_ID_CISCO_HELSINKI         0x02e4	/* VIC 15235 */
+ #define PCI_SUBDEVICE_ID_CISCO_GOTHENBURG       0x02f2	/* VIC 15425 */
+ 
+ struct fnic_pcie_device {
+ 	u32 device;
+ 	u8 *desc;
+ 	u32 subsystem_device;
+ 	u8 *subsys_desc;
+ };
+ 
++>>>>>>> 2c77081969ee (scsi: fnic: Add Cisco hardware model names)
  /*
 - * fnic private data per SCSI command.
 + * Usage of the scsi_cmnd scratchpad.
   * These fields are locked by the hashed io_req_lock.
   */
 -struct fnic_cmd_priv {
 -	struct fnic_io_req *io_req;
 -	enum fnic_ioreq_state state;
 -	u32 flags;
 -	u16 abts_status;
 -	u16 lr_status;
 -};
 -
 -static inline struct fnic_cmd_priv *fnic_priv(struct scsi_cmnd *cmd)
 -{
 -	return scsi_cmd_priv(cmd);
 -}
 -
 -static inline u64 fnic_flags_and_state(struct scsi_cmnd *cmd)
 -{
 -	struct fnic_cmd_priv *fcmd = fnic_priv(cmd);
 -
 -	return ((u64)fcmd->flags << 32) | fcmd->state;
 -}
 +#define CMD_SP(Cmnd)		((Cmnd)->SCp.ptr)
 +#define CMD_STATE(Cmnd)		((Cmnd)->SCp.phase)
 +#define CMD_ABTS_STATUS(Cmnd)	((Cmnd)->SCp.Message)
 +#define CMD_LR_STATUS(Cmnd)	((Cmnd)->SCp.have_data_in)
 +#define CMD_TAG(Cmnd)           ((Cmnd)->SCp.sent_command)
 +#define CMD_FLAGS(Cmnd)         ((Cmnd)->SCp.Status)
  
  #define FCPIO_INVALID_CODE 0x100 /* hdr_status value unused by firmware */
  
@@@ -299,8 -403,15 +373,11 @@@ struct fnic 
  	struct work_struct frame_work;
  	struct work_struct flush_work;
  	struct sk_buff_head frame_queue;
 -	struct list_head tx_queue;
 -	mempool_t *frame_pool;
 -	mempool_t *frame_elem_pool;
 -	struct work_struct tport_work;
 -	struct list_head tport_event_list;
 +	struct sk_buff_head tx_queue;
  
+ 	char subsys_desc[14];
+ 	int subsys_desc_len;
+ 
  	/*** FIP related data members  -- start ***/
  	void (*set_vlan)(struct fnic *, u16 vlan);
  	struct work_struct      fip_frame_work;
@@@ -398,4 -511,76 +475,79 @@@ fnic_chk_state_flags_locked(struct fni
  }
  void __fnic_set_state_flags(struct fnic *, unsigned long, unsigned long);
  void fnic_dump_fchost_stats(struct Scsi_Host *, struct fc_host_statistics *);
++<<<<<<< HEAD
++=======
+ void fnic_free_txq(struct list_head *head);
+ int fnic_get_desc_by_devid(struct pci_dev *pdev, char **desc,
+ 						   char **subsys_desc);
+ 
+ struct fnic_scsi_iter_data {
+ 	struct fnic *fnic;
+ 	void *data1;
+ 	void *data2;
+ 	bool (*fn)(struct fnic *fnic, struct scsi_cmnd *sc,
+ 			void *data1, void *data2);
+ };
+ 
+ static inline bool
+ fnic_io_iter_handler(struct scsi_cmnd *sc, void *iter_data)
+ {
+ 	struct fnic_scsi_iter_data *iter = iter_data;
+ 
+ 	return iter->fn(iter->fnic, sc, iter->data1, iter->data2);
+ }
+ 
+ static inline void
+ fnic_scsi_io_iter(struct fnic *fnic,
+ 		bool (*fn)(struct fnic *fnic, struct scsi_cmnd *sc,
+ 				void *data1, void *data2),
+ 		void *data1, void *data2)
+ {
+ 	struct fnic_scsi_iter_data iter_data = {
+ 		.fn = fn,
+ 		.fnic = fnic,
+ 		.data1 = data1,
+ 		.data2 = data2,
+ 	};
+ 	scsi_host_busy_iter(fnic->lport->host, fnic_io_iter_handler, &iter_data);
+ }
+ 
+ #ifdef FNIC_DEBUG
+ static inline void
+ fnic_debug_dump(struct fnic *fnic, uint8_t *u8arr, int len)
+ {
+ 	int i;
+ 
+ 	for (i = 0; i < len; i = i+8) {
+ 		FNIC_FCS_DBG(KERN_DEBUG, fnic->lport->host, fnic->fnic_num,
+ 		    "%d: %02x %02x %02x %02x %02x %02x %02x %02x", i / 8,
+ 		    u8arr[i + 0], u8arr[i + 1], u8arr[i + 2], u8arr[i + 3],
+ 		    u8arr[i + 4], u8arr[i + 5], u8arr[i + 6], u8arr[i + 7]);
+ 	}
+ }
+ 
+ static inline void
+ fnic_debug_dump_fc_frame(struct fnic *fnic, struct fc_frame_header *fchdr,
+ 				int len, char *pfx)
+ {
+ 	uint32_t s_id, d_id;
+ 
+ 	s_id = ntoh24(fchdr->fh_s_id);
+ 	d_id = ntoh24(fchdr->fh_d_id);
+ 	FNIC_FCS_DBG(KERN_DEBUG, fnic->lport->host, fnic->fnic_num,
+ 		"%s packet contents: sid/did/type/oxid = 0x%x/0x%x/0x%x/0x%x (len = %d)\n",
+ 		pfx, s_id, d_id, fchdr->fh_type,
+ 		FNIC_STD_GET_OX_ID(fchdr), len);
+ 
+ 	fnic_debug_dump(fnic, (uint8_t *)fchdr, len);
+ 
+ }
+ #else /* FNIC_DEBUG */
+ static inline void
+ fnic_debug_dump(struct fnic *fnic, uint8_t *u8arr, int len) {}
+ static inline void
+ fnic_debug_dump_fc_frame(struct fnic *fnic, struct fc_frame_header *fchdr,
+ 				uint32_t len, char *pfx) {}
+ #endif /* FNIC_DEBUG */
++>>>>>>> 2c77081969ee (scsi: fnic: Add Cisco hardware model names)
  #endif /* _FNIC_H_ */
diff --cc drivers/scsi/fnic/fnic_main.c
index 06fd7b543b33,c1c10731906f..000000000000
--- a/drivers/scsi/fnic/fnic_main.c
+++ b/drivers/scsi/fnic/fnic_main.c
@@@ -601,6 -610,8 +601,11 @@@ static int fnic_probe(struct pci_dev *p
  	int fnic_id = 0;
  	int i;
  	unsigned long flags;
++<<<<<<< HEAD
++=======
+ 	int hwq;
+ 	char *desc, *subsys_desc;
++>>>>>>> 2c77081969ee (scsi: fnic: Add Cisco hardware model names)
  
  	/*
  	 * Allocate SCSI Host and set up association between host,
@@@ -634,10 -645,14 +639,21 @@@
  	fnic->fnic_num = fnic_id;
  	fnic_stats_debugfs_init(fnic);
  
++<<<<<<< HEAD
 +	/* Setup PCI resources */
 +	pci_set_drvdata(pdev, fnic);
 +
 +	fnic->pdev = pdev;
++=======
+ 	/* Find model name from PCIe subsys ID */
+ 	if (fnic_get_desc_by_devid(pdev, &desc, &subsys_desc) == 0)
+ 		dev_info(&fnic->pdev->dev, "Model: %s\n", subsys_desc);
+ 	else {
+ 		fnic->subsys_desc_len = 0;
+ 		dev_info(&fnic->pdev->dev, "Model: %s subsys_id: 0x%04x\n", "Unknown",
+ 				pdev->subsystem_device);
+ 	}
++>>>>>>> 2c77081969ee (scsi: fnic: Add Cisco hardware model names)
  
  	err = pci_enable_device(pdev);
  	if (err) {
diff --git a/drivers/scsi/fnic/Makefile b/drivers/scsi/fnic/Makefile
index 6214a6b2e96d..9d7083fce420 100644
--- a/drivers/scsi/fnic/Makefile
+++ b/drivers/scsi/fnic/Makefile
@@ -15,4 +15,5 @@ fnic-y	:= \
 	vnic_intr.o \
 	vnic_rq.o \
 	vnic_wq_copy.o \
-	vnic_wq.o
+	vnic_wq.o \
+	fnic_pci_subsys_devid.o
* Unmerged path drivers/scsi/fnic/fnic.h
* Unmerged path drivers/scsi/fnic/fnic_main.c
diff --git a/drivers/scsi/fnic/fnic_pci_subsys_devid.c b/drivers/scsi/fnic/fnic_pci_subsys_devid.c
new file mode 100644
index 000000000000..36a2c1268422
--- /dev/null
+++ b/drivers/scsi/fnic/fnic_pci_subsys_devid.c
@@ -0,0 +1,131 @@
+// SPDX-License-Identifier: GPL-2.0-only
+/*
+ * Copyright 2008 Cisco Systems, Inc.  All rights reserved.
+ * Copyright 2007 Nuova Systems, Inc.  All rights reserved.
+ */
+
+#include <linux/module.h>
+#include <linux/mempool.h>
+#include <linux/string.h>
+#include <linux/slab.h>
+#include <linux/errno.h>
+#include <linux/init.h>
+#include <linux/pci.h>
+#include <linux/interrupt.h>
+#include <linux/irq.h>
+#include <linux/spinlock.h>
+#include <linux/workqueue.h>
+#include <linux/kthread.h>
+#include <linux/if_ether.h>
+#include "fnic.h"
+
+static struct fnic_pcie_device fnic_pcie_device_table[] = {
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno", PCI_SUBDEVICE_ID_CISCO_VASONA,
+	 "VIC 1280"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno", PCI_SUBDEVICE_ID_CISCO_COTATI,
+	 "VIC 1240"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno",
+	 PCI_SUBDEVICE_ID_CISCO_LEXINGTON, "VIC 1225"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno", PCI_SUBDEVICE_ID_CISCO_ICEHOUSE,
+	 "VIC 1285"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno",
+	 PCI_SUBDEVICE_ID_CISCO_KIRKWOODLAKE, "VIC 1225T"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno",
+	 PCI_SUBDEVICE_ID_CISCO_SUSANVILLE, "VIC 1227"},
+	{PCI_DEVICE_ID_CISCO_SERENO, "Sereno", PCI_SUBDEVICE_ID_CISCO_TORRANCE,
+	 "VIC 1227T"},
+
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_CALISTOGA,
+	 "VIC 1340"},
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_MOUNTAINVIEW,
+	 "VIC 1380"},
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_MOUNTTIAN,
+	 "C3260-SIOC"},
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_CLEARLAKE,
+	 "VIC 1385"},
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_MOUNTTIAN2,
+	 "C3260-SIOC"},
+	{PCI_DEVICE_ID_CISCO_CRUZ, "Cruz", PCI_SUBDEVICE_ID_CISCO_CLAREMONT,
+	 "VIC 1387"},
+
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BRADBURY,
+	 "VIC 1457"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_BRENTWOOD, "VIC 1455"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_BURLINGAME, "VIC 1487"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BAYSIDE,
+	 "VIC 1485"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_BAKERSFIELD, "VIC 1440"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_BOONVILLE, "VIC 1480"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BENICIA,
+	 "VIC 1495"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BEAUMONT,
+	 "VIC 1497"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BRISBANE,
+	 "VIC 1467"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega", PCI_SUBDEVICE_ID_CISCO_BENTON,
+	 "VIC 1477"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_TWIN_RIVER, "VIC 14425"},
+	{PCI_DEVICE_ID_CISCO_BODEGA, "Bodega",
+	 PCI_SUBDEVICE_ID_CISCO_TWIN_PEAK, "VIC 14825"},
+
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_BERN,
+	 "VIC 15420"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly",
+	 PCI_SUBDEVICE_ID_CISCO_STOCKHOLM, "VIC 15428"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_KRAKOW,
+	 "VIC 15411"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly",
+	 PCI_SUBDEVICE_ID_CISCO_LUCERNE, "VIC 15231"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_TURKU,
+	 "VIC 15238"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_GENEVA,
+	 "VIC 15422"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly",
+	 PCI_SUBDEVICE_ID_CISCO_HELSINKI, "VIC 15235"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly",
+	 PCI_SUBDEVICE_ID_CISCO_GOTHENBURG, "VIC 15425"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly",
+	 PCI_SUBDEVICE_ID_CISCO_TURKU_PLUS, "VIC 15237"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_ZURICH,
+	 "VIC 15230"},
+	{PCI_DEVICE_ID_CISCO_BEVERLY, "Beverly", PCI_SUBDEVICE_ID_CISCO_RIGA,
+	 "VIC 15427"},
+
+	{0,}
+};
+
+int fnic_get_desc_by_devid(struct pci_dev *pdev, char **desc,
+						   char **subsys_desc)
+{
+	unsigned short device = PCI_DEVICE_ID_CISCO_VIC_FC;
+	int max = ARRAY_SIZE(fnic_pcie_device_table);
+	struct fnic_pcie_device *t = fnic_pcie_device_table;
+	int index = 0;
+
+	if (pdev->device != device)
+		return 1;
+
+	while (t->device != 0) {
+		if (memcmp
+			((char *) &pdev->subsystem_device,
+			 (char *) &t->subsystem_device, sizeof(short)) == 0)
+			break;
+		t++;
+		index++;
+	}
+
+	if (index >= max - 1) {
+		*desc = NULL;
+		*subsys_desc = NULL;
+		return 1;
+	}
+
+	*desc = fnic_pcie_device_table[index].desc;
+	*subsys_desc = fnic_pcie_device_table[index].subsys_desc;
+	return 0;
+}
