ASoC: amd: enable Yellow carp acp6x drivers build

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-372.9.1.el8
commit-author Vijendar Mukunda <Vijendar.Mukunda@amd.com>
commit 89728d97db3f078aceb967ebe5ed2d0797b6a117
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-372.9.1.el8/89728d97.failed

Yellow Carp ACP6x drivers can be built by selecting necessary
kernel config option.
The patch enables build support of the same.

	Signed-off-by: Vijendar Mukunda<Vijendar.Mukunda@amd.com>
Link: https://lore.kernel.org/r/20211018112044.1705805-11-Vijendar.Mukunda@amd.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 89728d97db3f078aceb967ebe5ed2d0797b6a117)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/amd/Kconfig
#	sound/soc/amd/Makefile
diff --cc sound/soc/amd/Kconfig
index f430b9a6684c,0d0ca61bd8c1..000000000000
--- a/sound/soc/amd/Kconfig
+++ b/sound/soc/amd/Kconfig
@@@ -75,4 -75,12 +75,16 @@@ config SND_SOC_AMD_VANGOGH_MAC
  	  Say m if you have such a device.
  	  If unsure select "N".
  
++<<<<<<< HEAD
 +source "sound/soc/amd/acp/Kconfig"
++=======
+ config SND_SOC_AMD_ACP6x
+ 	tristate "AMD Audio Coprocessor-v6.x Yellow Carp support"
+ 	depends on X86 && PCI
+ 	help
+ 	  This option enables Audio Coprocessor i.e ACP v6.x support on
+ 	  AMD Yellow Carp platform. By enabling this flag build will be
+ 	  triggered for ACP PCI driver, ACP PDM DMA driver.
+ 	  Say m if you have such a device.
+ 	  If unsure select "N".
++>>>>>>> 89728d97db3f (ASoC: amd: enable Yellow carp acp6x drivers build)
diff --cc sound/soc/amd/Makefile
index 9878907c89a6,c5b900d3df0b..000000000000
--- a/sound/soc/amd/Makefile
+++ b/sound/soc/amd/Makefile
@@@ -11,4 -11,4 +11,8 @@@ obj-$(CONFIG_SND_SOC_AMD_ACP3x) += rave
  obj-$(CONFIG_SND_SOC_AMD_RV_RT5682_MACH) += snd-soc-acp-rt5682-mach.o
  obj-$(CONFIG_SND_SOC_AMD_RENOIR) += renoir/
  obj-$(CONFIG_SND_SOC_AMD_ACP5x) += vangogh/
++<<<<<<< HEAD
 +obj-$(CONFIG_SND_SOC_AMD_ACP_COMMON) += acp/
++=======
+ obj-$(CONFIG_SND_SOC_AMD_ACP6x) += yc/
++>>>>>>> 89728d97db3f (ASoC: amd: enable Yellow carp acp6x drivers build)
* Unmerged path sound/soc/amd/Kconfig
* Unmerged path sound/soc/amd/Makefile
diff --git a/sound/soc/amd/yc/Makefile b/sound/soc/amd/yc/Makefile
new file mode 100644
index 000000000000..20f8dfe6abb4
--- /dev/null
+++ b/sound/soc/amd/yc/Makefile
@@ -0,0 +1,7 @@
+# SPDX-License-Identifier: GPL-2.0+
+# Yellow Carp platform Support
+snd-pci-acp6x-objs	:= pci-acp6x.o
+snd-acp6x-pdm-dma-objs	:= acp6x-pdm-dma.o
+
+obj-$(CONFIG_SND_SOC_AMD_ACP6x) += snd-pci-acp6x.o
+obj-$(CONFIG_SND_SOC_AMD_ACP6x) += snd-acp6x-pdm-dma.o
