platform/x86: amd-pmc: Make CONFIG_AMD_PMC depend on RTC_CLASS

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-372.9.1.el8
commit-author Hans de Goede <hdegoede@redhat.com>
commit 707f0c290f2b0a16c0222bb3272079cfe5af831d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-372.9.1.el8/707f0c29.failed

Since the "Add special handling for timer based S0i3 wakeup" changes
the amd-pmc code now relies on symbols from the RTC-class code,
add a dependency for this to Kconfig.

Fixes: 59348401ebed ("platform/x86: amd-pmc: Add special handling for timer based S0i3 wakeup")
	Cc: Mario Limonciello <mario.limonciello@amd.com>
	Reported-by: Randy Dunlap <rdunlap@infradead.org>
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
	Acked-by: Mario Limonciello <mario.limonciello@amd.com>
Link: https://lore.kernel.org/r/20211102153256.76956-1-hdegoede@redhat.com
(cherry picked from commit 707f0c290f2b0a16c0222bb3272079cfe5af831d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/platform/x86/Kconfig
diff --cc drivers/platform/x86/Kconfig
index a5fb7f99cc67,7400bc5da5be..000000000000
--- a/drivers/platform/x86/Kconfig
+++ b/drivers/platform/x86/Kconfig
@@@ -36,49 -183,43 +36,60 @@@ config ACER_WM
  	  If you have an ACPI-WMI compatible Acer/ Wistron laptop, say Y or M
  	  here.
  
++<<<<<<< HEAD
 +config ACER_WIRELESS
 +        tristate "Acer Wireless Radio Control Driver"
 +        depends on ACPI
 +        depends on INPUT
 +        ---help---
 +          The Acer Wireless Radio Control handles the airplane mode hotkey
 +          present on new Acer laptops.
++=======
+ config AMD_PMC
+ 	tristate "AMD SoC PMC driver"
+ 	depends on ACPI && PCI && RTC_CLASS
+ 	help
+ 	  The driver provides support for AMD Power Management Controller
+ 	  primarily responsible for S2Idle transactions that are driven from
+ 	  a platform firmware running on SMU. This driver also provides a debug
+ 	  mechanism to investigate the S2Idle transactions and failures.
++>>>>>>> 707f0c290f2b (platform/x86: amd-pmc: Make CONFIG_AMD_PMC depend on RTC_CLASS)
  
 -	  Say Y or M here if you have a notebook powered by AMD RYZEN CPU/APU.
 +          Say Y or M here if you have an Acer notebook with an airplane mode
 +          hotkey.
  
 -	  If you choose to compile this driver as a module the module will be
 -	  called amd-pmc.
 +          If you choose to compile this driver as a module the module will be
 +          called acer-wireless.
  
 -config ADV_SWBUTTON
 -	tristate "Advantech ACPI Software Button Driver"
 -	depends on ACPI && INPUT
 -	help
 -	  Say Y here to enable support for Advantech software defined
 -	  button feature. More information can be found at
 -	  <http://www.advantech.com.tw/products/>
 +config ACERHDF
 +	tristate "Acer Aspire One temperature and fan driver"
 +	depends on ACPI && THERMAL
 +	select THERMAL_GOV_BANG_BANG
 +	---help---
 +	  This is a driver for Acer Aspire One netbooks. It allows to access
 +	  the temperature sensor and to control the fan.
  
 -	  To compile this driver as a module, choose M here. The module will
 -	  be called adv_swbutton.
 +	  After loading this driver the BIOS is still in control of the fan.
 +	  To let the kernel handle the fan, do:
 +	  echo -n enabled > /sys/class/thermal/thermal_zone0/mode
  
 -config APPLE_GMUX
 -	tristate "Apple Gmux Driver"
 -	depends on ACPI && PCI
 -	depends on PNP
 -	depends on BACKLIGHT_CLASS_DEVICE
 -	depends on BACKLIGHT_APPLE=n || BACKLIGHT_APPLE
 -	depends on ACPI_VIDEO=n || ACPI_VIDEO
 -	help
 -	  This driver provides support for the gmux device found on many
 -	  Apple laptops, which controls the display mux for the hybrid
 -	  graphics as well as the backlight. Currently only backlight
 -	  control is supported by the driver.
 +	  For more information about this driver see
 +	  <http://piie.net/files/acerhdf_README.txt>
 +
 +	  If you have an Acer Aspire One netbook, say Y or M
 +	  here.
 +
 +config ALIENWARE_WMI
 +	tristate "Alienware Special feature control"
 +	depends on ACPI
 +	depends on LEDS_CLASS
 +	depends on NEW_LEDS
 +	depends on ACPI_WMI
 +	---help---
 +	 This is a driver for controlling Alienware BIOS driven
 +	 features.  It exposes an interface for controlling the AlienFX
 +	 zones on Alienware machines that don't contain a dedicated AlienFX
 +	 USB MCU such as the X51 and X51-R2.
  
  config ASUS_LAPTOP
  	tristate "Asus Laptop Extras"
* Unmerged path drivers/platform/x86/Kconfig
