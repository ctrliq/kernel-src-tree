ASoC: SOF: Intel: hda-loader: Drop SOF_DBG_DUMP_REGS flag from dbg_dump calls

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-372.9.1.el8
commit-author Peter Ujfalusi <peter.ujfalusi@linux.intel.com>
commit 7511b0edf1b8d9a1321ac19cb076fcdfe534439a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-372.9.1.el8/7511b0ed.failed

In cl_dsp_init() we are powering up the DSP, register dump is not valid.
In hda_dsp_cl_boot_firmware() we are downloading the firmware to DSP, again
the register dump is not a valid concept.

	Signed-off-by: Peter Ujfalusi <peter.ujfalusi@linux.intel.com>
	Reviewed-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
	Reviewed-by: Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
	Reviewed-by: Kai Vehmanen <kai.vehmanen@linux.intel.com>
Link: https://lore.kernel.org/r/20211006110645.26679-19-peter.ujfalusi@linux.intel.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 7511b0edf1b8d9a1321ac19cb076fcdfe534439a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/sof/intel/hda-loader.c
diff --cc sound/soc/sof/intel/hda-loader.c
index d2be02dc2801,abad6d0ceb83..000000000000
--- a/sound/soc/sof/intel/hda-loader.c
+++ b/sound/soc/sof/intel/hda-loader.c
@@@ -177,17 -177,11 +177,16 @@@ static int cl_dsp_init(struct snd_sof_d
  			__func__);
  
  err:
- 	flags = SOF_DBG_DUMP_REGS | SOF_DBG_DUMP_PCI | SOF_DBG_DUMP_MBOX |
- 		SOF_DBG_DUMP_OPTIONAL;
+ 	flags = SOF_DBG_DUMP_PCI | SOF_DBG_DUMP_MBOX | SOF_DBG_DUMP_OPTIONAL;
  
 -	/* after max boot attempts make sure that the dump is printed */
 -	if (hda->boot_iteration == HDA_FW_BOOT_ATTEMPTS)
 +	/*
 +	 * after max boot attempts make sure that the dump is printed and error
 +	 * log level is used
 +	 */
 +	if (hda->boot_iteration == HDA_FW_BOOT_ATTEMPTS) {
 +		flags |= SOF_DBG_DUMP_FORCE_ERR_LEVEL;
  		flags &= ~SOF_DBG_DUMP_OPTIONAL;
 +	}
  
  	snd_sof_dsp_dbg_dump(sdev, flags);
  	snd_sof_dsp_core_power_down(sdev, chip->host_managed_cores_mask);
@@@ -420,8 -414,7 +419,12 @@@ int hda_dsp_cl_boot_firmware(struct snd
  	if (!ret) {
  		dev_dbg(sdev->dev, "Firmware download successful, booting...\n");
  	} else {
++<<<<<<< HEAD
 +		snd_sof_dsp_dbg_dump(sdev, SOF_DBG_DUMP_REGS | SOF_DBG_DUMP_PCI |
 +				     SOF_DBG_DUMP_MBOX | SOF_DBG_DUMP_FORCE_ERR_LEVEL);
++=======
+ 		snd_sof_dsp_dbg_dump(sdev, SOF_DBG_DUMP_PCI | SOF_DBG_DUMP_MBOX);
++>>>>>>> 7511b0edf1b8 (ASoC: SOF: Intel: hda-loader: Drop SOF_DBG_DUMP_REGS flag from dbg_dump calls)
  		dev_err(sdev->dev, "error: load fw failed ret: %d\n", ret);
  	}
  
* Unmerged path sound/soc/sof/intel/hda-loader.c
