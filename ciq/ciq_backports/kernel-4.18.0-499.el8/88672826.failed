ALSA: hda: cs35l41: Support System Suspend

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-499.el8
commit-author Stefan Binding <sbinding@opensource.cirrus.com>
commit 88672826e2a465d2f4c0a50fb5ced2956f4ffcbc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-499.el8/88672826.failed

Add support for system suspend into the CS35L41 HDA Driver.
Since S4 suspend may power off the system, it is required
that the driver ensure the part is safe to be shutdown before
system suspend, as well as ensuring that the firmware is
unloaded before shutdown. The part must then be restored
on system resume, including re-downloading the firmware.

	Signed-off-by: Stefan Binding <sbinding@opensource.cirrus.com>
Link: https://lore.kernel.org/r/20221011143552.621792-6-sbinding@opensource.cirrus.com
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 88672826e2a465d2f4c0a50fb5ced2956f4ffcbc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/cs35l41_hda.c
diff --cc sound/pci/hda/cs35l41_hda.c
index a8f8b4e8bc18,e5f0549bf06d..000000000000
--- a/sound/pci/hda/cs35l41_hda.c
+++ b/sound/pci/hda/cs35l41_hda.c
@@@ -1423,13 -1533,15 +1534,18 @@@ void cs35l41_hda_remove(struct device *
  	gpiod_put(cs35l41->reset_gpio);
  	kfree(cs35l41->acpi_subsystem_id);
  }
 -EXPORT_SYMBOL_NS_GPL(cs35l41_hda_remove, SND_HDA_SCODEC_CS35L41);
 +EXPORT_SYMBOL_GPL(cs35l41_hda_remove);
  
  const struct dev_pm_ops cs35l41_hda_pm_ops = {
++<<<<<<< HEAD
 +	SET_RUNTIME_PM_OPS(cs35l41_runtime_suspend, cs35l41_runtime_resume, NULL)
++=======
+ 	RUNTIME_PM_OPS(cs35l41_runtime_suspend, cs35l41_runtime_resume, NULL)
+ 	SYSTEM_SLEEP_PM_OPS(cs35l41_system_suspend, cs35l41_system_resume)
++>>>>>>> 88672826e2a4 (ALSA: hda: cs35l41: Support System Suspend)
  };
 -EXPORT_SYMBOL_NS_GPL(cs35l41_hda_pm_ops, SND_HDA_SCODEC_CS35L41);
 +EXPORT_SYMBOL_GPL(cs35l41_hda_pm_ops);
  
  MODULE_DESCRIPTION("CS35L41 HDA Driver");
 -MODULE_IMPORT_NS(SND_HDA_CS_DSP_CONTROLS);
  MODULE_AUTHOR("Lucas Tanure, Cirrus Logic Inc, <tanureal@opensource.cirrus.com>");
  MODULE_LICENSE("GPL");
* Unmerged path sound/pci/hda/cs35l41_hda.c
