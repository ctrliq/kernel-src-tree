ALSA: usb-audio: Fix possible NULL pointer dereference in snd_usb_pcm_has_fixed_rate()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-499.el8
commit-author Jaroslav Kysela <perex@perex.cz>
commit 92a9c0ad86d47ff4cce899012e355c400f02cfb8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-499.el8/92a9c0ad.failed

The subs function argument may be NULL, so do not use it before the NULL check.

Fixes: 291e9da91403 ("ALSA: usb-audio: Always initialize fixed_rate in snd_usb_find_implicit_fb_sync_format()")
	Reported-by: coverity-bot <keescook@chromium.org>
Link: https://lore.kernel.org/alsa-devel/202301121424.4A79A485@keescook/
	Signed-off-by: Jaroslav Kysela <perex@perex.cz>
Link: https://lore.kernel.org/r/20230113085311.623325-1-perex@perex.cz
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit 92a9c0ad86d47ff4cce899012e355c400f02cfb8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/usb/pcm.c
diff --cc sound/usb/pcm.c
index 42f463696ebf,d959da7a1afb..000000000000
--- a/sound/usb/pcm.c
+++ b/sound/usb/pcm.c
@@@ -156,6 -157,34 +156,37 @@@ find_substream_format(struct snd_usb_su
  			   true, subs);
  }
  
++<<<<<<< HEAD
++=======
+ bool snd_usb_pcm_has_fixed_rate(struct snd_usb_substream *subs)
+ {
+ 	const struct audioformat *fp;
+ 	struct snd_usb_audio *chip;
+ 	int rate = -1;
+ 
+ 	if (!subs)
+ 		return false;
+ 	chip = subs->stream->chip;
+ 	if (!(chip->quirk_flags & QUIRK_FLAG_FIXED_RATE))
+ 		return false;
+ 	list_for_each_entry(fp, &subs->fmt_list, list) {
+ 		if (fp->rates & SNDRV_PCM_RATE_CONTINUOUS)
+ 			return false;
+ 		if (fp->nr_rates < 1)
+ 			continue;
+ 		if (fp->nr_rates > 1)
+ 			return false;
+ 		if (rate < 0) {
+ 			rate = fp->rate_table[0];
+ 			continue;
+ 		}
+ 		if (rate != fp->rate_table[0])
+ 			return false;
+ 	}
+ 	return true;
+ }
+ 
++>>>>>>> 92a9c0ad86d4 (ALSA: usb-audio: Fix possible NULL pointer dereference in snd_usb_pcm_has_fixed_rate())
  static int init_pitch_v1(struct snd_usb_audio *chip, int ep)
  {
  	struct usb_device *dev = chip->dev;
* Unmerged path sound/usb/pcm.c
