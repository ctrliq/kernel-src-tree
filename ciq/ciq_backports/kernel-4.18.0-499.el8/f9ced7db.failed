ASoC: SOF: amd: Fix for selecting clock source as external clock.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-499.el8
commit-author V sujith kumar Reddy <Vsujithkumar.Reddy@amd.com>
commit f9ced7dbbb551885c63632f1594997bdaf2177ee
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-499.el8/f9ced7db.failed

By default clock source is selected as internal clock of 96Mhz
which is not configurable. Now we select the clock source to
external clock (ACLK) which can be configurable to different clock
ranges depending on usecase.

	Signed-off-by: V sujith kumar Reddy <Vsujithkumar.Reddy@amd.com>
Link: https://lore.kernel.org/r/20221123121911.3446224-3-vsujithkumar.reddy@amd.corp-partner.google.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit f9ced7dbbb551885c63632f1594997bdaf2177ee)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/sof/amd/acp.c
#	sound/soc/sof/amd/acp.h
diff --cc sound/soc/sof/amd/acp.c
index 02a7111a5733,47115a77c92c..000000000000
--- a/sound/soc/sof/amd/acp.c
+++ b/sound/soc/sof/amd/acp.c
@@@ -445,7 -458,7 +447,11 @@@ int amd_sof_acp_resume(struct snd_sof_d
  		return ret;
  	}
  
++<<<<<<< HEAD
 +	snd_sof_dsp_write(sdev, ACP_DSP_BAR, ACP_CLKMUX_SEL, 0x03);
++=======
+ 	snd_sof_dsp_write(sdev, ACP_DSP_BAR, desc->acp_clkmux_sel, ACP_CLOCK_ACLK);
++>>>>>>> f9ced7dbbb55 (ASoC: SOF: amd: Fix for selecting clock source as external clock.)
  
  	ret = acp_memory_init(sdev);
  
diff --cc sound/soc/sof/amd/acp.h
index 4c42b8fd6abf,76ad963faec1..000000000000
--- a/sound/soc/sof/amd/acp.h
+++ b/sound/soc/sof/amd/acp.h
@@@ -64,6 -66,17 +64,20 @@@
  #define MBOX_READY_MASK				0x80000000
  #define MBOX_STATUS_MASK			0xFFFF
  
++<<<<<<< HEAD
++=======
+ #define BOX_SIZE_512				0x200
+ #define BOX_SIZE_1024				0x400
+ 
+ enum clock_source {
+ 	ACP_CLOCK_96M = 0,
+ 	ACP_CLOCK_48M,
+ 	ACP_CLOCK_24M,
+ 	ACP_CLOCK_ACLK,
+ 	ACP_CLOCK_MCLK,
+ };
+ 
++>>>>>>> f9ced7dbbb55 (ASoC: SOF: amd: Fix for selecting clock source as external clock.)
  struct  acp_atu_grp_pte {
  	u32 low;
  	u32 high;
* Unmerged path sound/soc/sof/amd/acp.c
* Unmerged path sound/soc/sof/amd/acp.h
