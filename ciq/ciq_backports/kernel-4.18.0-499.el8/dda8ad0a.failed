firewire: cdev: fix potential leak of kernel stack due to uninitialized value

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-499.el8
commit-author Takashi Sakamoto <o-takashi@sakamocchi.jp>
commit dda8ad0aa8af937feb5113952fb7886c74315010
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-499.el8/dda8ad0a.failed

Recent change brings potential leak of value on kernel stack to userspace
due to uninitialized value.

This commit fixes the bug.

	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
Fixes: baa914cd81f5 ("firewire: add kernel API to access CYCLE_TIME register")
	Signed-off-by: Takashi Sakamoto <o-takashi@sakamocchi.jp>
Link: https://lore.kernel.org/r/20220512112037.103142-1-o-takashi@sakamocchi.jp
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit dda8ad0aa8af937feb5113952fb7886c74315010)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/firewire/core-cdev.c
diff --cc drivers/firewire/core-cdev.c
index 141dffa8bbc2,9c89f7d53e99..000000000000
--- a/drivers/firewire/core-cdev.c
+++ b/drivers/firewire/core-cdev.c
@@@ -1225,8 -1210,8 +1225,13 @@@ static int ioctl_get_cycle_timer2(struc
  {
  	struct fw_cdev_get_cycle_timer2 *a = &arg->get_cycle_timer2;
  	struct fw_card *card = client->device->card;
++<<<<<<< HEAD
 +	struct timespec ts = {0, 0};
 +	u32 cycle_time;
++=======
+ 	struct timespec64 ts = {0, 0};
+ 	u32 cycle_time = 0;
++>>>>>>> dda8ad0aa8af (firewire: cdev: fix potential leak of kernel stack due to uninitialized value)
  	int ret = 0;
  
  	local_irq_disable();
* Unmerged path drivers/firewire/core-cdev.c
