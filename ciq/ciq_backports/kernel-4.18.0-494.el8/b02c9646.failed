rtc: move RTC_LIB_KUNIT_TEST to proper location

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-494.el8
commit-author Alexandre Belloni <alexandre.belloni@bootlin.com>
commit b02c96464f443e030be74ddd450c46703fe7ba8c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-494.el8/b02c9646.failed

Move RTC_LIB_KUNIT_TEST under RTC_LIB so it is clear in the menu this is
part of the RTC subsystem.

	Signed-off-by: Alexandre Belloni <alexandre.belloni@bootlin.com>
Link: https://lore.kernel.org/r/20210810212008.631359-2-alexandre.belloni@bootlin.com
(cherry picked from commit b02c96464f443e030be74ddd450c46703fe7ba8c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/rtc/Makefile
diff --cc drivers/rtc/Makefile
index 5ff2fc0c361a,5ceeafe4d5b2..000000000000
--- a/drivers/rtc/Makefile
+++ b/drivers/rtc/Makefile
@@@ -12,15 -10,13 +12,17 @@@ obj-$(CONFIG_RTC_CLASS)		+= rtc-core.
  obj-$(CONFIG_RTC_MC146818_LIB)	+= rtc-mc146818-lib.o
  rtc-core-y			:= class.o interface.o
  
 +ifdef CONFIG_RTC_DRV_EFI
 +rtc-core-y			+= rtc-efi-platform.o
 +endif
 +
  rtc-core-$(CONFIG_RTC_NVMEM)		+= nvmem.o
 -rtc-core-$(CONFIG_RTC_INTF_DEV)		+= dev.o
 -rtc-core-$(CONFIG_RTC_INTF_PROC)	+= proc.o
 -rtc-core-$(CONFIG_RTC_INTF_SYSFS)	+= sysfs.o
 +rtc-core-$(CONFIG_RTC_INTF_DEV)		+= rtc-dev.o
 +rtc-core-$(CONFIG_RTC_INTF_PROC)	+= rtc-proc.o
 +rtc-core-$(CONFIG_RTC_INTF_SYSFS)	+= rtc-sysfs.o
  
+ obj-$(CONFIG_RTC_LIB_KUNIT_TEST)	+= lib_test.o
+ 
  # Keep the list ordered.
  
  obj-$(CONFIG_RTC_DRV_88PM80X)	+= rtc-88pm80x.o
@@@ -175,4 -180,3 +177,7 @@@ obj-$(CONFIG_RTC_DRV_WM8350)	+= rtc-wm8
  obj-$(CONFIG_RTC_DRV_X1205)	+= rtc-x1205.o
  obj-$(CONFIG_RTC_DRV_XGENE)	+= rtc-xgene.o
  obj-$(CONFIG_RTC_DRV_ZYNQMP)	+= rtc-zynqmp.o
++<<<<<<< HEAD
 +obj-$(CONFIG_RTC_DRV_GOLDFISH)	+= rtc-goldfish.o
++=======
++>>>>>>> b02c96464f44 (rtc: move RTC_LIB_KUNIT_TEST to proper location)
diff --git a/drivers/rtc/Kconfig b/drivers/rtc/Kconfig
index a2ba5db36145..88d75bb5f3d7 100644
--- a/drivers/rtc/Kconfig
+++ b/drivers/rtc/Kconfig
@@ -77,6 +77,15 @@ config RTC_DEBUG
 	  Say yes here to enable debugging support in the RTC framework
 	  and individual RTC drivers.
 
+config RTC_LIB_KUNIT_TEST
+	tristate "KUnit test for RTC lib functions" if !KUNIT_ALL_TESTS
+	depends on KUNIT
+	default KUNIT_ALL_TESTS
+	help
+	  Enable this option to test RTC library functions.
+
+	  If unsure, say N.
+
 config RTC_NVMEM
 	bool "RTC non volatile storage support"
 	select NVMEM
* Unmerged path drivers/rtc/Makefile
