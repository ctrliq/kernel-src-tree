lib/Kconfig.debug: change KUnit tests to default to KUNIT_ALL_TESTS

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-494.el8
commit-author Daniel Latypov <dlatypov@google.com>
commit dcbb2ee24601fabbb547fb0c747ca98b876fe5df
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-494.el8/dcbb2ee2.failed

This is in line with Documentation/dev-tools/kunit/style.rst.
Some of these tests predate that so they don't follow this convention.

With this and commit b0841b51cac9 ("kunit: arch/um/configs: Enable
KUNIT_ALL_TESTS by default"), kunit.py will now run these tests by
default. This hopefully makes it easier to run and maintain the tests.
If any of these were to start failing, people would notice much quicker.

Note: this commit doesn't update LINEAR_RANGES_TEST since that would
select its dependency (LINEAR_RANGES). We don't want KUNIT_ALL_TESTS
to enable anything other than test kconfigs.

	Signed-off-by: Daniel Latypov <dlatypov@google.com>
	Reviewed-by: David Gow <davidgow@google.com>
	Reviewed-by: Nico Pache <npache@redhat.com>
	Acked-by: Nico Pache <npache@redhat.com>
	Reviewed-by: Brendan Higgins <brendanhiggins@google.com>
	Signed-off-by: Shuah Khan <skhan@linuxfoundation.org>
(cherry picked from commit dcbb2ee24601fabbb547fb0c747ca98b876fe5df)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	lib/Kconfig.debug
diff --cc lib/Kconfig.debug
index 70fb442cf6f0,36865b37b33b..000000000000
--- a/lib/Kconfig.debug
+++ b/lib/Kconfig.debug
@@@ -1852,11 -2129,22 +1852,19 @@@ config TEST_SOR
  
  	  If unsure, say N.
  
 -config TEST_DIV64
 -	tristate "64bit/32bit division and modulo test"
 -	depends on DEBUG_KERNEL || m
 -	help
 -	  Enable this to turn on 'do_div()' function test. This test is
 -	  executed only once during system boot (so affects only boot time),
 -	  or at module load time.
 -
 -	  If unsure, say N.
 -
  config KPROBES_SANITY_TEST
++<<<<<<< HEAD
 +	bool "Kprobes sanity tests"
 +	depends on DEBUG_KERNEL
 +	depends on KPROBES
 +	default n
++=======
+ 	tristate "Kprobes sanity tests" if !KUNIT_ALL_TESTS
+ 	depends on DEBUG_KERNEL
+ 	depends on KPROBES
+ 	depends on KUNIT
+ 	default KUNIT_ALL_TESTS
++>>>>>>> dcbb2ee24601 (lib/Kconfig.debug: change KUnit tests to default to KUNIT_ALL_TESTS)
  	help
  	  This option provides for testing basic kprobes functionality on
  	  boot. Samples of kprobe and kretprobe are inserted and
@@@ -2082,7 -2417,7 +2090,11 @@@ config TEST_SYSCT
  
  	  If unsure, say N.
  
++<<<<<<< HEAD
 +config BITFIELD_KUNIT_TEST
++=======
+ config BITFIELD_KUNIT
++>>>>>>> dcbb2ee24601 (lib/Kconfig.debug: change KUnit tests to default to KUNIT_ALL_TESTS)
  	tristate "KUnit test bitfield functions at runtime" if !KUNIT_ALL_TESTS
  	depends on KUNIT
  	default KUNIT_ALL_TESTS
@@@ -2104,6 -2439,25 +2116,28 @@@ config RESOURCE_KUNIT_TES
  	depends on KUNIT
  	default KUNIT_ALL_TESTS
  	help
++<<<<<<< HEAD
++=======
+ 	  Enable this option to test the kernel's string (<linux/stringhash.h>), and
+ 	  integer (<linux/hash.h>) hash functions on boot.
+ 
+ 	  KUnit tests run during boot and output the results to the debug log
+ 	  in TAP format (https://testanything.org/). Only useful for kernel devs
+ 	  running the KUnit test harness, and not intended for inclusion into a
+ 	  production build.
+ 
+ 	  For more information on KUnit and unit tests in general please refer
+ 	  to the KUnit documentation in Documentation/dev-tools/kunit/.
+ 
+ 	  This is intended to help people writing architecture-specific
+ 	  optimized versions. If unsure, say N.
+ 
+ config RESOURCE_KUNIT_TEST
+ 	tristate "KUnit test for resource API" if !KUNIT_ALL_TESTS
+ 	depends on KUNIT
+ 	default KUNIT_ALL_TESTS
+ 	help
++>>>>>>> dcbb2ee24601 (lib/Kconfig.debug: change KUnit tests to default to KUNIT_ALL_TESTS)
  	  This builds the resource API unit test.
  	  Tests the logic of API provided by resource.c and ioport.h.
  	  For more information on KUnit and unit tests in general please refer
@@@ -2167,7 -2520,7 +2201,11 @@@ config CMDLINE_KUNIT_TES
  
  	  If unsure, say N.
  
++<<<<<<< HEAD
 +config BITS_KUNIT_TEST
++=======
+ config BITS_TEST
++>>>>>>> dcbb2ee24601 (lib/Kconfig.debug: change KUnit tests to default to KUNIT_ALL_TESTS)
  	tristate "KUnit test for bits.h" if !KUNIT_ALL_TESTS
  	depends on KUNIT
  	default KUNIT_ALL_TESTS
* Unmerged path lib/Kconfig.debug
