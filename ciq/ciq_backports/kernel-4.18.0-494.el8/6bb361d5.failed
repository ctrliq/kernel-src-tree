s390/ipl: add loadparm parameter to eckd ipl/reipl data

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-494.el8
commit-author Sven Schnelle <svens@linux.ibm.com>
commit 6bb361d5d8eb1dbc9e0b190eeee27a2ac4d1119f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-494.el8/6bb361d5.failed

commit 87fd22e0ae92 ("s390/ipl: add eckd support") missed to add the
loadparm attribute to the new eckd ipl/reipl data.

Fixes: 87fd22e0ae92 ("s390/ipl: add eckd support")
	Cc: <stable@vger.kernel.org>
	Signed-off-by: Sven Schnelle <svens@linux.ibm.com>
	Reviewed-by: Heiko Carstens <hca@linux.ibm.com>
	Signed-off-by: Heiko Carstens <hca@linux.ibm.com>
(cherry picked from commit 6bb361d5d8eb1dbc9e0b190eeee27a2ac4d1119f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/s390/kernel/ipl.c
diff --cc arch/s390/kernel/ipl.c
index 0b4f185cc612,5f0f5c86963a..000000000000
--- a/arch/s390/kernel/ipl.c
+++ b/arch/s390/kernel/ipl.c
@@@ -877,23 -889,27 +878,31 @@@ static ssize_t reipl_generic_loadparm_s
  	return len;
  }
  
 -#define DEFINE_GENERIC_LOADPARM(name)							\
 -static ssize_t reipl_##name##_loadparm_show(struct kobject *kobj,			\
 -					    struct kobj_attribute *attr, char *page)	\
 -{											\
 -	return reipl_generic_loadparm_show(reipl_block_##name, page);			\
 -}											\
 -static ssize_t reipl_##name##_loadparm_store(struct kobject *kobj,			\
 -					     struct kobj_attribute *attr,		\
 -					     const char *buf, size_t len)		\
 -{											\
 -	return reipl_generic_loadparm_store(reipl_block_##name, buf, len);		\
 -}											\
 -static struct kobj_attribute sys_reipl_##name##_loadparm_attr =				\
 -	__ATTR(loadparm, 0644, reipl_##name##_loadparm_show,				\
 -	       reipl_##name##_loadparm_store)
 +/* FCP wrapper */
 +static ssize_t reipl_fcp_loadparm_show(struct kobject *kobj,
 +				       struct kobj_attribute *attr, char *page)
 +{
 +	return reipl_generic_loadparm_show(reipl_block_fcp, page);
 +}
  
++<<<<<<< HEAD
 +static ssize_t reipl_fcp_loadparm_store(struct kobject *kobj,
 +					struct kobj_attribute *attr,
 +					const char *buf, size_t len)
 +{
 +	return reipl_generic_loadparm_store(reipl_block_fcp, buf, len);
 +}
 +
 +static struct kobj_attribute sys_reipl_fcp_loadparm_attr =
 +	__ATTR(loadparm, S_IRUGO | S_IWUSR, reipl_fcp_loadparm_show,
 +					    reipl_fcp_loadparm_store);
++=======
+ DEFINE_GENERIC_LOADPARM(fcp);
+ DEFINE_GENERIC_LOADPARM(nvme);
+ DEFINE_GENERIC_LOADPARM(ccw);
+ DEFINE_GENERIC_LOADPARM(nss);
+ DEFINE_GENERIC_LOADPARM(eckd);
++>>>>>>> 6bb361d5d8eb (s390/ipl: add loadparm parameter to eckd ipl/reipl data)
  
  static ssize_t reipl_fcp_clear_show(struct kobject *kobj,
  				    struct kobj_attribute *attr, char *page)
* Unmerged path arch/s390/kernel/ipl.c
