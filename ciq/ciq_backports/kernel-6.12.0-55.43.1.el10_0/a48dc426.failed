x86/mm: Remove X86_FEATURE_USE_IBPB checks in cond_mitigation()

jira LE-4694
Rebuild_History Non-Buildable kernel-6.12.0-55.43.1.el10_0
commit-author Yosry Ahmed <yosry.ahmed@linux.dev>
commit a48dc42614cad39fac1ef55d690847fd07f0e3c6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-6.12.0-55.43.1.el10_0/a48dc426.failed

The check is performed when either switch_mm_cond_ibpb or
switch_mm_always_ibpb is set. In both cases, X86_FEATURE_USE_IBPB is
always set. Remove the redundant check.

	Signed-off-by: Yosry Ahmed <yosry.ahmed@linux.dev>
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
	Acked-by: Josh Poimboeuf <jpoimboe@kernel.org>
Link: https://lore.kernel.org/r/20250227012712.3193063-3-yosry.ahmed@linux.dev
(cherry picked from commit a48dc42614cad39fac1ef55d690847fd07f0e3c6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/mm/tlb.c
diff --cc arch/x86/mm/tlb.c
index 86593d1b787d,30708076abfa..000000000000
--- a/arch/x86/mm/tlb.c
+++ b/arch/x86/mm/tlb.c
@@@ -446,8 -447,7 +446,12 @@@ static void cond_mitigation(struct task
  		 * different context than the user space task which ran
  		 * last on this CPU.
  		 */
++<<<<<<< HEAD
 +		if ((prev_mm & ~LAST_USER_MM_SPEC_MASK) !=
 +					(unsigned long)next->mm)
++=======
+ 		if ((prev_mm & ~LAST_USER_MM_SPEC_MASK) != (unsigned long)next->mm)
++>>>>>>> a48dc42614ca (x86/mm: Remove X86_FEATURE_USE_IBPB checks in cond_mitigation())
  			indirect_branch_prediction_barrier();
  	}
  
* Unmerged path arch/x86/mm/tlb.c
