autofs: fix thinko in validate_dev_ioctl()

jira LE-3201
Rebuild_History Non-Buildable kernel-rt-4.18.0-553.30.1.rt7.371.el8_10
commit-author Ian Kent <raven@themaw.net>
commit f19910006effbd08398de79ca0233ea7e480616a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-rt-4.18.0-553.30.1.rt7.371.el8_10/f1991000.failed

I was so sure the per-dentry expire timeout patch worked ok but my
testing was flawed.

In validate_dev_ioctl() the check for ioctl AUTOFS_DEV_IOCTL_TIMEOUT_CMD
should use the ioctl number not the passed in ioctl command.

Fixes: 433f9d76a010 ("autofs: add per dentry expire timeout")
	Cc: <stable@vger.kernel.org> # mainline only
	Signed-off-by: Ian Kent <raven@themaw.net>
Link: https://lore.kernel.org/r/20241027224732.5507-1-raven@themaw.net
	Signed-off-by: Christian Brauner <brauner@kernel.org>
(cherry picked from commit f19910006effbd08398de79ca0233ea7e480616a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/autofs/dev-ioctl.c
diff --cc fs/autofs/dev-ioctl.c
index e9fe74d1541b,6d57efbb8110..000000000000
--- a/fs/autofs/dev-ioctl.c
+++ b/fs/autofs/dev-ioctl.c
@@@ -129,7 -129,13 +130,12 @@@ static int validate_dev_ioctl(int cmd, 
  			goto out;
  		}
  
 -		/* Setting the per-dentry expire timeout requires a trailing
 -		 * path component, ie. no '/', so invert the logic of the
 -		 * check_name() return for AUTOFS_DEV_IOCTL_TIMEOUT_CMD.
 -		 */
  		err = check_name(param->path);
++<<<<<<< HEAD
++=======
+ 		if (inr == AUTOFS_DEV_IOCTL_TIMEOUT_CMD)
+ 			err = err ? 0 : -EINVAL;
++>>>>>>> f19910006eff (autofs: fix thinko in validate_dev_ioctl())
  		if (err) {
  			pr_warn("invalid path supplied for cmd(0x%08x)\n",
  				cmd);
* Unmerged path fs/autofs/dev-ioctl.c
