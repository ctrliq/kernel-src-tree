drm/amd/amdgpu: Fix asm/hypervisor.h build error.

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-425.3.1.el8
commit-author Yongqiang Sun <yongqiang.sun@amd.com>
commit d9e50239a9611b9a1759e007e9a810c8d178da28
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-425.3.1.el8/d9e50239.failed

Add CONFIG_X86 check to fix the build error.

Fixes: 49aa98ca30cd18 ("drm/amd/amdgpu: Only reserve vram for firmware with vega9 MS_HYPERV host.")
	Reported-by: kernel test robot <lkp@intel.com>
	Signed-off-by: Yongqiang Sun <yongqiang.sun@amd.com>
	Acked-by: Alex Deucher <alexander.deucher@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit d9e50239a9611b9a1759e007e9a810c8d178da28)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_gmc.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_gmc.c
index d0b8d415b63b,88b852b3a2cb..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_gmc.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_gmc.c
@@@ -25,6 -25,9 +25,12 @@@
   */
  
  #include <linux/io-64-nonatomic-lo-hi.h>
++<<<<<<< HEAD
++=======
+ #ifdef CONFIG_X86
+ #include <asm/hypervisor.h>
+ #endif
++>>>>>>> d9e50239a961 (drm/amd/amdgpu: Fix asm/hypervisor.h build error.)
  
  #include "amdgpu.h"
  #include "amdgpu_gmc.h"
@@@ -668,6 -648,17 +674,20 @@@ void amdgpu_gmc_get_vbios_allocations(s
  	 */
  	switch (adev->asic_type) {
  	case CHIP_VEGA10:
++<<<<<<< HEAD
++=======
+ 		adev->mman.keep_stolen_vga_memory = true;
+ 		/*
+ 		 * VEGA10 SRIOV VF with MS_HYPERV host needs some firmware reserved area.
+ 		 */
+ #ifdef CONFIG_X86
+ 		if (amdgpu_sriov_vf(adev) && hypervisor_is_type(X86_HYPER_MS_HYPERV)) {
+ 			adev->mman.stolen_reserved_offset = 0x500000;
+ 			adev->mman.stolen_reserved_size = 0x200000;
+ 		}
+ #endif
+ 		break;
++>>>>>>> d9e50239a961 (drm/amd/amdgpu: Fix asm/hypervisor.h build error.)
  	case CHIP_RAVEN:
  	case CHIP_RENOIR:
  		adev->mman.keep_stolen_vga_memory = true;
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_gmc.c
