mptcp: fix removing ids bitmap setting

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-425.3.1.el8
commit-author Geliang Tang <geliang.tang@suse.com>
commit a4c0214fbee97c46e3f41fee37931d66c0fc3cb1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-425.3.1.el8/a4c0214f.failed

In mptcp_pm_nl_rm_addr_or_subflow(), the bit of rm_list->ids[i] in the
id_avail_bitmap should be set, not rm_list->ids[1]. This patch fixed it.

Fixes: 86e39e04482b ("mptcp: keep track of local endpoint still available for each msk")
	Acked-by: Paolo Abeni <pabeni@redhat.com>
	Signed-off-by: Geliang Tang <geliang.tang@suse.com>
	Signed-off-by: Mat Martineau <mathew.j.martineau@linux.intel.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit a4c0214fbee97c46e3f41fee37931d66c0fc3cb1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/mptcp/pm_netlink.c
diff --cc net/mptcp/pm_netlink.c
index 91db0ac49364,782b1d452269..000000000000
--- a/net/mptcp/pm_netlink.c
+++ b/net/mptcp/pm_netlink.c
@@@ -689,9 -789,9 +689,13 @@@ static void mptcp_pm_nl_rm_addr_or_subf
  			spin_lock_bh(&msk->pm.lock);
  
  			removed = true;
 +			msk->pm.subflows--;
  			__MPTCP_INC_STATS(sock_net(sk), rm_type);
  		}
++<<<<<<< HEAD
++=======
+ 		__set_bit(rm_list->ids[i], msk->pm.id_avail_bitmap);
++>>>>>>> a4c0214fbee9 (mptcp: fix removing ids bitmap setting)
  		if (!removed)
  			continue;
  
* Unmerged path net/mptcp/pm_netlink.c
