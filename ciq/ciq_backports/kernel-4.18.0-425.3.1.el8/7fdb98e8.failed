ACPI: APD: Add a fmw property clk-name

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-425.3.1.el8
commit-author Ajit Kumar Pandey <AjitKumar.Pandey@amd.com>
commit 7fdb98e8a768b3ccc05494d3ea4436047f512b9d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-425.3.1.el8/7fdb98e8.failed

Add a new device property to fetch clk-name from firmware.

	Signed-off-by: Ajit Kumar Pandey <AjitKumar.Pandey@amd.com>
	Reviewed-by: Mario Limonciello <Mario.Limonciello@amd.com>
Link: https://lore.kernel.org/r/20211212180527.1641362-4-AjitKumar.Pandey@amd.com
	Signed-off-by: Stephen Boyd <sboyd@kernel.org>
(cherry picked from commit 7fdb98e8a768b3ccc05494d3ea4436047f512b9d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/acpi/acpi_apd.c
#	include/linux/platform_data/clk-fch.h
diff --cc drivers/acpi/acpi_apd.c
index 9a99017413ac,2b958b426b03..000000000000
--- a/drivers/acpi/acpi_apd.c
+++ b/drivers/acpi/acpi_apd.c
@@@ -90,8 -87,15 +90,20 @@@ static int fch_misc_setup(struct apd_pr
  	if (ret < 0)
  		return -ENOENT;
  
++<<<<<<< HEAD
 +	if (!acpi_dev_get_property(adev, "is-rv", ACPI_TYPE_INTEGER, &obj))
 +		clk_data->is_rv = obj->integer.value;
++=======
+ 	if (!acpi_dev_get_property(adev, "clk-name", ACPI_TYPE_STRING, &obj)) {
+ 		clk_data->name = devm_kzalloc(&adev->dev, obj->string.length,
+ 					      GFP_KERNEL);
+ 
+ 		strcpy(clk_data->name, obj->string.pointer);
+ 	} else {
+ 		/* Set default name to mclk if entry missing in firmware */
+ 		clk_data->name = "mclk";
+ 	}
++>>>>>>> 7fdb98e8a768 (ACPI: APD: Add a fmw property clk-name)
  
  	list_for_each_entry(rentry, &resource_list, node) {
  		clk_data->base = devm_ioremap(&adev->dev, rentry->res->start,
diff --cc include/linux/platform_data/clk-fch.h
index b9f682459f08,11a2a23fd9b2..000000000000
--- a/include/linux/platform_data/clk-fch.h
+++ b/include/linux/platform_data/clk-fch.h
@@@ -12,7 -12,7 +12,11 @@@
  
  struct fch_clk_data {
  	void __iomem *base;
++<<<<<<< HEAD
 +	u32 is_rv;
++=======
+ 	char *name;
++>>>>>>> 7fdb98e8a768 (ACPI: APD: Add a fmw property clk-name)
  };
  
  #endif /* __CLK_FCH_H */
* Unmerged path drivers/acpi/acpi_apd.c
* Unmerged path include/linux/platform_data/clk-fch.h
