NFS NFSD: defining nl4_servers structure needed by both

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-425.3.1.el8
commit-author Olga Kornievskaia <kolga@netapp.com>
commit f9bdad8ca8a40270576dd8751ac225febaa87f93
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-425.3.1.el8/f9bdad8c.failed

These structures are needed by COPY_NOTIFY on the client and needed
by the nfsd as well

	Reviewed-by: Jeff Layton <jlayton@redhat.com>
	Signed-off-by: Olga Kornievskaia <kolga@netapp.com>
(cherry picked from commit f9bdad8ca8a40270576dd8751ac225febaa87f93)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/nfs4.h
diff --cc include/linux/nfs4.h
index ceadea1c757b,5810e248c1bd..000000000000
--- a/include/linux/nfs4.h
+++ b/include/linux/nfs4.h
@@@ -687,20 -675,27 +688,45 @@@ struct nfs4_op_map 
  	} u;
  };
  
++<<<<<<< HEAD
 +enum nfs4_change_attr_type {
 +	NFS4_CHANGE_TYPE_IS_MONOTONIC_INCR = 0,
 +	NFS4_CHANGE_TYPE_IS_VERSION_COUNTER = 1,
 +	NFS4_CHANGE_TYPE_IS_VERSION_COUNTER_NOPNFS = 2,
 +	NFS4_CHANGE_TYPE_IS_TIME_METADATA = 3,
 +	NFS4_CHANGE_TYPE_IS_UNDEFINED = 4,
 +};
 +
 +/*
 + * Options for setxattr. These match the flags for setxattr(2).
 + */
 +enum nfs4_setxattr_options {
 +	SETXATTR4_EITHER	= 0,
 +	SETXATTR4_CREATE	= 1,
 +	SETXATTR4_REPLACE	= 2,
++=======
+ struct nfs42_netaddr {
+ 	char		netid[RPCBIND_MAXNETIDLEN];
+ 	char		addr[RPCBIND_MAXUADDRLEN + 1];
+ 	u32		netid_len;
+ 	u32		addr_len;
+ };
+ 
+ enum netloc_type4 {
+ 	NL4_NAME		= 1,
+ 	NL4_URL			= 2,
+ 	NL4_NETADDR		= 3,
+ };
+ 
+ struct nl4_server {
+ 	enum netloc_type4	nl4_type;
+ 	union {
+ 		struct { /* NL4_NAME, NL4_URL */
+ 			int	nl4_str_sz;
+ 			char	nl4_str[NFS4_OPAQUE_LIMIT + 1];
+ 		};
+ 		struct nfs42_netaddr	nl4_addr; /* NL4_NETADDR */
+ 	} u;
++>>>>>>> f9bdad8ca8a4 (NFS NFSD: defining nl4_servers structure needed by both)
  };
  #endif
* Unmerged path include/linux/nfs4.h
