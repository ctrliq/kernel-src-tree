NFSD: Replace READ* macros in nfsd4_decode_create()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Chuck Lever <chuck.lever@oracle.com>
commit 000dfa18b3df9c62df5f768f9187cf1a94ded71d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/000dfa18.failed

A dedicated decoder for component4 is introduced here, which will be
used by other operation decoders in subsequent patches.

	Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
(cherry picked from commit 000dfa18b3df9c62df5f768f9187cf1a94ded71d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfsd/nfs4xdr.c
diff --cc fs/nfsd/nfs4xdr.c
index 148fec779d69,85283b55834e..000000000000
--- a/fs/nfsd/nfs4xdr.c
+++ b/fs/nfsd/nfs4xdr.c
@@@ -752,21 -749,18 +778,25 @@@ nfsd4_decode_create(struct nfsd4_compou
  	default:
  		break;
  	}
- 
- 	READ_BUF(4);
- 	create->cr_namelen = be32_to_cpup(p++);
- 	READ_BUF(create->cr_namelen);
- 	SAVEMEM(create->cr_name, create->cr_namelen);
- 	if ((status = check_filename(create->cr_name, create->cr_namelen)))
+ 	status = nfsd4_decode_component4(argp, &create->cr_name,
+ 					 &create->cr_namelen);
+ 	if (status)
  		return status;
++<<<<<<< HEAD
 +
 +	status = nfsd4_decode_fattr(argp, create->cr_bmval, &create->cr_iattr,
 +				    &create->cr_acl, &create->cr_label,
 +				    &create->cr_umask);
++=======
+ 	status = nfsd4_decode_fattr4(argp, create->cr_bmval,
+ 				    ARRAY_SIZE(create->cr_bmval),
+ 				    &create->cr_iattr, &create->cr_acl,
+ 				    &create->cr_label, &create->cr_umask);
++>>>>>>> 000dfa18b3df (NFSD: Replace READ* macros in nfsd4_decode_create())
  	if (status)
- 		goto out;
+ 		return status;
  
- 	DECODE_TAIL;
+ 	return nfs_ok;
  }
  
  static inline __be32
* Unmerged path fs/nfsd/nfs4xdr.c
