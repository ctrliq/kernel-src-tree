devlink: fix flexible_array.cocci warning

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Guo Zhengkui <guozhengkui@vivo.com>
commit 96d0c9be432dfd4908e96dde7cab860368a348ab
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/96d0c9be.failed

Fix following coccicheck warning:
./net/core/devlink.c:69:6-10: WARNING use flexible-array member instead

	Signed-off-by: Guo Zhengkui <guozhengkui@vivo.com>
Link: https://lore.kernel.org/r/20211103121607.27490-1-guozhengkui@vivo.com
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 96d0c9be432dfd4908e96dde7cab860368a348ab)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/core/devlink.c
diff --cc net/core/devlink.c
index 2c76ffa3a100,5ba4f9434acd..000000000000
--- a/net/core/devlink.c
+++ b/net/core/devlink.c
@@@ -34,6 -30,63 +34,66 @@@
  #define CREATE_TRACE_POINTS
  #include <trace/events/devlink.h>
  
++<<<<<<< HEAD
++=======
+ #define DEVLINK_RELOAD_STATS_ARRAY_SIZE \
+ 	(__DEVLINK_RELOAD_LIMIT_MAX * __DEVLINK_RELOAD_ACTION_MAX)
+ 
+ struct devlink_dev_stats {
+ 	u32 reload_stats[DEVLINK_RELOAD_STATS_ARRAY_SIZE];
+ 	u32 remote_reload_stats[DEVLINK_RELOAD_STATS_ARRAY_SIZE];
+ };
+ 
+ struct devlink {
+ 	u32 index;
+ 	struct list_head port_list;
+ 	struct list_head rate_list;
+ 	struct list_head sb_list;
+ 	struct list_head dpipe_table_list;
+ 	struct list_head resource_list;
+ 	struct list_head param_list;
+ 	struct list_head region_list;
+ 	struct list_head reporter_list;
+ 	struct mutex reporters_lock; /* protects reporter_list */
+ 	struct devlink_dpipe_headers *dpipe_headers;
+ 	struct list_head trap_list;
+ 	struct list_head trap_group_list;
+ 	struct list_head trap_policer_list;
+ 	const struct devlink_ops *ops;
+ 	u64 features;
+ 	struct xarray snapshot_ids;
+ 	struct devlink_dev_stats stats;
+ 	struct device *dev;
+ 	possible_net_t _net;
+ 	/* Serializes access to devlink instance specific objects such as
+ 	 * port, sb, dpipe, resource, params, region, traps and more.
+ 	 */
+ 	struct mutex lock;
+ 	u8 reload_failed:1;
+ 	refcount_t refcount;
+ 	struct completion comp;
+ 	char priv[] __aligned(NETDEV_ALIGN);
+ };
+ 
+ void *devlink_priv(struct devlink *devlink)
+ {
+ 	return &devlink->priv;
+ }
+ EXPORT_SYMBOL_GPL(devlink_priv);
+ 
+ struct devlink *priv_to_devlink(void *priv)
+ {
+ 	return container_of(priv, struct devlink, priv);
+ }
+ EXPORT_SYMBOL_GPL(priv_to_devlink);
+ 
+ struct device *devlink_to_dev(const struct devlink *devlink)
+ {
+ 	return devlink->dev;
+ }
+ EXPORT_SYMBOL_GPL(devlink_to_dev);
+ 
++>>>>>>> 96d0c9be432d (devlink: fix flexible_array.cocci warning)
  static struct devlink_dpipe_field devlink_dpipe_fields_ethernet[] = {
  	{
  		.name = "destination mac",
* Unmerged path net/core/devlink.c
