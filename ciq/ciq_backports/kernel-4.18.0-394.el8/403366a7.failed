NFSD: Replace READ* macros in nfsd4_decode_setxattr()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Chuck Lever <chuck.lever@oracle.com>
commit 403366a7e8e2930002157525cd44add7fa01bca9
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/403366a7.failed

	Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
(cherry picked from commit 403366a7e8e2930002157525cd44add7fa01bca9)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfsd/nfs4xdr.c
diff --cc fs/nfsd/nfs4xdr.c
index 0f9e24c3bd2e,02e600999da1..000000000000
--- a/fs/nfsd/nfs4xdr.c
+++ b/fs/nfsd/nfs4xdr.c
@@@ -1957,13 -2184,11 +1957,16 @@@ static __be3
  nfsd4_decode_setxattr(struct nfsd4_compoundargs *argp,
  		      struct nfsd4_setxattr *setxattr)
  {
- 	DECODE_HEAD;
  	u32 flags, maxcount, size;
++<<<<<<< HEAD
 +	struct kvec head;
 +	struct page **pagelist;
++=======
+ 	__be32 status;
++>>>>>>> 403366a7e8e2 (NFSD: Replace READ* macros in nfsd4_decode_setxattr())
  
- 	READ_BUF(4);
- 	flags = be32_to_cpup(p++);
+ 	if (xdr_stream_decode_u32(argp->xdr, &flags) < 0)
+ 		return nfserr_bad_xdr;
  
  	if (flags > SETXATTR4_REPLACE)
  		return nfserr_inval;
@@@ -1983,15 -2208,15 +1986,22 @@@
  
  	setxattr->setxa_len = size;
  	if (size > 0) {
 -		struct xdr_buf payload;
 +		status = svcxdr_construct_vector(argp, &head, &pagelist, size);
 +		if (status)
 +			return status;
  
++<<<<<<< HEAD
 +		status = nfsd4_vbuf_from_vector(argp, &head, pagelist,
 +		    &setxattr->setxa_buf, size);
++=======
+ 		if (!xdr_stream_subsegment(argp->xdr, &payload, size))
+ 			return nfserr_bad_xdr;
+ 		status = nfsd4_vbuf_from_vector(argp, &payload,
+ 						&setxattr->setxa_buf, size);
++>>>>>>> 403366a7e8e2 (NFSD: Replace READ* macros in nfsd4_decode_setxattr())
  	}
  
- 	DECODE_TAIL;
+ 	return nfs_ok;
  }
  
  static __be32
* Unmerged path fs/nfsd/nfs4xdr.c
