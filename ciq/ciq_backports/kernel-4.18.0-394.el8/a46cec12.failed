arm64: Reserve HWCAP2_MTE as (1 << 18)

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Catalin Marinas <catalin.marinas@arm.com>
commit a46cec12f4a53ee5113f42b327cbb8d4cda074d2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/a46cec12.failed

While MTE is not supported in the upstream kernel yet, add a comment
that HWCAP2_MTE as (1 << 18) is reserved. Glibc makes use of it for the
resolving (ifunc) of the MTE-safe string routines.

	Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
(cherry picked from commit a46cec12f4a53ee5113f42b327cbb8d4cda074d2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/include/asm/hwcap.h
#	arch/arm64/include/uapi/asm/hwcap.h
#	arch/arm64/kernel/cpuinfo.c
diff --cc arch/arm64/include/asm/hwcap.h
index 8793fb43c406,22f73fe09030..000000000000
--- a/arch/arm64/include/asm/hwcap.h
+++ b/arch/arm64/include/asm/hwcap.h
@@@ -105,6 -94,8 +105,11 @@@
  #define KERNEL_HWCAP_BF16		__khwcap2_feature(BF16)
  #define KERNEL_HWCAP_DGH		__khwcap2_feature(DGH)
  #define KERNEL_HWCAP_RNG		__khwcap2_feature(RNG)
++<<<<<<< HEAD
++=======
+ #define KERNEL_HWCAP_BTI		__khwcap2_feature(BTI)
+ /* reserved for KERNEL_HWCAP_MTE	__khwcap2_feature(MTE) */
++>>>>>>> a46cec12f4a5 (arm64: Reserve HWCAP2_MTE as (1 << 18))
  
  /*
   * This yields a mask that user programs can use to figure out what
diff --cc arch/arm64/include/uapi/asm/hwcap.h
index 7752d93bb50f,912162f73529..000000000000
--- a/arch/arm64/include/uapi/asm/hwcap.h
+++ b/arch/arm64/include/uapi/asm/hwcap.h
@@@ -73,5 -73,7 +73,10 @@@
  #define HWCAP2_BF16		(1 << 14)
  #define HWCAP2_DGH		(1 << 15)
  #define HWCAP2_RNG		(1 << 16)
++<<<<<<< HEAD
++=======
+ #define HWCAP2_BTI		(1 << 17)
+ /* reserved for HWCAP2_MTE	(1 << 18) */
++>>>>>>> a46cec12f4a5 (arm64: Reserve HWCAP2_MTE as (1 << 18))
  
  #endif /* _UAPI__ASM_HWCAP_H */
diff --cc arch/arm64/kernel/cpuinfo.c
index a60acf140f50,393c6fb1f1cb..000000000000
--- a/arch/arm64/kernel/cpuinfo.c
+++ b/arch/arm64/kernel/cpuinfo.c
@@@ -102,6 -92,8 +102,11 @@@ static const char *const hwcap_str[] = 
  	"bf16",
  	"dgh",
  	"rng",
++<<<<<<< HEAD
++=======
+ 	"bti",
+ 	/* reserved for "mte" */
++>>>>>>> a46cec12f4a5 (arm64: Reserve HWCAP2_MTE as (1 << 18))
  	NULL
  };
  
* Unmerged path arch/arm64/include/asm/hwcap.h
* Unmerged path arch/arm64/include/uapi/asm/hwcap.h
* Unmerged path arch/arm64/kernel/cpuinfo.c
