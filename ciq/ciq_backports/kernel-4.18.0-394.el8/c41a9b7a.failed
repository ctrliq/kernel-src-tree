NFSD: Add nfsd_clid_destroyed tracepoint

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Chuck Lever <chuck.lever@oracle.com>
commit c41a9b7a906fb872f8b2b1a34d2a1d5ef7f94adb
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/c41a9b7a.failed

Record client-requested termination of client IDs.

	Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
	Signed-off-by: J. Bruce Fields <bfields@redhat.com>
(cherry picked from commit c41a9b7a906fb872f8b2b1a34d2a1d5ef7f94adb)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfsd/trace.h
diff --cc fs/nfsd/trace.h
index 2c7ada5dbc70,d6ba6a1a1e63..000000000000
--- a/fs/nfsd/trace.h
+++ b/fs/nfsd/trace.h
@@@ -492,6 -511,9 +492,12 @@@ DEFINE_EVENT(nfsd_clientid_class, nfsd_
  	TP_PROTO(const clientid_t *clid), \
  	TP_ARGS(clid))
  
++<<<<<<< HEAD
++=======
+ DEFINE_CLIENTID_EVENT(reclaim_complete);
+ DEFINE_CLIENTID_EVENT(confirmed);
+ DEFINE_CLIENTID_EVENT(destroyed);
++>>>>>>> c41a9b7a906f (NFSD: Add nfsd_clid_destroyed tracepoint)
  DEFINE_CLIENTID_EVENT(expired);
  DEFINE_CLIENTID_EVENT(purged);
  DEFINE_CLIENTID_EVENT(renew);
diff --git a/fs/nfsd/nfs4state.c b/fs/nfsd/nfs4state.c
index 968845cb8307..715df6a64a0b 100644
--- a/fs/nfsd/nfs4state.c
+++ b/fs/nfsd/nfs4state.c
@@ -3864,6 +3864,7 @@ nfsd4_destroy_clientid(struct svc_rqst *rqstp,
 		status = nfserr_wrong_cred;
 		goto out;
 	}
+	trace_nfsd_clid_destroyed(&clp->cl_clientid);
 	unhash_client_locked(clp);
 out:
 	spin_unlock(&nn->client_lock);
* Unmerged path fs/nfsd/trace.h
