md/raid1: use rdev in raid1_write_request directly

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-394.el8
commit-author Guoqing Jiang <guoqing.jiang@linux.dev>
commit 2e94275ed582d9bfe1abc5d5ee565715cc3e6b38
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-394.el8/2e94275e.failed

We already get rdev from conf->mirrors[i].rdev at the beginning of the
loop, so just use it.

	Signed-off-by: Guoqing Jiang <guoqing.jiang@linux.dev>
	Signed-off-by: Song Liu <songliubraving@fb.com>
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit 2e94275ed582d9bfe1abc5d5ee565715cc3e6b38)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/md/raid1.c
diff --cc drivers/md/raid1.c
index 100638178123,7dc8026cf6ee..000000000000
--- a/drivers/md/raid1.c
+++ b/drivers/md/raid1.c
@@@ -1562,11 -1542,10 +1561,15 @@@ static void raid1_write_request(struct 
  		atomic_inc(&r1_bio->remaining);
  
  		if (mddev->gendisk)
 -			trace_block_bio_remap(mbio, disk_devt(mddev->gendisk),
 +			trace_block_bio_remap(mbio->bi_disk->queue,
 +					      mbio, disk_devt(mddev->gendisk),
  					      r1_bio->sector);
  		/* flush_pending_writes() needs access to the rdev so...*/
++<<<<<<< HEAD
 +		mbio->bi_disk = (void *)conf->mirrors[i].rdev;
++=======
+ 		mbio->bi_bdev = (void *)rdev;
++>>>>>>> 2e94275ed582 (md/raid1: use rdev in raid1_write_request directly)
  
  		cb = blk_check_plugged(raid1_unplug, mddev, sizeof(*plug));
  		if (cb)
* Unmerged path drivers/md/raid1.c
