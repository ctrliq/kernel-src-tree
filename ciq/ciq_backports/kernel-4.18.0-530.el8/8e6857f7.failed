crypto: qat - move admin api

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-530.el8
commit-author Giovanni Cabiddu <giovanni.cabiddu@intel.com>
commit 8e6857f76dafba874593107f9e5c20030c5956ed
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-530.el8/8e6857f7.failed

The admin API is growing and deserves its own include.
Move it from adf_common_drv.h to adf_admin.h.

	Signed-off-by: Giovanni Cabiddu <giovanni.cabiddu@intel.com>
	Reviewed-by: Damian Muszynski <damian.muszynski@intel.com>
	Reviewed-by: Tero Kristo <tero.kristo@linux.intel.com>
	Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
(cherry picked from commit 8e6857f76dafba874593107f9e5c20030c5956ed)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/crypto/intel/qat/qat_common/adf_clock.c
#	drivers/crypto/intel/qat/qat_common/adf_cnv_dbgfs.c
#	drivers/crypto/intel/qat/qat_common/adf_fw_counters.c
#	drivers/crypto/intel/qat/qat_common/adf_gen4_pm_debugfs.c
#	drivers/crypto/intel/qat/qat_common/adf_gen4_timer.c
#	drivers/crypto/intel/qat/qat_common/adf_heartbeat.c
#	drivers/crypto/intel/qat/qat_common/adf_heartbeat_dbgfs.c
#	drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
#	drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
#	drivers/crypto/qat/qat_common/adf_admin.h
#	drivers/crypto/qat/qat_common/adf_common_drv.h
diff --cc drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
index 475643654e64,a882e0ea2279..000000000000
--- a/drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
+++ b/drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
@@@ -1,6 -1,8 +1,11 @@@
  // SPDX-License-Identifier: (BSD-3-Clause OR GPL-2.0-only)
  /* Copyright(c) 2014 - 2021 Intel Corporation */
  #include <adf_accel_devices.h>
++<<<<<<< HEAD:drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
++=======
+ #include <adf_admin.h>
+ #include <adf_clock.h>
++>>>>>>> 8e6857f76daf (crypto: qat - move admin api):drivers/crypto/intel/qat/qat_c3xxx/adf_c3xxx_hw_data.c
  #include <adf_common_drv.h>
  #include <adf_gen2_config.h>
  #include <adf_gen2_dc.h>
diff --cc drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
index e14270703670,48cf3eb7c734..000000000000
--- a/drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
+++ b/drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
@@@ -1,6 -1,8 +1,11 @@@
  // SPDX-License-Identifier: (BSD-3-Clause OR GPL-2.0-only)
  /* Copyright(c) 2014 - 2021 Intel Corporation */
  #include <adf_accel_devices.h>
++<<<<<<< HEAD:drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
++=======
+ #include <adf_admin.h>
+ #include <adf_clock.h>
++>>>>>>> 8e6857f76daf (crypto: qat - move admin api):drivers/crypto/intel/qat/qat_c62x/adf_c62x_hw_data.c
  #include <adf_common_drv.h>
  #include <adf_gen2_config.h>
  #include <adf_gen2_dc.h>
diff --cc drivers/crypto/qat/qat_common/adf_common_drv.h
index 30efec7a94e7,f06188033a93..000000000000
--- a/drivers/crypto/qat/qat_common/adf_common_drv.h
+++ b/drivers/crypto/qat/qat_common/adf_common_drv.h
@@@ -86,10 -87,6 +86,13 @@@ void adf_reset_flr(struct adf_accel_de
  void adf_dev_restore(struct adf_accel_dev *accel_dev);
  int adf_init_aer(void);
  void adf_exit_aer(void);
++<<<<<<< HEAD:drivers/crypto/qat/qat_common/adf_common_drv.h
 +int adf_init_admin_comms(struct adf_accel_dev *accel_dev);
 +void adf_exit_admin_comms(struct adf_accel_dev *accel_dev);
 +int adf_send_admin_init(struct adf_accel_dev *accel_dev);
 +int adf_init_admin_pm(struct adf_accel_dev *accel_dev, u32 idle_delay);
++=======
++>>>>>>> 8e6857f76daf (crypto: qat - move admin api):drivers/crypto/intel/qat/qat_common/adf_common_drv.h
  int adf_init_arb(struct adf_accel_dev *accel_dev);
  void adf_exit_arb(struct adf_accel_dev *accel_dev);
  void adf_update_ring_arb(struct adf_etr_ring_data *ring);
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_clock.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_cnv_dbgfs.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_fw_counters.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_gen4_pm_debugfs.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_gen4_timer.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_heartbeat.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_heartbeat_dbgfs.c
* Unmerged path drivers/crypto/qat/qat_common/adf_admin.h
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_clock.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_cnv_dbgfs.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_fw_counters.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_gen4_pm_debugfs.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_gen4_timer.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_heartbeat.c
* Unmerged path drivers/crypto/intel/qat/qat_common/adf_heartbeat_dbgfs.c
diff --git a/drivers/crypto/qat/qat_4xxx/adf_4xxx_hw_data.c b/drivers/crypto/qat/qat_4xxx/adf_4xxx_hw_data.c
index 3eda91aa7c11..a367bdda05dc 100644
--- a/drivers/crypto/qat/qat_4xxx/adf_4xxx_hw_data.c
+++ b/drivers/crypto/qat/qat_4xxx/adf_4xxx_hw_data.c
@@ -2,6 +2,7 @@
 /* Copyright(c) 2020 - 2021 Intel Corporation */
 #include <linux/iopoll.h>
 #include <adf_accel_devices.h>
+#include <adf_admin.h>
 #include <adf_cfg.h>
 #include <adf_common_drv.h>
 #include <adf_gen4_dc.h>
* Unmerged path drivers/crypto/qat/qat_c3xxx/adf_c3xxx_hw_data.c
* Unmerged path drivers/crypto/qat/qat_c62x/adf_c62x_hw_data.c
diff --git a/drivers/crypto/qat/qat_common/adf_admin.c b/drivers/crypto/qat/qat_common/adf_admin.c
index 118775ee02f2..cd5260e491c2 100644
--- a/drivers/crypto/qat/qat_common/adf_admin.c
+++ b/drivers/crypto/qat/qat_common/adf_admin.c
@@ -7,6 +7,7 @@
 #include <linux/pci.h>
 #include <linux/dma-mapping.h>
 #include "adf_accel_devices.h"
+#include "adf_admin.h"
 #include "adf_common_drv.h"
 #include "icp_qat_fw_init_admin.h"
 
* Unmerged path drivers/crypto/qat/qat_common/adf_admin.h
* Unmerged path drivers/crypto/qat/qat_common/adf_common_drv.h
diff --git a/drivers/crypto/qat/qat_common/adf_gen4_pm.c b/drivers/crypto/qat/qat_common/adf_gen4_pm.c
index b0e60471163c..322502ccb967 100644
--- a/drivers/crypto/qat/qat_common/adf_gen4_pm.c
+++ b/drivers/crypto/qat/qat_common/adf_gen4_pm.c
@@ -5,6 +5,7 @@
 #include <linux/kernel.h>
 
 #include "adf_accel_devices.h"
+#include "adf_admin.h"
 #include "adf_common_drv.h"
 #include "adf_gen4_pm.h"
 #include "adf_cfg_strings.h"
diff --git a/drivers/crypto/qat/qat_dh895xcc/adf_dh895xcc_hw_data.c b/drivers/crypto/qat/qat_dh895xcc/adf_dh895xcc_hw_data.c
index 1ebe0b351fae..aafd0e1c9389 100644
--- a/drivers/crypto/qat/qat_dh895xcc/adf_dh895xcc_hw_data.c
+++ b/drivers/crypto/qat/qat_dh895xcc/adf_dh895xcc_hw_data.c
@@ -1,6 +1,7 @@
 // SPDX-License-Identifier: (BSD-3-Clause OR GPL-2.0-only)
 /* Copyright(c) 2014 - 2021 Intel Corporation */
 #include <adf_accel_devices.h>
+#include <adf_admin.h>
 #include <adf_common_drv.h>
 #include <adf_gen2_config.h>
 #include <adf_gen2_dc.h>
