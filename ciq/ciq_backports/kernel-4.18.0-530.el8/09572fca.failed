Bluetooth: hci_sock: Add support for BT_{SND,RCV}BUF

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-530.el8
commit-author Luiz Augusto von Dentz <luiz.von.dentz@intel.com>
commit 09572fca7223bcf32c9f0d5e100d8381a81d55f4
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-530.el8/09572fca.failed

This adds support for BT_{SND,RCV}BUF so userspace can set MTU based on
the channel usage.

Fixes: https://github.com/bluez/bluez/issues/201

	Signed-off-by: Luiz Augusto von Dentz <luiz.von.dentz@intel.com>
	Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
(cherry picked from commit 09572fca7223bcf32c9f0d5e100d8381a81d55f4)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/bluetooth/hci_sock.c
diff --cc net/bluetooth/hci_sock.c
index 410018b1cc5e,99de17922bda..000000000000
--- a/net/bluetooth/hci_sock.c
+++ b/net/bluetooth/hci_sock.c
@@@ -1855,8 -1854,8 +1860,13 @@@ drop
  	goto done;
  }
  
++<<<<<<< HEAD
 +static int hci_sock_setsockopt(struct socket *sock, int level, int optname,
 +			       char __user *optval, unsigned int len)
++=======
+ static int hci_sock_setsockopt_old(struct socket *sock, int level, int optname,
+ 				   sockptr_t optval, unsigned int len)
++>>>>>>> 09572fca7223 (Bluetooth: hci_sock: Add support for BT_{SND,RCV}BUF)
  {
  	struct hci_ufilter uf = { .opcode = 0 };
  	struct sock *sk = sock->sk;
* Unmerged path net/bluetooth/hci_sock.c
