wifi: rtw89: Disallow power save with multiple stations

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-512.el8
commit-author Po-Hao Huang <phhuang@realtek.com>
commit 982a91642708bb55246a7b169cb573866260124c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-512.el8/982a9164.failed

Power saving for more than one station is not supported currently.
Disallow entering PS mode when we have more than one associated
stations.

	Signed-off-by: Po-Hao Huang <phhuang@realtek.com>
	Signed-off-by: Ping-Ke Shih <pkshih@realtek.com>
	Signed-off-by: Kalle Valo <kvalo@kernel.org>
Link: https://lore.kernel.org/r/20230415035016.15788-1-pkshih@realtek.com
(cherry picked from commit 982a91642708bb55246a7b169cb573866260124c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/realtek/rtw89/core.c
diff --cc drivers/net/wireless/realtek/rtw89/core.c
index 631355567f9d,a589f0902a92..000000000000
--- a/drivers/net/wireless/realtek/rtw89/core.c
+++ b/drivers/net/wireless/realtek/rtw89/core.c
@@@ -2309,6 -2509,12 +2309,15 @@@ static void rtw89_vif_enter_lps(struct 
  	    rtwvif->tdls_peer)
  		return;
  
++<<<<<<< HEAD
++=======
+ 	if (rtwdev->total_sta_assoc > 1)
+ 		return;
+ 
+ 	if (rtwvif->offchan)
+ 		return;
+ 
++>>>>>>> 982a91642708 (wifi: rtw89: Disallow power save with multiple stations)
  	if (rtwvif->stats.tx_tfc_lv == RTW89_TFC_IDLE &&
  	    rtwvif->stats.rx_tfc_lv == RTW89_TFC_IDLE)
  		rtw89_enter_lps(rtwdev, rtwvif, true);
* Unmerged path drivers/net/wireless/realtek/rtw89/core.c
