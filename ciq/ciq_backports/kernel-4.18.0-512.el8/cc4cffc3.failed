wifi: brcmfmac: add Cypress 43439 SDIO ids

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-512.el8
commit-author Marek Vasut <marex@denx.de>
commit cc4cffc3c142d57df48c07851862444e1d33bdaa
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-512.el8/cc4cffc3.failed

Add SDIO ids for use with the muRata 1YN (Cypress CYW43439).
The odd thing about this is that the previous 1YN populated
on M.2 card for evaluation purposes had BRCM SDIO vendor ID,
while the chip populated on real hardware has a Cypress one.
The device ID also differs between the two devices. But they
are both 43439 otherwise, so add the IDs for both.

On-device 1YN (43439), the new one, chip label reads "1YN":
```
/sys/.../mmc_host/mmc2/mmc2:0001 # cat vendor device
0x04b4
0xbd3d
```

EA M.2 evaluation board 1YN (43439), the old one, chip label reads "1YN ES1.4":
```
/sys/.../mmc_host/mmc0/mmc0:0001/# cat vendor device
0x02d0
0xa9a6
```

	Reviewed-by: Hans de Goede <hdegoede@redhat.com>
	Cc: stable@vger.kernel.org
	Signed-off-by: Marek Vasut <marex@denx.de>
	Reviewed-by: Simon Horman <simon.horman@corigine.com>
	Signed-off-by: Kalle Valo <kvalo@kernel.org>
Link: https://lore.kernel.org/r/20230407203752.128539-1-marex@denx.de
(cherry picked from commit cc4cffc3c142d57df48c07851862444e1d33bdaa)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/mmc/sdio_ids.h
diff --cc include/linux/mmc/sdio_ids.h
index 5c3349965876,c653accdc7fd..000000000000
--- a/include/linux/mmc/sdio_ids.h
+++ b/include/linux/mmc/sdio_ids.h
@@@ -65,6 -36,51 +65,54 @@@
  #define SDIO_DEVICE_ID_INTEL_IWMC3200BT		0x1406
  #define SDIO_DEVICE_ID_INTEL_IWMC3200WIMAX_2G5	0x1407
  
++<<<<<<< HEAD
++=======
+ #define SDIO_VENDOR_ID_CGUYS			0x0092
+ #define SDIO_DEVICE_ID_CGUYS_EW_CG1102GC	0x0004
+ 
+ #define SDIO_VENDOR_ID_TI			0x0097
+ #define SDIO_DEVICE_ID_TI_WL1271		0x4076
+ 
+ #define SDIO_VENDOR_ID_ATHEROS			0x0271
+ #define SDIO_DEVICE_ID_ATHEROS_AR6003_00	0x0300
+ #define SDIO_DEVICE_ID_ATHEROS_AR6003_01	0x0301
+ #define SDIO_DEVICE_ID_ATHEROS_AR6004_00	0x0400
+ #define SDIO_DEVICE_ID_ATHEROS_AR6004_01	0x0401
+ #define SDIO_DEVICE_ID_ATHEROS_AR6004_02	0x0402
+ #define SDIO_DEVICE_ID_ATHEROS_AR6004_18	0x0418
+ #define SDIO_DEVICE_ID_ATHEROS_AR6004_19	0x0419
+ #define SDIO_DEVICE_ID_ATHEROS_AR6005		0x050A
+ #define SDIO_DEVICE_ID_ATHEROS_QCA9377		0x0701
+ 
+ #define SDIO_VENDOR_ID_BROADCOM			0x02d0
+ #define SDIO_DEVICE_ID_BROADCOM_NINTENDO_WII	0x044b
+ #define SDIO_DEVICE_ID_BROADCOM_43241		0x4324
+ #define SDIO_DEVICE_ID_BROADCOM_4329		0x4329
+ #define SDIO_DEVICE_ID_BROADCOM_4330		0x4330
+ #define SDIO_DEVICE_ID_BROADCOM_4334		0x4334
+ #define SDIO_DEVICE_ID_BROADCOM_4335_4339	0x4335
+ #define SDIO_DEVICE_ID_BROADCOM_4339		0x4339
+ #define SDIO_DEVICE_ID_BROADCOM_4345		0x4345
+ #define SDIO_DEVICE_ID_BROADCOM_4354		0x4354
+ #define SDIO_DEVICE_ID_BROADCOM_CYPRESS_89359	0x4355
+ #define SDIO_DEVICE_ID_BROADCOM_4356		0x4356
+ #define SDIO_DEVICE_ID_BROADCOM_4359		0x4359
+ #define SDIO_DEVICE_ID_BROADCOM_CYPRESS_4373	0x4373
+ #define SDIO_DEVICE_ID_BROADCOM_CYPRESS_43012	0xa804
+ #define SDIO_DEVICE_ID_BROADCOM_43143		0xa887
+ #define SDIO_DEVICE_ID_BROADCOM_43340		0xa94c
+ #define SDIO_DEVICE_ID_BROADCOM_43341		0xa94d
+ #define SDIO_DEVICE_ID_BROADCOM_43362		0xa962
+ #define SDIO_DEVICE_ID_BROADCOM_43364		0xa9a4
+ #define SDIO_DEVICE_ID_BROADCOM_43430		0xa9a6
+ #define SDIO_DEVICE_ID_BROADCOM_43439		0xa9af
+ #define SDIO_DEVICE_ID_BROADCOM_43455		0xa9bf
+ #define SDIO_DEVICE_ID_BROADCOM_CYPRESS_43752	0xaae8
+ 
+ #define SDIO_VENDOR_ID_CYPRESS			0x04b4
+ #define SDIO_DEVICE_ID_BROADCOM_CYPRESS_43439	0xbd3d
+ 
++>>>>>>> cc4cffc3c142 (wifi: brcmfmac: add Cypress 43439 SDIO ids)
  #define SDIO_VENDOR_ID_MARVELL			0x02df
  #define SDIO_DEVICE_ID_MARVELL_LIBERTAS		0x9103
  #define SDIO_DEVICE_ID_MARVELL_8688_WLAN	0x9104
diff --git a/drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c b/drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c
index b9aac382c139..5187f55d3d52 100644
--- a/drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c
+++ b/drivers/net/wireless/broadcom/brcm80211/brcmfmac/bcmsdh.c
@@ -973,6 +973,12 @@ int brcmf_sdiod_probe(struct brcmf_sdio_dev *sdiodev)
 		.driver_data = BRCMF_FWVENDOR_ ## fw_vend \
 	}
 
+#define CYW_SDIO_DEVICE(dev_id, fw_vend) \
+	{ \
+		SDIO_DEVICE(SDIO_VENDOR_ID_CYPRESS, dev_id), \
+		.driver_data = BRCMF_FWVENDOR_ ## fw_vend \
+	}
+
 /* devices we support, null terminated */
 static const struct sdio_device_id brcmf_sdmmc_ids[] = {
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43143, WCC),
@@ -987,6 +993,7 @@ static const struct sdio_device_id brcmf_sdmmc_ids[] = {
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4335_4339, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4339, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43430, WCC),
+	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43439, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4345, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_43455, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4354, WCC),
@@ -994,9 +1001,9 @@ static const struct sdio_device_id brcmf_sdmmc_ids[] = {
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_4359, WCC),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_4373, CYW),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_43012, CYW),
-	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_43439, CYW),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_43752, CYW),
 	BRCMF_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_89359, CYW),
+	CYW_SDIO_DEVICE(SDIO_DEVICE_ID_BROADCOM_CYPRESS_43439, CYW),
 	{ /* end: all zeroes */ }
 };
 MODULE_DEVICE_TABLE(sdio, brcmf_sdmmc_ids);
* Unmerged path include/linux/mmc/sdio_ids.h
