wifi: brcmfmac: Use struct_size() and array_size() in code ralated to struct brcmf_gscan_config

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-496.el8
commit-author Gustavo A. R. Silva <gustavoars@kernel.org>
commit f0e0897b4c7eb590581463125c553bd6bb029808
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-496.el8/f0e0897b.failed

Prefer struct_size() over open-coded versions of idiom:

sizeof(struct-with-flex-array) + sizeof(typeof-flex-array-elements) * count

where count is the max number of items the flexible array is supposed to
contain.

Also, use array_size() in call to memcpy().

Link: https://github.com/KSPP/linux/issues/160
	Signed-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>
	Reviewed-by: Kees Cook <keescook@chromium.org>
	Signed-off-by: Kalle Valo <kvalo@kernel.org>
Link: https://lore.kernel.org/r/de0226a549c8d000d8974e207ede786220a3df1a.1668466470.git.gustavoars@kernel.org
(cherry picked from commit f0e0897b4c7eb590581463125c553bd6bb029808)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/broadcom/brcm80211/brcmfmac/pno.c
diff --cc drivers/net/wireless/broadcom/brcm80211/brcmfmac/pno.c
index d0a7465be586,05f66ab13bed..000000000000
--- a/drivers/net/wireless/broadcom/brcm80211/brcmfmac/pno.c
+++ b/drivers/net/wireless/broadcom/brcm80211/brcmfmac/pno.c
@@@ -405,7 -405,7 +405,11 @@@ static int brcmf_pno_config_sched_scans
  	if (n_buckets < 0)
  		return n_buckets;
  
++<<<<<<< HEAD
 +	gsz = sizeof(*gscan_cfg) + (n_buckets - 1) * sizeof(*buckets);
++=======
+ 	gsz = struct_size(gscan_cfg, bucket, n_buckets);
++>>>>>>> f0e0897b4c7e (wifi: brcmfmac: Use struct_size() and array_size() in code ralated to struct brcmf_gscan_config)
  	gscan_cfg = kzalloc(gsz, GFP_KERNEL);
  	if (!gscan_cfg) {
  		err = -ENOMEM;
* Unmerged path drivers/net/wireless/broadcom/brcm80211/brcmfmac/pno.c
