net: usb: ax88179_178a: avoid failed operations when device is disconnected

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-540.el8
commit-author Jose Ignacio Tornos Martinez <jtornosm@redhat.com>
commit aef05e349bfd81c95adb4489639413fadbb74a83
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-540.el8/aef05e34.failed

When the device is disconnected we get the following messages showing
failed operations:
Nov 28 20:22:11 localhost kernel: usb 2-3: USB disconnect, device number 2
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3: unregister 'ax88179_178a' usb-0000:02:00.0-3, ASIX AX88179 USB 3.0 Gigabit Ethernet
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3: Failed to read reg index 0x0002: -19
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3: Failed to write reg index 0x0002: -19
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3 (unregistered): Failed to write reg index 0x0002: -19
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3 (unregistered): Failed to write reg index 0x0001: -19
Nov 28 20:22:11 localhost kernel: ax88179_178a 2-3:1.0 enp2s0u3 (unregistered): Failed to write reg index 0x0002: -19

The reason is that although the device is detached, normal stop and
unbind operations are commanded from the driver. These operations are
not necessary in this situation, so avoid these logs when the device is
detached if the result of the operation is -ENODEV and if the new flag
informing about the disconnecting status is enabled.

cc:  <stable@vger.kernel.org>
Fixes: e2ca90c276e1f ("ax88179_178a: ASIX AX88179_178A USB 3.0/2.0 to gigabit ethernet adapter driver")
	Signed-off-by: Jose Ignacio Tornos Martinez <jtornosm@redhat.com>
	Acked-by: Alan Stern <stern@rowland.harvard.edu>
Link: https://lore.kernel.org/r/20231207175007.263907-1-jtornosm@redhat.com
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit aef05e349bfd81c95adb4489639413fadbb74a83)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/ax88179_178a.c
diff --cc drivers/net/usb/ax88179_178a.c
index 209dfa6d6df7,5a1bf42ce156..000000000000
--- a/drivers/net/usb/ax88179_178a.c
+++ b/drivers/net/usb/ax88179_178a.c
@@@ -182,7 -170,10 +182,14 @@@ struct ax88179_data 
  	u8  eee_enabled;
  	u8  eee_active;
  	u16 rxctl;
++<<<<<<< HEAD
 +	u16 reserved;
++=======
+ 	u8 in_pm;
+ 	u32 wol_supported;
+ 	u32 wolopts;
+ 	u8 disconnecting;
++>>>>>>> aef05e349bfd (net: usb: ax88179_178a: avoid failed operations when device is disconnected)
  };
  
  struct ax88179_int_data {
* Unmerged path drivers/net/usb/ax88179_178a.c
