usb: typec: tipd: Move tps6598x_disconnect error path to its own label

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-500.el8
commit-author Sven Peter <sven@svenpeter.dev>
commit 53a256ea9596ec78a9f5dd51f2b49c2355b15d6e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-500.el8/53a256ea.failed

While the code currently correctly calls tps6598x_disconnect before jumping
to the error cleanup label it's inconsistent compared to all the other cleanup
actions and prone to introduce bugs if any more resources are added.

	Signed-off-by: Sven Peter <sven@svenpeter.dev>
	Reviewed-by: Heikki Krogerus <heikki.krogerus@linux.intel.com>
Link: https://lore.kernel.org/r/20221114174449.34634-4-sven@svenpeter.dev
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 53a256ea9596ec78a9f5dd51f2b49c2355b15d6e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/usb/typec/tipd/core.c
diff --cc drivers/usb/typec/tipd/core.c
index 1493ef9d4090,982bd2cad931..000000000000
--- a/drivers/usb/typec/tipd/core.c
+++ b/drivers/usb/typec/tipd/core.c
@@@ -699,20 -834,21 +699,32 @@@ static int tps6598x_probe(struct i2c_cl
  	}
  
  	ret = devm_request_threaded_irq(&client->dev, client->irq, NULL,
 -					irq_handler,
 +					tps6598x_interrupt,
  					IRQF_SHARED | IRQF_ONESHOT,
  					dev_name(&client->dev), tps);
++<<<<<<< HEAD
 +	if (ret) {
 +		tps6598x_disconnect(tps, 0);
 +		typec_unregister_port(tps->port);
 +		goto err_role_put;
 +	}
++=======
+ 	if (ret)
+ 		goto err_disconnect;
++>>>>>>> 53a256ea9596 (usb: typec: tipd: Move tps6598x_disconnect error path to its own label)
  
  	i2c_set_clientdata(client, tps);
  	fwnode_handle_put(fwnode);
  
  	return 0;
  
++<<<<<<< HEAD
++=======
+ err_disconnect:
+ 	tps6598x_disconnect(tps, 0);
+ err_unregister_port:
+ 	typec_unregister_port(tps->port);
++>>>>>>> 53a256ea9596 (usb: typec: tipd: Move tps6598x_disconnect error path to its own label)
  err_role_put:
  	usb_role_switch_put(tps->role_sw);
  err_fwnode_put:
* Unmerged path drivers/usb/typec/tipd/core.c
