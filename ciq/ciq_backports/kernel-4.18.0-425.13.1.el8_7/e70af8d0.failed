PCI: hv: Fix the definition of vector in hv_compose_msi_msg()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-425.13.1.el8_7
commit-author Dexuan Cui <decui@microsoft.com>
commit e70af8d040d2b7904dca93d942ba23fb722e21b1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-425.13.1.el8_7/e70af8d0.failed

The local variable 'vector' must be u32 rather than u8: see the
struct hv_msi_desc3.

'vector_count' should be u16 rather than u8: see struct hv_msi_desc,
hv_msi_desc2 and hv_msi_desc3.

Fixes: a2bad844a67b ("PCI: hv: Fix interrupt mapping for multi-MSI")
	Signed-off-by: Dexuan Cui <decui@microsoft.com>
	Cc: Jeffrey Hugo <quic_jhugo@quicinc.com>
	Cc: Carl Vanderlip <quic_carlv@quicinc.com>
	Reviewed-by: Jeffrey Hugo <quic_jhugo@quicinc.com>
Link: https://lore.kernel.org/r/20221027205256.17678-1-decui@microsoft.com
	Signed-off-by: Wei Liu <wei.liu@kernel.org>
(cherry picked from commit e70af8d040d2b7904dca93d942ba23fb722e21b1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/pci/controller/pci-hyperv.c
diff --cc drivers/pci/controller/pci-hyperv.c
index e492e486f75b,ba64284eaf9f..000000000000
--- a/drivers/pci/controller/pci-hyperv.c
+++ b/drivers/pci/controller/pci-hyperv.c
@@@ -1612,8 -1613,8 +1612,13 @@@ static void hv_pci_compose_compl(void *
  }
  
  static u32 hv_compose_msi_req_v1(
++<<<<<<< HEAD
 +	struct pci_create_interrupt *int_pkt, struct cpumask *affinity,
 +	u32 slot, u8 vector, u8 vector_count)
++=======
+ 	struct pci_create_interrupt *int_pkt, const struct cpumask *affinity,
+ 	u32 slot, u8 vector, u16 vector_count)
++>>>>>>> e70af8d040d2 (PCI: hv: Fix the definition of vector in hv_compose_msi_msg())
  {
  	int_pkt->message_type.type = PCI_CREATE_INTERRUPT_MESSAGE;
  	int_pkt->wslot.slot = slot;
@@@ -1640,8 -1641,8 +1645,13 @@@ static int hv_compose_msi_req_get_cpu(s
  }
  
  static u32 hv_compose_msi_req_v2(
++<<<<<<< HEAD
 +	struct pci_create_interrupt2 *int_pkt, struct cpumask *affinity,
 +	u32 slot, u8 vector, u8 vector_count)
++=======
+ 	struct pci_create_interrupt2 *int_pkt, const struct cpumask *affinity,
+ 	u32 slot, u8 vector, u16 vector_count)
++>>>>>>> e70af8d040d2 (PCI: hv: Fix the definition of vector in hv_compose_msi_msg())
  {
  	int cpu;
  
@@@ -1659,8 -1660,8 +1669,13 @@@
  }
  
  static u32 hv_compose_msi_req_v3(
++<<<<<<< HEAD
 +	struct pci_create_interrupt3 *int_pkt, struct cpumask *affinity,
 +	u32 slot, u32 vector, u8 vector_count)
++=======
+ 	struct pci_create_interrupt3 *int_pkt, const struct cpumask *affinity,
+ 	u32 slot, u32 vector, u16 vector_count)
++>>>>>>> e70af8d040d2 (PCI: hv: Fix the definition of vector in hv_compose_msi_msg())
  {
  	int cpu;
  
* Unmerged path drivers/pci/controller/pci-hyperv.c
