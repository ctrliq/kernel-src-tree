scsi: megaraid_sas: Replace undefined MFI_BIG_ENDIAN macro with __BIG_ENDIAN_BITFIELD macro

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-240.el8
commit-author Shivasharan S <shivasharan.srikanteshwara@broadcom.com>
commit b9d5e3e7f370a817c742fb089ac1a86dfe8947dc
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-240.el8/b9d5e3e7.failed

MFI_BIG_ENDIAN macro used in drivers structure bitfield to check the CPU
big endianness is undefined which would break the code on big endian
machine. __BIG_ENDIAN_BITFIELD kernel macro should be used in places of
MFI_BIG_ENDIAN macro.

Link: https://lore.kernel.org/r/20200508085130.23339-1-chandrakanth.patil@broadcom.com
Fixes: a7faf81d7858 ("scsi: megaraid_sas: Set no_write_same only for Virtual Disk")
	Cc: <stable@vger.kernel.org> # v5.6+
	Signed-off-by: Shivasharan S <shivasharan.srikanteshwara@broadcom.com>
	Signed-off-by: Chandrakanth Patil <chandrakanth.patil@broadcom.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit b9d5e3e7f370a817c742fb089ac1a86dfe8947dc)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/megaraid/megaraid_sas_fusion.h
diff --cc drivers/scsi/megaraid/megaraid_sas_fusion.h
index c9f241f6e1af,30de4b01f703..000000000000
--- a/drivers/scsi/megaraid/megaraid_sas_fusion.h
+++ b/drivers/scsi/megaraid/megaraid_sas_fusion.h
@@@ -877,9 -865,20 +877,26 @@@ struct MR_LD_RAID 
  	u8	regTypeReqOnRead;
  	__le16     seqNum;
  
++<<<<<<< HEAD
 +	struct {
 +		u32 ldSyncRequired:1;
 +		u32 reserved:31;
++=======
+ struct {
+ #ifndef __BIG_ENDIAN_BITFIELD
+ 	u32 ldSyncRequired:1;
+ 	u32 regTypeReqOnReadIsValid:1;
+ 	u32 isEPD:1;
+ 	u32 enableSLDOnAllRWIOs:1;
+ 	u32 reserved:28;
+ #else
+ 	u32 reserved:28;
+ 	u32 enableSLDOnAllRWIOs:1;
+ 	u32 isEPD:1;
+ 	u32 regTypeReqOnReadIsValid:1;
+ 	u32 ldSyncRequired:1;
+ #endif
++>>>>>>> b9d5e3e7f370 (scsi: megaraid_sas: Replace undefined MFI_BIG_ENDIAN macro with __BIG_ENDIAN_BITFIELD macro)
  	} flags;
  
  	u8	LUN[8]; /* 0x24 8 byte LUN field used for SCSI IO's */
diff --git a/drivers/scsi/megaraid/megaraid_sas.h b/drivers/scsi/megaraid/megaraid_sas.h
index aba59c38f4a3..a51fdf1d40c5 100644
--- a/drivers/scsi/megaraid/megaraid_sas.h
+++ b/drivers/scsi/megaraid/megaraid_sas.h
@@ -523,7 +523,7 @@ union MR_PROGRESS {
  */
 struct MR_PD_PROGRESS {
 	struct {
-#ifndef MFI_BIG_ENDIAN
+#ifndef __BIG_ENDIAN_BITFIELD
 		u32     rbld:1;
 		u32     patrol:1;
 		u32     clear:1;
@@ -549,7 +549,7 @@ struct MR_PD_PROGRESS {
 	};
 
 	struct {
-#ifndef MFI_BIG_ENDIAN
+#ifndef __BIG_ENDIAN_BITFIELD
 		u32     rbld:1;
 		u32     patrol:1;
 		u32     clear:1;
* Unmerged path drivers/scsi/megaraid/megaraid_sas_fusion.h
