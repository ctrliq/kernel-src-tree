net: usb: r8152: Add MAC passthrough support for more Lenovo Docks

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-502.el8
commit-author Aaron Ma <aaron.ma@canonical.com>
commit f77b83b5bbab53d2be339184838b19ed2c62c0a5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-502.el8/f77b83b5.failed

Like ThinkaPad Thunderbolt 4 Dock, more Lenovo docks start to use the original
Realtek USB ethernet chip ID 0bda:8153.

Lenovo Docks always use their own IDs for usb hub, even for older Docks.
If parent hub is from Lenovo, then r8152 should try MAC passthrough.
Verified on Lenovo TBT3 dock too.

	Signed-off-by: Aaron Ma <aaron.ma@canonical.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit f77b83b5bbab53d2be339184838b19ed2c62c0a5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/usb/r8152.c
diff --cc drivers/net/usb/r8152.c
index 3fc35ae93ecc,f9877a3e83ac..000000000000
--- a/drivers/net/usb/r8152.c
+++ b/drivers/net/usb/r8152.c
@@@ -6892,12 -9603,9 +6892,18 @@@ static int rtl8152_probe(struct usb_int
  		netdev->hw_features &= ~NETIF_F_RXCSUM;
  	}
  
++<<<<<<< HEAD
 +	if (le16_to_cpu(udev->descriptor.idVendor) == VENDOR_ID_LENOVO) {
 +		switch (le16_to_cpu(udev->descriptor.idProduct)) {
 +		case DEVICE_ID_THINKPAD_THUNDERBOLT3_DOCK_GEN2:
 +		case DEVICE_ID_THINKPAD_USB_C_DOCK_GEN2:
 +			set_bit(LENOVO_MACPASSTHRU, &tp->flags);
 +		}
++=======
+ 	if (udev->parent &&
+ 			le16_to_cpu(udev->parent->descriptor.idVendor) == VENDOR_ID_LENOVO) {
+ 		tp->lenovo_macpassthru = 1;
++>>>>>>> f77b83b5bbab (net: usb: r8152: Add MAC passthrough support for more Lenovo Docks)
  	}
  
  	if (le16_to_cpu(udev->descriptor.bcdDevice) == 0x3011 && udev->serial &&
* Unmerged path drivers/net/usb/r8152.c
