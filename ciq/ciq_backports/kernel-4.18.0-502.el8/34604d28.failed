Documentation: In-Field Scan

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-502.el8
commit-author Tony Luck <tony.luck@intel.com>
commit 34604d28916710070390036118fcd21217b0f597
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-502.el8/34604d28.failed

Add documentation for In-Field Scan (IFS). This documentation
describes the basics of IFS, the loading IFS image, chunk
authentication, running scan and how to check result via sysfs.

The CORE_CAPABILITIES MSR enumerates whether IFS is supported.

The full  github location for distributing the IFS images is
still being decided. So just a placeholder included for now
in the documentation.

Future CPUs will support more than one type of test. Plan for
that now by using a "_0" suffix on the ABI directory names.
Additional test types will use "_1", etc.

	Reviewed-by: Dan Williams <dan.j.williams@intel.com>
	Signed-off-by: Tony Luck <tony.luck@intel.com>
	Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
Link: https://lore.kernel.org/r/20220506225410.1652287-13-tony.luck@intel.com
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
(cherry picked from commit 34604d28916710070390036118fcd21217b0f597)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	Documentation/x86/index.rst
#	drivers/platform/x86/intel/ifs/ifs.h
diff --cc Documentation/x86/index.rst
index 0314ae42f1f6,9d8e8a73d57b..000000000000
--- a/Documentation/x86/index.rst
+++ b/Documentation/x86/index.rst
@@@ -3,15 -5,39 +3,23 @@@ x86 architecture specific
  ==========================
  
  .. toctree::
 -   :maxdepth: 2
 -   :numbered:
 +   :maxdepth: 1
  
 -   boot
 -   booting-dt
 -   cpuinfo
 -   topology
 -   exception-tables
 -   kernel-stacks
 -   entry_64
 -   earlyprintk
 -   orc-unwinder
 -   zero-page
 -   tlb
 -   mtrr
 -   pat
 -   intel-hfi
 -   intel-iommu
 -   intel_txt
 -   amd-memory-encryption
 -   amd_hsmp
 -   pti
 +   tdx
     mds
 -   microcode
 -   resctrl
 +   resctrl_ui
     tsx_async_abort
     buslock
++<<<<<<< HEAD
++=======
+    usb-legacy-support
+    i386/index
+    x86_64/index
+    ifs
+    sva
++>>>>>>> 34604d289167 (Documentation: In-Field Scan)
     sgx
 -   features
 +   sva
     elf_auxvec
     xstate
 +   intel-hfi
* Unmerged path drivers/platform/x86/intel/ifs/ifs.h
diff --git a/Documentation/x86/ifs.rst b/Documentation/x86/ifs.rst
new file mode 100644
index 000000000000..97abb696a680
--- /dev/null
+++ b/Documentation/x86/ifs.rst
@@ -0,0 +1,2 @@
+.. SPDX-License-Identifier: GPL-2.0
+.. kernel-doc:: drivers/platform/x86/intel/ifs/ifs.h
* Unmerged path Documentation/x86/index.rst
* Unmerged path drivers/platform/x86/intel/ifs/ifs.h
