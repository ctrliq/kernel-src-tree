net: tcp: make the txhash available in TIME_WAIT sockets for IPv4 too

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-502.el8
commit-author Antoine Tenart <atenart@kernel.org>
commit 4fbfde4e272065943cbcf2d016f0679456cb4f75
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-502.el8/4fbfde4e.failed

Commit c67b85558ff2 ("ipv6: tcp: send consistent autoflowlabel in
TIME_WAIT state") made the socket txhash also available in TIME_WAIT
sockets but for IPv6 only. Make it available for IPv4 too as we'll use
it in later commits.

	Signed-off-by: Antoine Tenart <atenart@kernel.org>
	Reviewed-by: Eric Dumazet <edumazet@google.com>
	Signed-off-by: Paolo Abeni <pabeni@redhat.com>
(cherry picked from commit 4fbfde4e272065943cbcf2d016f0679456cb4f75)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/ipv4/tcp_minisocks.c
diff --cc net/ipv4/tcp_minisocks.c
index 126ba73ebd27,04fc328727e6..000000000000
--- a/net/ipv4/tcp_minisocks.c
+++ b/net/ipv4/tcp_minisocks.c
@@@ -273,7 -302,8 +273,12 @@@ void tcp_time_wait(struct sock *sk, in
  		tcptw->tw_ts_recent_stamp = tp->rx_opt.ts_recent_stamp;
  		tcptw->tw_ts_offset	= tp->tsoffset;
  		tcptw->tw_last_oow_ack_time = 0;
++<<<<<<< HEAD
 +
++=======
+ 		tcptw->tw_tx_delay	= tp->tcp_tx_delay;
+ 		tw->tw_txhash		= sk->sk_txhash;
++>>>>>>> 4fbfde4e2720 (net: tcp: make the txhash available in TIME_WAIT sockets for IPv4 too)
  #if IS_ENABLED(CONFIG_IPV6)
  		if (tw->tw_family == PF_INET6) {
  			struct ipv6_pinfo *np = inet6_sk(sk);
* Unmerged path net/ipv4/tcp_minisocks.c
