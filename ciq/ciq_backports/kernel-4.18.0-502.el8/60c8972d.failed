net/mlx5: Change key type to key purpose

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-502.el8
commit-author Jianbo Liu <jianbol@nvidia.com>
commit 60c8972d2cccba19ce5a993bb8221e609702ef0d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-502.el8/60c8972d.failed

Change the naming of key type in DEK fields and macros, to be
consistent with the device spec.

	Signed-off-by: Jianbo Liu <jianbol@nvidia.com>
	Reviewed-by: Tariq Toukan <tariqt@nvidia.com>
	Signed-off-by: Saeed Mahameed <saeedm@nvidia.com>
(cherry picked from commit 60c8972d2cccba19ce5a993bb8221e609702ef0d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.h
#	include/linux/mlx5/mlx5_ifc.h
diff --cc include/linux/mlx5/mlx5_ifc.h
index a4795284fa6c,1b6201bb04c1..000000000000
--- a/include/linux/mlx5/mlx5_ifc.h
+++ b/include/linux/mlx5/mlx5_ifc.h
@@@ -11689,10 -11859,134 +11689,10 @@@ struct mlx5_ifc_modify_ipsec_obj_in_bit
  struct mlx5_ifc_encryption_key_obj_bits {
  	u8         modify_field_select[0x40];
  
 -	u8         state[0x8];
 -	u8         sw_wrapped[0x1];
 -	u8         reserved_at_49[0xb];
 +	u8         reserved_at_40[0x14];
  	u8         key_size[0x4];
  	u8         reserved_at_58[0x4];
- 	u8         key_type[0x4];
+ 	u8         key_purpose[0x4];
  
  	u8         reserved_at_60[0x8];
  	u8         pd[0x18];
@@@ -11801,8 -12135,9 +11801,14 @@@ enum 
  };
  
  enum {
++<<<<<<< HEAD
 +	MLX5_GENERAL_OBJECT_TYPE_ENCRYPTION_KEY_TYPE_TLS = 0x1,
 +	MLX5_GENERAL_OBJECT_TYPE_ENCRYPTION_KEY_TYPE_IPSEC = 0x2,
++=======
+ 	MLX5_GENERAL_OBJECT_TYPE_ENCRYPTION_KEY_PURPOSE_TLS = 0x1,
+ 	MLX5_GENERAL_OBJECT_TYPE_ENCRYPTION_KEY_PURPOSE_IPSEC = 0x2,
+ 	MLX5_GENERAL_OBJECT_TYPE_ENCRYPTION_KEY_PURPOSE_MACSEC = 0x4,
++>>>>>>> 60c8972d2ccc (net/mlx5: Change key type to key purpose)
  };
  
  struct mlx5_ifc_tls_static_params_bits {
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.h
diff --git a/drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.c b/drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.c
index e995f8378df7..8626f650561f 100644
--- a/drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.c
@@ -41,7 +41,7 @@ int mlx5_create_encryption_key(struct mlx5_core_dev *mdev,
 	memcpy(key_p, key, sz_bytes);
 
 	MLX5_SET(encryption_key_obj, obj, key_size, general_obj_key_size);
-	MLX5_SET(encryption_key_obj, obj, key_type, key_type);
+	MLX5_SET(encryption_key_obj, obj, key_purpose, key_type);
 	MLX5_SET(general_obj_in_cmd_hdr, in, opcode,
 		 MLX5_CMD_OP_CREATE_GENERAL_OBJECT);
 	MLX5_SET(general_obj_in_cmd_hdr, in, obj_type,
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/lib/crypto.h
* Unmerged path include/linux/mlx5/mlx5_ifc.h
