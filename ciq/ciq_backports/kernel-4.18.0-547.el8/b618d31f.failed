x86/boot: Drop references to startup_64

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-547.el8
commit-author Ard Biesheuvel <ardb@kernel.org>
commit b618d31f112bea3d2daea19190d63e567f32a4db
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-547.el8/b618d31f.failed

The x86 boot image generation tool assign a default value to startup_64
and subsequently parses the actual value from zoffset.h but it never
actually uses the value anywhere. So remove this code.

This change has no impact on the resulting bzImage binary.

	Signed-off-by: Ard Biesheuvel <ardb@kernel.org>
	Signed-off-by: Ingo Molnar <mingo@kernel.org>
Link: https://lore.kernel.org/r/20230912090051.4014114-25-ardb@google.com
(cherry picked from commit b618d31f112bea3d2daea19190d63e567f32a4db)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/boot/Makefile
#	arch/x86/boot/tools/build.c
diff --cc arch/x86/boot/Makefile
index e47ccf98cfb0,0e98bc503699..000000000000
--- a/arch/x86/boot/Makefile
+++ b/arch/x86/boot/Makefile
@@@ -89,7 -89,7 +89,11 @@@ $(obj)/vmlinux.bin: $(obj)/compressed/v
  
  SETUP_OBJS = $(addprefix $(obj)/,$(setup-y))
  
++<<<<<<< HEAD
 +sed-zoffset := -e 's/^\([0-9a-fA-F]*\) [ABCDGRSTVW] \(startup_32\|startup_64\|efi32_stub_entry\|efi64_stub_entry\|efi_pe_entry\|input_data\|_end\|_ehead\|_text\|z_.*\)$$/\#define ZO_\2 0x\1/p'
++=======
+ sed-zoffset := -e 's/^\([0-9a-fA-F]*\) [a-zA-Z] \(startup_32\|efi32_stub_entry\|efi64_stub_entry\|efi_pe_entry\|efi32_pe_entry\|input_data\|kernel_info\|_end\|_ehead\|_text\|z_.*\)$$/\#define ZO_\2 0x\1/p'
++>>>>>>> b618d31f112b (x86/boot: Drop references to startup_64)
  
  quiet_cmd_zoffset = ZOFFSET $@
        cmd_zoffset = $(NM) $< | sed -n $(sed-zoffset) > $@
diff --cc arch/x86/boot/tools/build.c
index db1a6f7dea68,10b0207a6b18..000000000000
--- a/arch/x86/boot/tools/build.c
+++ b/arch/x86/boot/tools/build.c
@@@ -49,12 -49,18 +49,27 @@@ u8 buf[SETUP_SECT_MAX*512]
  
  #define PECOFF_RELOC_RESERVE 0x20
  
++<<<<<<< HEAD
 +unsigned long efi32_stub_entry;
 +unsigned long efi64_stub_entry;
 +unsigned long efi_pe_entry;
 +unsigned long startup_64;
 +unsigned long _ehead;
 +unsigned long _end;
++=======
+ #ifdef CONFIG_EFI_MIXED
+ #define PECOFF_COMPAT_RESERVE 0x20
+ #else
+ #define PECOFF_COMPAT_RESERVE 0x0
+ #endif
+ 
+ static unsigned long efi32_stub_entry;
+ static unsigned long efi64_stub_entry;
+ static unsigned long efi_pe_entry;
+ static unsigned long efi32_pe_entry;
+ static unsigned long kernel_info;
+ static unsigned long _end;
++>>>>>>> b618d31f112b (x86/boot: Drop references to startup_64)
  
  /*----------------------------------------------------------------------*/
  
@@@ -308,8 -336,8 +322,13 @@@ static void parse_zoffset(char *fname
  		PARSE_ZOFS(p, efi32_stub_entry);
  		PARSE_ZOFS(p, efi64_stub_entry);
  		PARSE_ZOFS(p, efi_pe_entry);
++<<<<<<< HEAD
 +		PARSE_ZOFS(p, startup_64);
 +		PARSE_ZOFS(p, _ehead);
++=======
+ 		PARSE_ZOFS(p, efi32_pe_entry);
+ 		PARSE_ZOFS(p, kernel_info);
++>>>>>>> b618d31f112b (x86/boot: Drop references to startup_64)
  		PARSE_ZOFS(p, _end);
  
  		p = strchr(p, '\n');
* Unmerged path arch/x86/boot/Makefile
* Unmerged path arch/x86/boot/tools/build.c
