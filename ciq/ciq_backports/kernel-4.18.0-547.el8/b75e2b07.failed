x86/boot: GDT limit value should be size - 1

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-547.el8
commit-author Arvind Sankar <nivedita@alum.mit.edu>
commit b75e2b076d00751579c73cfbbc8a7eac7d2a0468
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-547.el8/b75e2b07.failed

The limit value for the GDTR should be such that adding it to the base
address gives the address of the last byte of the GDT, i.e. it should be
one less than the size, not the size.

	Signed-off-by: Arvind Sankar <nivedita@alum.mit.edu>
Link: https://lore.kernel.org/r/20200202171353.3736319-7-nivedita@alum.mit.edu
	Signed-off-by: Ard Biesheuvel <ardb@kernel.org>
(cherry picked from commit b75e2b076d00751579c73cfbbc8a7eac7d2a0468)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/boot/compressed/head_64.S
diff --cc arch/x86/boot/compressed/head_64.S
index d574fecca8fb,c36e6156b6a3..000000000000
--- a/arch/x86/boot/compressed/head_64.S
+++ b/arch/x86/boot/compressed/head_64.S
@@@ -675,12 -623,13 +675,22 @@@ SYM_CODE_END(trampoline_32bit_src
  #include "../../kernel/verify_cpu.S"
  
  	.data
++<<<<<<< HEAD
 +gdt64:
 +	.word	gdt_end - gdt
++=======
+ SYM_DATA_START_LOCAL(gdt64)
+ 	.word	gdt_end - gdt - 1
++>>>>>>> b75e2b076d00 (x86/boot: GDT limit value should be size - 1)
  	.quad   0
 -SYM_DATA_END(gdt64)
  	.balign	8
++<<<<<<< HEAD
 +gdt:
 +	.word	gdt_end - gdt
++=======
+ SYM_DATA_START_LOCAL(gdt)
+ 	.word	gdt_end - gdt - 1
++>>>>>>> b75e2b076d00 (x86/boot: GDT limit value should be size - 1)
  	.long	gdt
  	.word	0
  	.quad	0x00cf9a000000ffff	/* __KERNEL32_CS */
* Unmerged path arch/x86/boot/compressed/head_64.S
