efi: x86: Fix config name for setting the NX-compatibility flag in the PE header

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-547.el8
commit-author Lukas Bulwahn <lukas.bulwahn@gmail.com>
commit ca209f8b5f61b74782dd4275ebc7173d92cb4905
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-547.el8/ca209f8b.failed

Commit 21b68da7bf4a ("efi: x86: Set the NX-compatibility flag in the PE
header") intends to set the compatibility flag, i.e.,
IMAGE_DLL_CHARACTERISTICS_NX_COMPAT, but this ifdef is actually dead as
the CONFIG_DXE_MEM_ATTRIBUTES Kconfig option does not exist.

The config is actually called EFI_DXE_MEM_ATTRIBUTES. Adjust the ifdef
to use the intended config name.

The issue was identified with ./scripts/checkkconfigsymbols.py.

Fixes: 21b68da7bf4a ("efi: x86: Set the NX-compatibility flag in the PE header")
	Signed-off-by: Lukas Bulwahn <lukas.bulwahn@gmail.com>
Link: https://lore.kernel.org/r/20220601115043.7678-1-lukas.bulwahn@gmail.com
	Signed-off-by: Ard Biesheuvel <ardb@kernel.org>
(cherry picked from commit ca209f8b5f61b74782dd4275ebc7173d92cb4905)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/boot/header.S
diff --cc arch/x86/boot/header.S
index 4df6cba47914,f912d7770130..000000000000
--- a/arch/x86/boot/header.S
+++ b/arch/x86/boot/header.S
@@@ -172,8 -162,12 +172,15 @@@ extra_header_fields
  
  	.long	0x200				# SizeOfHeaders
  	.long	0				# CheckSum
++<<<<<<< HEAD
 +	.word	0xa				# Subsystem (EFI application)
++=======
+ 	.word	IMAGE_SUBSYSTEM_EFI_APPLICATION	# Subsystem (EFI application)
+ #ifdef CONFIG_EFI_DXE_MEM_ATTRIBUTES
+ 	.word	IMAGE_DLL_CHARACTERISTICS_NX_COMPAT	# DllCharacteristics
+ #else
++>>>>>>> ca209f8b5f61 (efi: x86: Fix config name for setting the NX-compatibility flag in the PE header)
  	.word	0				# DllCharacteristics
 -#endif
  #ifdef CONFIG_X86_32
  	.long	0				# SizeOfStackReserve
  	.long	0				# SizeOfStackCommit
* Unmerged path arch/x86/boot/header.S
