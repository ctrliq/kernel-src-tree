cpufreq: ACPI: Only set boost MSRs on supported CPUs

jira LE-1907
Rebuild_History Non-Buildable kernel-5.14.0-284.30.1.el9_2
commit-author Stuart Hayes <stuart.w.hayes@gmail.com>
commit 442046328f27e30ce2c830759af89f42e7169bc1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-5.14.0-284.30.1.el9_2/44204632.failed

Stop trying to set boost MSRs on CPUs that don't support boost.

This corrects a bug in the recent patch "Defer setting boost MSRs".

Fixes: 13fdbc8b8da6 ("cpufreq: ACPI: Defer setting boost MSRs")
	Signed-off-by: Stuart Hayes <stuart.w.hayes@gmail.com>
	Reported-by: Borislav Petkov (AMD) <bp@alien8.de>
	Tested-by: Borislav Petkov (AMD) <bp@alien8.de>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 442046328f27e30ce2c830759af89f42e7169bc1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/cpufreq/acpi-cpufreq.c
diff --cc drivers/cpufreq/acpi-cpufreq.c
index 92c51deaa748,78adfb2ffff6..000000000000
--- a/drivers/cpufreq/acpi-cpufreq.c
+++ b/drivers/cpufreq/acpi-cpufreq.c
@@@ -885,7 -886,11 +885,15 @@@ static int acpi_cpufreq_cpu_init(struc
  	policy->fast_switch_possible = !acpi_pstate_strict &&
  		!(policy_is_shared(policy) && policy->shared_type != CPUFREQ_SHARED_TYPE_ANY);
  
++<<<<<<< HEAD
 +	set_boost(policy, acpi_cpufreq_driver.boost_enabled);
++=======
+ 	if (perf->states[0].core_frequency * 1000 != freq_table[0].frequency)
+ 		pr_warn(FW_WARN "P-state 0 is not max freq\n");
+ 
+ 	if (acpi_cpufreq_driver.set_boost)
+ 		set_boost(policy, acpi_cpufreq_driver.boost_enabled);
++>>>>>>> 442046328f27 (cpufreq: ACPI: Only set boost MSRs on supported CPUs)
  
  	return result;
  
* Unmerged path drivers/cpufreq/acpi-cpufreq.c
