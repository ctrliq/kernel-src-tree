scsi: scsi_debug: Drop scsi_debug_target_reset() NULL pointer checks

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-535.el8
commit-author John Garry <john.g.garry@oracle.com>
commit a15df530a189fcc62003df7a7272b2918a9ef73a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-535.el8/a15df530.failed

The checks for SCSI cmnd, SCSI device, and SCSI host are unnecessary, so
drop them. Likewise, drop the NULL check for sdbg_host.

The only caller is scsi_try_target_reset() -> eh_target_reset_handler(),
and there those pointers cannot be NULL.

	Signed-off-by: John Garry <john.g.garry@oracle.com>
	Acked-by: Douglas Gilbert <dgilbert@interlog.com>
Link: https://lore.kernel.org/r/20230313093114.1498305-6-john.g.garry@oracle.com
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit a15df530a189fcc62003df7a7272b2918a9ef73a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/scsi_debug.c
diff --cc drivers/scsi/scsi_debug.c
index 3abc65c46f9a,f92a0dab0091..000000000000
--- a/drivers/scsi/scsi_debug.c
+++ b/drivers/scsi/scsi_debug.c
@@@ -5394,28 -5393,16 +5395,31 @@@ static int scsi_debug_target_reset(stru
  	int k = 0;
  
  	++num_target_resets;
- 	if (!SCpnt)
- 		goto lie;
- 	sdp = SCpnt->device;
- 	if (!sdp)
- 		goto lie;
  	if (SDEBUG_OPT_ALL_NOISE & sdebug_opts)
  		sdev_printk(KERN_INFO, sdp, "%s\n", __func__);
++<<<<<<< HEAD
 +	hp = sdp->host;
 +	if (!hp)
 +		goto lie;
 +	sdbg_host = *(struct sdebug_host_info **)shost_priv(hp);
 +	if (sdbg_host) {
 +		list_for_each_entry(devip,
 +				    &sdbg_host->dev_info_list,
 +				    dev_list)
 +			if (devip->target == sdp->id) {
 +				set_bit(SDEBUG_UA_BUS_RESET, devip->uas_bm);
 +				++k;
 +			}
++=======
+ 
+ 	list_for_each_entry(devip, &sdbg_host->dev_info_list, dev_list) {
+ 		if (devip->target == sdp->id) {
+ 			set_bit(SDEBUG_UA_BUS_RESET, devip->uas_bm);
+ 			++k;
+ 		}
++>>>>>>> a15df530a189 (scsi: scsi_debug: Drop scsi_debug_target_reset() NULL pointer checks)
  	}
+ 
  	if (SDEBUG_OPT_RESET_NOISE & sdebug_opts)
  		sdev_printk(KERN_INFO, sdp,
  			    "%s: %d device(s) found in target\n", __func__, k);
* Unmerged path drivers/scsi/scsi_debug.c
