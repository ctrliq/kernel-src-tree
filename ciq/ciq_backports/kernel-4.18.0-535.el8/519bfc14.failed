scsi: scsi_debug: Drop scsi_debug_bus_reset() NULL pointer checks

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-535.el8
commit-author John Garry <john.g.garry@oracle.com>
commit 519bfc14c156f31cc113709c71e7f66e0f6f228e
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-535.el8/519bfc14.failed

The checks for SCSI cmnd, SCSI device, and SCSI host are unnecessary, so
drop them. Likewise, drop the NULL check for sdbg_host.

The only caller is scsi_try_bus_reset() -> eh_bus_reset_handler(), and
there those pointers cannot be NULL.

	Signed-off-by: John Garry <john.g.garry@oracle.com>
	Acked-by: Douglas Gilbert <dgilbert@interlog.com>
Link: https://lore.kernel.org/r/20230313093114.1498305-7-john.g.garry@oracle.com
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 519bfc14c156f31cc113709c71e7f66e0f6f228e)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/scsi_debug.c
diff --cc drivers/scsi/scsi_debug.c
index 3abc65c46f9a,c4ece0b24a6f..000000000000
--- a/drivers/scsi/scsi_debug.c
+++ b/drivers/scsi/scsi_debug.c
@@@ -5430,25 -5418,15 +5431,29 @@@ static int scsi_debug_bus_reset(struct 
  	int k = 0;
  
  	++num_bus_resets;
- 	if (!(SCpnt && SCpnt->device))
- 		goto lie;
- 	sdp = SCpnt->device;
+ 
  	if (SDEBUG_OPT_ALL_NOISE & sdebug_opts)
  		sdev_printk(KERN_INFO, sdp, "%s\n", __func__);
++<<<<<<< HEAD
 +	hp = sdp->host;
 +	if (hp) {
 +		sdbg_host = *(struct sdebug_host_info **)shost_priv(hp);
 +		if (sdbg_host) {
 +			list_for_each_entry(devip,
 +					    &sdbg_host->dev_info_list,
 +					    dev_list) {
 +				set_bit(SDEBUG_UA_BUS_RESET, devip->uas_bm);
 +				++k;
 +			}
 +		}
++=======
+ 
+ 	list_for_each_entry(devip, &sdbg_host->dev_info_list, dev_list) {
+ 		set_bit(SDEBUG_UA_BUS_RESET, devip->uas_bm);
+ 		++k;
++>>>>>>> 519bfc14c156 (scsi: scsi_debug: Drop scsi_debug_bus_reset() NULL pointer checks)
  	}
+ 
  	if (SDEBUG_OPT_RESET_NOISE & sdebug_opts)
  		sdev_printk(KERN_INFO, sdp,
  			    "%s: %d device(s) found in host\n", __func__, k);
* Unmerged path drivers/scsi/scsi_debug.c
