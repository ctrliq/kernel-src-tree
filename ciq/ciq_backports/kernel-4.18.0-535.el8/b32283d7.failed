scsi: scsi_debug: Fix missing error code in scsi_debug_init()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-535.el8
commit-author Harshit Mogalapalli <harshit.m.mogalapalli@oracle.com>
commit b32283d75335d8263fc9f5ae16c8a196f1d8b5d5
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-535.el8/b32283d7.failed

Smatch reports: drivers/scsi/scsi_debug.c:6996
	scsi_debug_init() warn: missing error code 'ret'

Although it is unlikely that KMEM_CACHE might fail, but if it does then ret
might be zero. So to fix this explicitly mark ret as "-ENOMEM" and then
goto driver_unreg.

Fixes: 1107c7b24ee3 ("scsi: scsi_debug: Dynamically allocate sdebug_queued_cmd")
	Signed-off-by: Harshit Mogalapalli <harshit.m.mogalapalli@oracle.com>
Link: https://lore.kernel.org/r/20230406074607.3637097-1-harshit.m.mogalapalli@oracle.com
	Reviewed-by: John Garry <john.g.garry@oracle.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit b32283d75335d8263fc9f5ae16c8a196f1d8b5d5)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/scsi_debug.c
diff --cc drivers/scsi/scsi_debug.c
index a67473cb28e1,f4fa1035a191..000000000000
--- a/drivers/scsi/scsi_debug.c
+++ b/drivers/scsi/scsi_debug.c
@@@ -7096,6 -6991,12 +7096,15 @@@ static int __init scsi_debug_init(void
  	hosts_to_add = sdebug_add_host;
  	sdebug_add_host = 0;
  
++<<<<<<< HEAD
++=======
+ 	queued_cmd_cache = KMEM_CACHE(sdebug_queued_cmd, SLAB_HWCACHE_ALIGN);
+ 	if (!queued_cmd_cache) {
+ 		ret = -ENOMEM;
+ 		goto driver_unreg;
+ 	}
+ 
++>>>>>>> b32283d75335 (scsi: scsi_debug: Fix missing error code in scsi_debug_init())
  	for (k = 0; k < hosts_to_add; k++) {
  		if (want_store && k == 0) {
  			ret = sdebug_add_host_helper(idx);
* Unmerged path drivers/scsi/scsi_debug.c
