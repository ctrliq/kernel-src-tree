cpufreq: Add of_perf_domain_get_sharing_cpumask

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-506.el8
commit-author Hector.Yuan <hector.yuan@mediatek.com>
commit 8486a32dd484a7d7ec25295c7439094608f54915
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-506.el8/8486a32d.failed

Add of_perf_domain_get_sharing_cpumask function to group cpu
to specific performance domain.

	Signed-off-by: Hector.Yuan <hector.yuan@mediatek.com>
[ Viresh: create separate routine parse_perf_domain() and always set the
	  cpumask. ]
	Signed-off-by: Viresh Kumar <viresh.kumar@linaro.org>
(cherry picked from commit 8486a32dd484a7d7ec25295c7439094608f54915)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/linux/cpufreq.h
diff --cc include/linux/cpufreq.h
index 9bf76b2cd807,acd3ee5b8b0a..000000000000
--- a/include/linux/cpufreq.h
+++ b/include/linux/cpufreq.h
@@@ -16,7 -14,10 +16,14 @@@
  #include <linux/completion.h>
  #include <linux/kobject.h>
  #include <linux/notifier.h>
++<<<<<<< HEAD
 +#include RH_KABI_HIDE_INCLUDE(<linux/pm_qos.h>)
++=======
+ #include <linux/of.h>
+ #include <linux/of_device.h>
+ #include <linux/pm_opp.h>
+ #include <linux/pm_qos.h>
++>>>>>>> 8486a32dd484 (cpufreq: Add of_perf_domain_get_sharing_cpumask)
  #include <linux/spinlock.h>
  #include <linux/sysfs.h>
  
@@@ -1055,9 -1092,14 +1117,20 @@@ static inline void sched_cpufreq_govern
  extern void arch_freq_prepare_all(void);
  extern unsigned int arch_freq_get_on_cpu(int cpu);
  
++<<<<<<< HEAD
 +extern void arch_set_freq_scale(struct cpumask *cpus, unsigned long cur_freq,
 +				unsigned long max_freq);
 +
++=======
+ #ifndef arch_set_freq_scale
+ static __always_inline
+ void arch_set_freq_scale(const struct cpumask *cpus,
+ 			 unsigned long cur_freq,
+ 			 unsigned long max_freq)
+ {
+ }
+ #endif
++>>>>>>> 8486a32dd484 (cpufreq: Add of_perf_domain_get_sharing_cpumask)
  /* the following are really really optional */
  extern struct freq_attr cpufreq_freq_attr_scaling_available_freqs;
  extern struct freq_attr cpufreq_freq_attr_scaling_boost_freqs;
* Unmerged path include/linux/cpufreq.h
