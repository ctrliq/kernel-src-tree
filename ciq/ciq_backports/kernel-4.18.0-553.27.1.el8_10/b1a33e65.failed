net/mlx5e: Add wrapping for auxiliary_driver ops and remove unused args

jira LE-2169
cve CVE-2024-38608
Rebuild_History Non-Buildable kernel-4.18.0-553.27.1.el8_10
commit-author Tariq Toukan <tariqt@nvidia.com>
commit b1a33e65134786b9ef97f978572531c6004c8526
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-553.27.1.el8_10/b1a33e65.failed

Turn some of the struct auxiliary_driver ops into wrappers to stop
having dummy local vars passed as unused arguments.

	Signed-off-by: Tariq Toukan <tariqt@nvidia.com>
	Reviewed-by: Gal Pressman <gal@nvidia.com>
	Signed-off-by: Saeed Mahameed <saeedm@nvidia.com>
(cherry picked from commit b1a33e65134786b9ef97f978572531c6004c8526)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_main.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_main.c
index 2ed4317157f8,78794268abe7..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_main.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_main.c
@@@ -5731,9 -5984,10 +5731,9 @@@ static int mlx5e_resume(struct auxiliar
  	return 0;
  }
  
- static int mlx5e_suspend(struct auxiliary_device *adev, pm_message_t state)
+ static int _mlx5e_suspend(struct auxiliary_device *adev)
  {
 -	struct mlx5e_dev *mlx5e_dev = auxiliary_get_drvdata(adev);
 -	struct mlx5e_priv *priv = mlx5e_dev->priv;
 +	struct mlx5e_priv *priv = auxiliary_get_drvdata(adev);
  	struct net_device *netdev = priv->netdev;
  	struct mlx5_core_dev *mdev = priv->mdev;
  
@@@ -5754,8 -6012,8 +5758,7 @@@ static int _mlx5e_probe(struct auxiliar
  	struct mlx5_adev *edev = container_of(adev, struct mlx5_adev, adev);
  	const struct mlx5e_profile *profile = &mlx5e_nic_profile;
  	struct mlx5_core_dev *mdev = edev->mdev;
 -	struct mlx5e_dev *mlx5e_dev;
  	struct net_device *netdev;
- 	pm_message_t state = {};
  	struct mlx5e_priv *priv;
  	int err;
  
@@@ -5807,17 -6076,29 +5810,28 @@@ err_destroy_netdev
  	return err;
  }
  
+ static int mlx5e_probe(struct auxiliary_device *adev,
+ 		       const struct auxiliary_device_id *id)
+ {
+ 	return _mlx5e_probe(adev);
+ }
+ 
  static void mlx5e_remove(struct auxiliary_device *adev)
  {
++<<<<<<< HEAD
 +	struct mlx5e_priv *priv = auxiliary_get_drvdata(adev);
 +	pm_message_t state = {};
++=======
+ 	struct mlx5e_dev *mlx5e_dev = auxiliary_get_drvdata(adev);
+ 	struct mlx5e_priv *priv = mlx5e_dev->priv;
++>>>>>>> b1a33e651347 (net/mlx5e: Add wrapping for auxiliary_driver ops and remove unused args)
  
  	mlx5_core_uplink_netdev_set(priv->mdev, NULL);
  	mlx5e_dcbnl_delete_app(priv);
  	unregister_netdev(priv->netdev);
- 	mlx5e_suspend(adev, state);
+ 	_mlx5e_suspend(adev);
  	priv->profile->cleanup(priv);
  	mlx5e_destroy_netdev(priv);
 -	mlx5e_devlink_port_unregister(mlx5e_dev);
 -	mlx5e_destroy_devlink(mlx5e_dev);
  }
  
  static const struct auxiliary_device_id mlx5e_id_table[] = {
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_main.c
