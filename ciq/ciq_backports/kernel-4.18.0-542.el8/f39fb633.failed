selftests/mm: prevent duplicate runs caused by TEST_GEN_PROGS

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-542.el8
commit-author Nico Pache <npache@redhat.com>
commit f39fb633fe9b9a4a7572ec32debf766d971a500b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-542.el8/f39fb633.failed

Commit 05f1edac8009 ("selftests/mm: run all tests from run_vmtests.sh")
fixed the inconsistency caused by tests being defined as TEST_GEN_PROGS. 
This issue was leading to tests not being executed via run_vmtests.sh and
furthermore some tests running twice due to the kselftests wrapper also
executing them.

Fix the definition of two tests (soft-dirty and pagemap_ioctl) that are
still incorrectly defined.

Link: https://lkml.kernel.org/r/20231120222908.28559-1-npache@redhat.com
	Signed-off-by: Nico Pache <npache@redhat.com>
	Reviewed-by: David Hildenbrand <david@redhat.com>
	Cc: Joel Savitz <jsavitz@redhat.com>
	Cc: Shuah Khan <shuah@kernel.org>
	Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
(cherry picked from commit f39fb633fe9b9a4a7572ec32debf766d971a500b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	tools/testing/selftests/vm/Makefile
diff --cc tools/testing/selftests/vm/Makefile
index 57fa1e16c23b,dede0bcf97a3..000000000000
--- a/tools/testing/selftests/vm/Makefile
+++ b/tools/testing/selftests/vm/Makefile
@@@ -40,14 -50,32 +40,26 @@@ TEST_GEN_FILES += khugepage
  TEST_GEN_FILES += map_fixed_noreplace
  TEST_GEN_FILES += map_hugetlb
  TEST_GEN_FILES += map_populate
 -TEST_GEN_FILES += memfd_secret
 -TEST_GEN_FILES += migration
 -TEST_GEN_FILES += mkdirty
  TEST_GEN_FILES += mlock-random-test
  TEST_GEN_FILES += mlock2-tests
 -TEST_GEN_FILES += mrelease_test
 -TEST_GEN_FILES += mremap_dontunmap
 -TEST_GEN_FILES += mremap_test
  TEST_GEN_FILES += on-fault-limit
++<<<<<<< HEAD:tools/testing/selftests/vm/Makefile
++=======
+ TEST_GEN_FILES += pagemap_ioctl
++>>>>>>> f39fb633fe9b (selftests/mm: prevent duplicate runs caused by TEST_GEN_PROGS):tools/testing/selftests/mm/Makefile
  TEST_GEN_FILES += thuge-gen
  TEST_GEN_FILES += transhuge-stress
 -TEST_GEN_FILES += uffd-stress
 -TEST_GEN_FILES += uffd-unit-tests
 -TEST_GEN_FILES += split_huge_page_test
 -TEST_GEN_FILES += ksm_tests
 -TEST_GEN_FILES += ksm_functional_tests
 -TEST_GEN_FILES += mdwe_test
 -TEST_GEN_FILES += hugetlb_fault_after_madv
 +TEST_GEN_FILES += userfaultfd
  
++<<<<<<< HEAD:tools/testing/selftests/vm/Makefile
 +ifeq ($(MACHINE),x86_64)
++=======
+ ifneq ($(ARCH),arm64)
+ TEST_GEN_FILES += soft-dirty
+ endif
+ 
+ ifeq ($(ARCH),x86_64)
++>>>>>>> f39fb633fe9b (selftests/mm: prevent duplicate runs caused by TEST_GEN_PROGS):tools/testing/selftests/mm/Makefile
  CAN_BUILD_I386 := $(shell ./../x86/check_cc.sh "$(CC)" ../x86/trivial_32bit_program.c -m32)
  CAN_BUILD_X86_64 := $(shell ./../x86/check_cc.sh "$(CC)" ../x86/trivial_64bit_program.c)
  CAN_BUILD_WITH_NOPIE := $(shell ./../x86/check_cc.sh "$(CC)" ../x86/trivial_program.c -no-pie)
* Unmerged path tools/testing/selftests/vm/Makefile
