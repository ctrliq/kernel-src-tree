scsi: qedi: remove declaration of nvm_image from stack

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-147.el8
commit-author Colin Ian King <colin.king@canonical.com>
commit 872e192fab643887f143106eb56443d87e5e87c1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-147.el8/872e192f.failed

The nvm_image is a large struct qedi_nvm_iscsi_image object of over 24K so
don't declare it on the stack just for a sizeof requirement; use sizeof on
struct qedi_nvm_iscsi_image instead.

Fixes: c77a2fa3ff8f ("scsi: qedi: Add the CRC size within iSCSI NVM image")
	Signed-off-by: Colin Ian King <colin.king@canonical.com>
	Acked-by: Manish Rangankar <mrangankar@marvell.com>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit 872e192fab643887f143106eb56443d87e5e87c1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/qedi/qedi_main.c
diff --cc drivers/scsi/qedi/qedi_main.c
index 9f02a7d0d162,e5db9a9954dc..000000000000
--- a/drivers/scsi/qedi/qedi_main.c
+++ b/drivers/scsi/qedi/qedi_main.c
@@@ -1392,12 -1392,9 +1392,18 @@@ static void qedi_free_nvm_iscsi_cfg(str
  
  static int qedi_alloc_nvm_iscsi_cfg(struct qedi_ctx *qedi)
  {
++<<<<<<< HEAD
 +	struct qedi_nvm_iscsi_image nvm_image;
 +
 +	qedi->iscsi_image = dma_zalloc_coherent(&qedi->pdev->dev,
 +						sizeof(nvm_image),
 +						&qedi->nvm_buf_dma,
 +						GFP_KERNEL);
++=======
+ 	qedi->iscsi_image = dma_alloc_coherent(&qedi->pdev->dev,
+ 					       sizeof(struct qedi_nvm_iscsi_image),
+ 					       &qedi->nvm_buf_dma, GFP_KERNEL);
++>>>>>>> 872e192fab64 (scsi: qedi: remove declaration of nvm_image from stack)
  	if (!qedi->iscsi_image) {
  		QEDI_ERR(&qedi->dbg_ctx, "Could not allocate NVM BUF.\n");
  		return -ENOMEM;
* Unmerged path drivers/scsi/qedi/qedi_main.c
