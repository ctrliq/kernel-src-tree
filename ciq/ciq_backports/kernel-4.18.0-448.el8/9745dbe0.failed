net/mlx5e: TC, Remove redundant action stack var

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Roi Dayan <roid@nvidia.com>
commit 9745dbe03669cc05139c242faf9afa13fcf289f6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/9745dbe0.failed

Remove the action stack var from parse tc fdb actions
and prase tc nic actions, use the flow attr action var directly.

	Signed-off-by: Roi Dayan <roid@nvidia.com>
	Reviewed-by: Oz Shlomo <ozsh@nvidia.com>
	Reviewed-by: Maor Dickman <maord@nvidia.com>
	Signed-off-by: Saeed Mahameed <saeedm@nvidia.com>
(cherry picked from commit 9745dbe03669cc05139c242faf9afa13fcf289f6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
index fb0797c32550,d869907fdb70..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
@@@ -3465,8 -3457,6 +3465,11 @@@ parse_tc_nic_actions(struct mlx5e_priv 
  	struct pedit_headers_action hdrs[2] = {};
  	const struct flow_action_entry *act;
  	struct mlx5_nic_flow_attr *nic_attr;
++<<<<<<< HEAD
 +	bool clear_action;
 +	u32 action = 0;
++=======
++>>>>>>> 9745dbe03669 (net/mlx5e: TC, Remove redundant action stack var)
  	int err, i;
  
  	if (!flow_action_has_entries(flow_action)) {
@@@ -3920,6 -3903,11 +3920,14 @@@ static int parse_tc_fdb_actions(struct 
  
  	flow_action_for_each(i, act, flow_action) {
  		switch (act->id) {
++<<<<<<< HEAD
++=======
+ 		case FLOW_ACTION_ACCEPT:
+ 			attr->action |= MLX5_FLOW_CONTEXT_ACTION_FWD_DEST |
+ 					MLX5_FLOW_CONTEXT_ACTION_COUNT;
+ 			attr->flags |= MLX5_ESW_ATTR_FLAG_ACCEPT;
+ 			break;
++>>>>>>> 9745dbe03669 (net/mlx5e: TC, Remove redundant action stack var)
  		case FLOW_ACTION_PTYPE:
  			if (act->ptype != PACKET_HOST) {
  				NL_SET_ERR_MSG_MOD(extack,
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/en_tc.c
