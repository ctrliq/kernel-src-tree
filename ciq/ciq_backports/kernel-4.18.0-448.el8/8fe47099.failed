ASoC: Intel: bdw_rt286: Improve codec_init() quality

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Cezary Rojewski <cezary.rojewski@intel.com>
commit 8fe4709962d74a19c0c1dfc877ba600101340c62
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/8fe47099.failed

Drop redundant 'ret' assignemnt, stop ignoring set_jack() return value
and reword local 'component' variable to 'codec' to improve readability.

	Signed-off-by: Cezary Rojewski <cezary.rojewski@intel.com>
	Reviewed-by: Amadeusz Sławiński <amadeuszx.slawinski@linux.intel.com>
	Tested-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/20220620101402.2684366-16-cezary.rojewski@intel.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 8fe4709962d74a19c0c1dfc877ba600101340c62)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/intel/boards/bdw_rt286.c
diff --cc sound/soc/intel/boards/bdw_rt286.c
index aeb840b2dd78,36f984ff56c5..000000000000
--- a/sound/soc/intel/boards/bdw_rt286.c
+++ b/sound/soc/intel/boards/bdw_rt286.c
@@@ -65,35 -59,32 +65,48 @@@ static const struct snd_soc_dapm_route 
  	{"AIF1 Playback", NULL, "SSP0 CODEC OUT"},
  };
  
 -static int codec_link_init(struct snd_soc_pcm_runtime *rtd)
 +static int broadwell_rt286_codec_init(struct snd_soc_pcm_runtime *rtd)
  {
++<<<<<<< HEAD
 +	struct snd_soc_component *component = asoc_rtd_to_codec(rtd, 0)->component;
 +	int ret = 0;
 +	ret = snd_soc_card_jack_new(rtd->card, "Headset",
 +		SND_JACK_HEADSET | SND_JACK_BTN_0, &broadwell_headset,
 +		broadwell_headset_pins, ARRAY_SIZE(broadwell_headset_pins));
 +	if (ret)
 +		return ret;
 +
 +	snd_soc_component_set_jack(component, &broadwell_headset, NULL);
 +	return 0;
++=======
+ 	struct snd_soc_component *codec = asoc_rtd_to_codec(rtd, 0)->component;
+ 	int ret;
+ 
+ 	ret = snd_soc_card_jack_new_pins(rtd->card, "Headset", SND_JACK_HEADSET | SND_JACK_BTN_0,
+ 					 &card_headset, card_headset_pins,
+ 					 ARRAY_SIZE(card_headset_pins));
+ 	if (ret)
+ 		return ret;
+ 
+ 	return snd_soc_component_set_jack(codec, &card_headset, NULL);
++>>>>>>> 8fe4709962d7 (ASoC: Intel: bdw_rt286: Improve codec_init() quality)
  }
  
 -static int codec_link_hw_params_fixup(struct snd_soc_pcm_runtime *rtd,
 -				      struct snd_pcm_hw_params *params)
 +
 +static int broadwell_ssp0_fixup(struct snd_soc_pcm_runtime *rtd,
 +			struct snd_pcm_hw_params *params)
  {
 -	struct snd_interval *channels = hw_param_interval(params, SNDRV_PCM_HW_PARAM_CHANNELS);
 -	struct snd_interval *rate = hw_param_interval(params, SNDRV_PCM_HW_PARAM_RATE);
 +	struct snd_interval *rate = hw_param_interval(params,
 +						      SNDRV_PCM_HW_PARAM_RATE);
 +	struct snd_interval *chan = hw_param_interval(params,
 +						      SNDRV_PCM_HW_PARAM_CHANNELS);
  
 -	/* The ADSP will convert the FE rate to 48kHz, stereo. */
 +	/* The ADSP will covert the FE rate to 48k, stereo */
  	rate->min = rate->max = 48000;
 -	channels->min = channels->max = 2;
 -	/* Set SSP0 to 16 bit. */
 -	params_set_format(params, SNDRV_PCM_FORMAT_S16_LE);
 +	chan->min = chan->max = 2;
  
 +	/* set SSP0 to 16 bit */
 +	params_set_format(params, SNDRV_PCM_FORMAT_S16_LE);
  	return 0;
  }
  
* Unmerged path sound/soc/intel/boards/bdw_rt286.c
