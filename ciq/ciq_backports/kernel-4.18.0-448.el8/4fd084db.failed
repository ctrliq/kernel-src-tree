xfs: Clean up xfs_attr_node_addname_clear_incomplete

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Allison Henderson <allison.henderson@oracle.com>
commit 4fd084dbbd05402bb6e24782b8e9f9ea3e8ab3d6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/4fd084db.failed

We can use the helper function xfs_attr_node_remove_name to reduce
duplicate code in this function

	Signed-off-by: Allison Henderson <allison.henderson@oracle.com>
	Reviewed-by: Chandan Babu R <chandanrlinux@gmail.com>
	Reviewed-by: Darrick J. Wong <djwong@kernel.org>
(cherry picked from commit 4fd084dbbd05402bb6e24782b8e9f9ea3e8ab3d6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/libxfs/xfs_attr.c
diff --cc fs/xfs/libxfs/xfs_attr.c
index bc11a1b3959d,2387a41b705e..000000000000
--- a/fs/xfs/libxfs/xfs_attr.c
+++ b/fs/xfs/libxfs/xfs_attr.c
@@@ -63,6 -61,10 +63,13 @@@ STATIC int xfs_attr_node_hasname(xfs_da
  				 struct xfs_da_state **state);
  STATIC int xfs_attr_fillstate(xfs_da_state_t *state);
  STATIC int xfs_attr_refillstate(xfs_da_state_t *state);
++<<<<<<< HEAD
++=======
+ STATIC int xfs_attr_set_iter(struct xfs_delattr_context *dac,
+ 			     struct xfs_buf **leaf_bp);
+ STATIC int xfs_attr_node_remove_name(struct xfs_da_args *args,
+ 				     struct xfs_da_state *state);
++>>>>>>> 4fd084dbbd05 (xfs: Clean up xfs_attr_node_addname_clear_incomplete)
  
  int
  xfs_inode_hasattr(
@@@ -1084,10 -1205,10 +1091,9 @@@ out
  
  STATIC int
  xfs_attr_node_addname_clear_incomplete(
 -	struct xfs_delattr_context	*dac)
 +	struct xfs_da_args		*args)
  {
 -	struct xfs_da_args		*args = dac->da_args;
  	struct xfs_da_state		*state = NULL;
- 	struct xfs_da_state_blk		*blk;
  	int				retval = 0;
  	int				error = 0;
  
* Unmerged path fs/xfs/libxfs/xfs_attr.c
