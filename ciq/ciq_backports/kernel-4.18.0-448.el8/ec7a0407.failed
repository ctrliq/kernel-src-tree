wifi: mac80211: use IEEE80211_MLD_MAX_NUM_LINKS

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Johannes Berg <johannes.berg@intel.com>
commit ec7a04073d3b31c03a9ad00e0709ffd78b5cfd1b
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/ec7a0407.failed

Remove MAX_STA_LINKS and use IEEE80211_MLD_MAX_NUM_LINKS
instead to unify between the station and other data structures.

	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit ec7a04073d3b31c03a9ad00e0709ffd78b5cfd1b)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/net/mac80211.h
#	net/mac80211/sta_info.h
diff --cc include/net/mac80211.h
index 7d4037ae5055,902a10ee50f2..000000000000
--- a/include/net/mac80211.h
+++ b/include/net/mac80211.h
@@@ -2025,6 -2061,43 +2025,46 @@@ struct ieee80211_sta_txpwr 
  	enum nl80211_tx_power_setting type;
  };
  
++<<<<<<< HEAD
++=======
+ /**
+  * struct ieee80211_link_sta - station Link specific info
+  * All link specific info for a STA link for a non MLD STA(single)
+  * or a MLD STA(multiple entries) are stored here.
+  *
+  * @addr: MAC address of the Link STA. For non-MLO STA this is same as the addr
+  *	in ieee80211_sta. For MLO Link STA this addr can be same or different
+  *	from addr in ieee80211_sta (representing MLD STA addr)
+  * @supp_rates: Bitmap of supported rates
+  * @ht_cap: HT capabilities of this STA; restricted to our own capabilities
+  * @vht_cap: VHT capabilities of this STA; restricted to our own capabilities
+  * @he_cap: HE capabilities of this STA
+  * @he_6ghz_capa: on 6 GHz, holds the HE 6 GHz band capabilities
+  * @eht_cap: EHT capabilities of this STA
+  * @bandwidth: current bandwidth the station can receive with
+  * @rx_nss: in HT/VHT, the maximum number of spatial streams the
+  *	station can receive at the moment, changed by operating mode
+  *	notifications and capabilities. The value is only valid after
+  *	the station moves to associated state.
+  * @txpwr: the station tx power configuration
+  *
+  */
+ struct ieee80211_link_sta {
+ 	u8 addr[ETH_ALEN];
+ 
+ 	u32 supp_rates[NUM_NL80211_BANDS];
+ 	struct ieee80211_sta_ht_cap ht_cap;
+ 	struct ieee80211_sta_vht_cap vht_cap;
+ 	struct ieee80211_sta_he_cap he_cap;
+ 	struct ieee80211_he_6ghz_capa he_6ghz_capa;
+ 	struct ieee80211_sta_eht_cap eht_cap;
+ 
+ 	u8 rx_nss;
+ 	enum ieee80211_sta_rx_bandwidth bandwidth;
+ 	struct ieee80211_sta_txpwr txpwr;
+ };
+ 
++>>>>>>> ec7a04073d3b (wifi: mac80211: use IEEE80211_MLD_MAX_NUM_LINKS)
  /**
   * struct ieee80211_sta - station table entry
   *
@@@ -2120,6 -2186,10 +2160,13 @@@ struct ieee80211_sta 
  
  	struct ieee80211_txq *txq[IEEE80211_NUM_TIDS + 1];
  
++<<<<<<< HEAD
++=======
+ 	bool multi_link_sta;
+ 	struct ieee80211_link_sta deflink;
+ 	struct ieee80211_link_sta *link[IEEE80211_MLD_MAX_NUM_LINKS];
+ 
++>>>>>>> ec7a04073d3b (wifi: mac80211: use IEEE80211_MLD_MAX_NUM_LINKS)
  	/* must be last */
  	u8 drv_priv[] __aligned(sizeof(void *));
  };
diff --cc net/mac80211/sta_info.h
index addc78b398f0,2ff3d5fd0cbf..000000000000
--- a/net/mac80211/sta_info.h
+++ b/net/mac80211/sta_info.h
@@@ -675,6 -708,10 +675,13 @@@ struct sta_info 
  
  	struct ieee80211_fragment_cache frags;
  
++<<<<<<< HEAD
++=======
+ 	bool multi_link_sta;
+ 	struct link_sta_info deflink;
+ 	struct link_sta_info *link[IEEE80211_MLD_MAX_NUM_LINKS];
+ 
++>>>>>>> ec7a04073d3b (wifi: mac80211: use IEEE80211_MLD_MAX_NUM_LINKS)
  	/* keep last! */
  	struct ieee80211_sta sta;
  };
* Unmerged path include/net/mac80211.h
* Unmerged path net/mac80211/sta_info.h
