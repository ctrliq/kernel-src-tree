xfs: Initialize error in xfs_attr_remove_iter

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Allison Henderson <allison.henderson@oracle.com>
commit d3a3340b6af28ab79a66687973fb0287d976d490
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/d3a3340b.failed

A recent bug report generated a warning that a code path in
xfs_attr_remove_iter could potentially return error uninitialized in the
case of XFS_DAS_RM_SHRINK state.  Fix this by initializing error.

	Signed-off-by: Allison Henderson <allison.henderson@oracle.com>
	Reported-by: Dan Carpenter <dan.carpenter@oracle.com>
	Reviewed-by: Brian Foster <bfoster@redhat.com>
	Reviewed-by: Bill O'Donnell <bodonnel@redhat.com>
	Reviewed-by: Darrick J. Wong <djwong@kernel.org>
	Signed-off-by: Darrick J. Wong <djwong@kernel.org>
(cherry picked from commit d3a3340b6af28ab79a66687973fb0287d976d490)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/libxfs/xfs_attr.c
diff --cc fs/xfs/libxfs/xfs_attr.c
index bc11a1b3959d,d9d7d5137b73..000000000000
--- a/fs/xfs/libxfs/xfs_attr.c
+++ b/fs/xfs/libxfs/xfs_attr.c
@@@ -1247,14 -1363,20 +1247,21 @@@ xfs_attr_node_remove_name
   * This will involve walking down the Btree, and may involve joining
   * leaf nodes and even joining intermediate nodes up to and including
   * the root node (a special case of an intermediate node).
 - *
 - * This routine is meant to function as either an in-line or delayed operation,
 - * and may return -EAGAIN when the transaction needs to be rolled.  Calling
 - * functions will need to handle this, and call the function until a
 - * successful error code is returned.
   */
 -int
 -xfs_attr_remove_iter(
 -	struct xfs_delattr_context	*dac)
 +STATIC int
 +xfs_attr_node_removename(
 +	struct xfs_da_args	*args)
  {
++<<<<<<< HEAD
 +	struct xfs_da_state	*state;
 +	int			retval, error;
 +	struct xfs_inode	*dp = args->dp;
++=======
+ 	struct xfs_da_args		*args = dac->da_args;
+ 	struct xfs_da_state		*state = dac->da_state;
+ 	int				retval, error = 0;
+ 	struct xfs_inode		*dp = args->dp;
++>>>>>>> d3a3340b6af2 (xfs: Initialize error in xfs_attr_remove_iter)
  
  	trace_xfs_attr_node_removename(args);
  
* Unmerged path fs/xfs/libxfs/xfs_attr.c
