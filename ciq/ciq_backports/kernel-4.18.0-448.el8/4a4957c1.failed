xfs: Fix default ASSERT in xfs_attr_set_iter

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Allison Henderson <allison.henderson@oracle.com>
commit 4a4957c16dc674d1306a3b43d6b07ed93a7b7a14
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/4a4957c1.failed

This ASSERT checks for the state value of RM_SHRINK in the set path
which should never happen.  Change to ASSERT(0);

	Suggested-by: Darrick J. Wong <djwong@kernel.org>
	Signed-off-by: Allison Henderson <allison.henderson@oracle.com>
	Reviewed-by: Chandan Babu R <chandanrlinux@gmail.com>
	Reviewed-by: Darrick J. Wong <djwong@kernel.org>
(cherry picked from commit 4a4957c16dc674d1306a3b43d6b07ed93a7b7a14)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/xfs/libxfs/xfs_attr.c
diff --cc fs/xfs/libxfs/xfs_attr.c
index bc11a1b3959d,a0edebc098ea..000000000000
--- a/fs/xfs/libxfs/xfs_attr.c
+++ b/fs/xfs/libxfs/xfs_attr.c
@@@ -500,12 -590,31 +500,39 @@@ node
  		if (error)
  			return error;
  
++<<<<<<< HEAD
 +		error = xfs_attr_rmtval_remove(args);
 +		if (error)
 +			return error;
++=======
+ 		/* fallthrough */
+ 	case XFS_DAS_RM_NBLK:
+ 		/* Set state in case xfs_attr_rmtval_remove returns -EAGAIN */
+ 		dac->dela_state = XFS_DAS_RM_NBLK;
+ 		if (args->rmtblkno) {
+ 			error = __xfs_attr_rmtval_remove(dac);
+ 			if (error)
+ 				return error;
+ 
+ 			dac->dela_state = XFS_DAS_CLR_FLAG;
+ 			return -EAGAIN;
+ 		}
+ 
+ 		/* fallthrough */
+ 	case XFS_DAS_CLR_FLAG:
+ 		/*
+ 		 * The last state for node format. Look up the old attr and
+ 		 * remove it.
+ 		 */
+ 		error = xfs_attr_node_addname_clear_incomplete(dac);
+ 		break;
+ 	default:
+ 		ASSERT(0);
+ 		break;
++>>>>>>> 4a4957c16dc6 (xfs: Fix default ASSERT in xfs_attr_set_iter)
  	}
 +
 +	error = xfs_attr_node_addname_clear_incomplete(args);
  out:
  	return error;
  }
* Unmerged path fs/xfs/libxfs/xfs_attr.c
