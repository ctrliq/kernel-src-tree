ASoC: Intel: bdw_rt286: Remove FE DAI ops

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Cezary Rojewski <cezary.rojewski@intel.com>
commit e7f68863545163ec75b6bc3cc48fe888c28e0ec6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/e7f68863.failed

bdw_rt286_fe_ops is redundant as platform components already limit the
number of channels available for the endpoint.

	Signed-off-by: Cezary Rojewski <cezary.rojewski@intel.com>
	Reviewed-by: Amadeusz Sławiński <amadeuszx.slawinski@linux.intel.com>
	Tested-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/20220620101402.2684366-18-cezary.rojewski@intel.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit e7f68863545163ec75b6bc3cc48fe888c28e0ec6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/intel/boards/bdw_rt286.c
diff --cc sound/soc/intel/boards/bdw_rt286.c
index aeb840b2dd78,47eaddb00936..000000000000
--- a/sound/soc/intel/boards/bdw_rt286.c
+++ b/sound/soc/intel/boards/bdw_rt286.c
@@@ -115,61 -104,21 +115,68 @@@ static int broadwell_rt286_hw_params(st
  	return ret;
  }
  
 -static const struct snd_soc_ops codec_link_ops = {
 -	.hw_params = codec_link_hw_params,
 +static const struct snd_soc_ops broadwell_rt286_ops = {
 +	.hw_params = broadwell_rt286_hw_params,
 +};
 +
++<<<<<<< HEAD
 +static const unsigned int channels[] = {
 +	2,
 +};
 +
 +static const struct snd_pcm_hw_constraint_list constraints_channels = {
 +	.count = ARRAY_SIZE(channels),
 +	.list = channels,
 +	.mask = 0,
 +};
 +
 +static int broadwell_fe_startup(struct snd_pcm_substream *substream)
 +{
 +	struct snd_pcm_runtime *runtime = substream->runtime;
 +
 +	/* Board supports stereo configuration only */
 +	runtime->hw.channels_max = 2;
 +	return snd_pcm_hw_constraint_list(runtime, 0,
 +					  SNDRV_PCM_HW_PARAM_CHANNELS,
 +					  &constraints_channels);
 +}
 +
 +static const struct snd_soc_ops broadwell_fe_ops = {
 +	.startup = broadwell_fe_startup,
  };
  
 +SND_SOC_DAILINK_DEF(system,
 +	DAILINK_COMP_ARRAY(COMP_CPU("System Pin")));
++=======
+ SND_SOC_DAILINK_DEF(system, DAILINK_COMP_ARRAY(COMP_CPU("System Pin")));
+ SND_SOC_DAILINK_DEF(offload0, DAILINK_COMP_ARRAY(COMP_CPU("Offload0 Pin")));
+ SND_SOC_DAILINK_DEF(offload1, DAILINK_COMP_ARRAY(COMP_CPU("Offload1 Pin")));
+ SND_SOC_DAILINK_DEF(loopback, DAILINK_COMP_ARRAY(COMP_CPU("Loopback Pin")));
++>>>>>>> e7f688635451 (ASoC: Intel: bdw_rt286: Remove FE DAI ops)
 +
 +SND_SOC_DAILINK_DEF(offload0,
 +	DAILINK_COMP_ARRAY(COMP_CPU("Offload0 Pin")));
 +
 +SND_SOC_DAILINK_DEF(offload1,
 +	DAILINK_COMP_ARRAY(COMP_CPU("Offload1 Pin")));
 +
 +SND_SOC_DAILINK_DEF(loopback,
 +	DAILINK_COMP_ARRAY(COMP_CPU("Loopback Pin")));
  
 -SND_SOC_DAILINK_DEF(dummy, DAILINK_COMP_ARRAY(COMP_DUMMY()));
 -SND_SOC_DAILINK_DEF(platform, DAILINK_COMP_ARRAY(COMP_PLATFORM("haswell-pcm-audio")));
 -SND_SOC_DAILINK_DEF(codec, DAILINK_COMP_ARRAY(COMP_CODEC("i2c-INT343A:00", "rt286-aif1")));
 -SND_SOC_DAILINK_DEF(ssp0_port, DAILINK_COMP_ARRAY(COMP_CPU("ssp0-port")));
 +SND_SOC_DAILINK_DEF(dummy,
 +	DAILINK_COMP_ARRAY(COMP_DUMMY()));
  
 -static struct snd_soc_dai_link card_dai_links[] = {
 +SND_SOC_DAILINK_DEF(platform,
 +	DAILINK_COMP_ARRAY(COMP_PLATFORM("haswell-pcm-audio")));
 +
 +SND_SOC_DAILINK_DEF(codec,
 +	DAILINK_COMP_ARRAY(COMP_CODEC("i2c-INT343A:00", "rt286-aif1")));
 +
 +SND_SOC_DAILINK_DEF(ssp0_port,
 +	    DAILINK_COMP_ARRAY(COMP_CPU("ssp0-port")));
 +
 +/* broadwell digital audio interface glue - connects codec <--> CPU */
 +static struct snd_soc_dai_link broadwell_rt286_dais[] = {
  	/* Front End DAI links */
  	{
  		.name = "System PCM",
@@@ -177,7 -126,6 +184,10 @@@
  		.nonatomic = 1,
  		.dynamic = 1,
  		.trigger = {SND_SOC_DPCM_TRIGGER_POST, SND_SOC_DPCM_TRIGGER_POST},
++<<<<<<< HEAD
 +		.ops = &broadwell_fe_ops,
++=======
++>>>>>>> e7f688635451 (ASoC: Intel: bdw_rt286: Remove FE DAI ops)
  		.dpcm_playback = 1,
  		.dpcm_capture = 1,
  		SND_SOC_DAILINK_REG(system, dummy, platform),
* Unmerged path sound/soc/intel/boards/bdw_rt286.c
