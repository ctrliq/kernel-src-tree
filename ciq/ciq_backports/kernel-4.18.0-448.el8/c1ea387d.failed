scsi: smartpqi: Stop using the SCSI pointer

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Bart Van Assche <bvanassche@acm.org>
commit c1ea387d998ab524291f1b78f8faa4618decd36d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/c1ea387d.failed

Set .cmd_size in the SCSI host template instead of using the SCSI pointer
from struct scsi_cmnd. This patch prepares for removal of the SCSI pointer
from struct scsi_cmnd.

Link: https://lore.kernel.org/r/20220218195117.25689-44-bvanassche@acm.org
	Reviewed-by: Johannes Thumshirn <johannes.thumshirn@wdc.com>
	Reviewed-by: Hannes Reinecke <hare@suse.de>
	Reviewed-by: Himanshu Madhani <himanshu.madhani@oracle.com>
	Signed-off-by: Bart Van Assche <bvanassche@acm.org>
	Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
(cherry picked from commit c1ea387d998ab524291f1b78f8faa4618decd36d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/scsi/smartpqi/smartpqi_init.c
diff --cc drivers/scsi/smartpqi/smartpqi_init.c
index 3ffb8d96294d,7c0d069a3158..000000000000
--- a/drivers/scsi/smartpqi/smartpqi_init.c
+++ b/drivers/scsi/smartpqi/smartpqi_init.c
@@@ -7360,8 -7269,9 +7369,14 @@@ static struct scsi_host_template pqi_dr
  	.slave_alloc = pqi_slave_alloc,
  	.slave_configure = pqi_slave_configure,
  	.map_queues = pqi_map_queues,
++<<<<<<< HEAD
 +	.sdev_attrs = pqi_sdev_attrs,
 +	.shost_attrs = pqi_shost_attrs,
++=======
+ 	.sdev_groups = pqi_sdev_groups,
+ 	.shost_groups = pqi_shost_groups,
+ 	.cmd_size = sizeof(struct pqi_cmd_priv),
++>>>>>>> c1ea387d998a (scsi: smartpqi: Stop using the SCSI pointer)
  };
  
  static int pqi_register_scsi(struct pqi_ctrl_info *ctrl_info)
* Unmerged path drivers/scsi/smartpqi/smartpqi_init.c
