regmap: Constify static regmap_bus structs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Rikard Falkeborn <rikard.falkeborn@gmail.com>
commit bd941dfaae3503c6b707d8544696205f759e57a3
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/bd941dfa.failed

The only usage of these is to pass their address to __regmap_init() or
__devm_regmap_init(), both which takes pointers to const struct
regmap_bus. Make them const to allow the compiler to put them in
read-only memory.

	Signed-off-by: Rikard Falkeborn <rikard.falkeborn@gmail.com>
Link: https://lore.kernel.org/r/20220330214110.36337-1-rikard.falkeborn@gmail.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit bd941dfaae3503c6b707d8544696205f759e57a3)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/regmap/regmap-i3c.c
#	drivers/base/regmap/regmap-sccb.c
#	drivers/base/regmap/regmap-slimbus.c
diff --cc drivers/base/regmap/regmap-slimbus.c
index 91d501eda8a9,8075db788b39..000000000000
--- a/drivers/base/regmap/regmap-slimbus.c
+++ b/drivers/base/regmap/regmap-slimbus.c
@@@ -28,12 -19,12 +28,18 @@@ static int regmap_slimbus_byte_reg_writ
  {
  	struct slim_device *sdev = context;
  
 -	return slim_read(sdev, *(u16 *)reg, val_size, val);
 +	return slim_writeb(sdev, reg, val);
  }
  
++<<<<<<< HEAD
 +static struct regmap_bus regmap_slimbus_bus = {
 +	.reg_write = regmap_slimbus_byte_reg_write,
 +	.reg_read = regmap_slimbus_byte_reg_read,
++=======
+ static const struct regmap_bus regmap_slimbus_bus = {
+ 	.write = regmap_slimbus_write,
+ 	.read = regmap_slimbus_read,
++>>>>>>> bd941dfaae35 (regmap: Constify static regmap_bus structs)
  	.reg_format_endian_default = REGMAP_ENDIAN_LITTLE,
  	.val_format_endian_default = REGMAP_ENDIAN_LITTLE,
  };
* Unmerged path drivers/base/regmap/regmap-i3c.c
* Unmerged path drivers/base/regmap/regmap-sccb.c
* Unmerged path drivers/base/regmap/regmap-i3c.c
* Unmerged path drivers/base/regmap/regmap-sccb.c
diff --git a/drivers/base/regmap/regmap-sdw-mbq.c b/drivers/base/regmap/regmap-sdw-mbq.c
index fe3ac26b66ad..388c3a087bd9 100644
--- a/drivers/base/regmap/regmap-sdw-mbq.c
+++ b/drivers/base/regmap/regmap-sdw-mbq.c
@@ -42,7 +42,7 @@ static int regmap_sdw_mbq_read(void *context, unsigned int reg, unsigned int *va
 	return 0;
 }
 
-static struct regmap_bus regmap_sdw_mbq = {
+static const struct regmap_bus regmap_sdw_mbq = {
 	.reg_read = regmap_sdw_mbq_read,
 	.reg_write = regmap_sdw_mbq_write,
 	.reg_format_endian_default = REGMAP_ENDIAN_LITTLE,
diff --git a/drivers/base/regmap/regmap-sdw.c b/drivers/base/regmap/regmap-sdw.c
index e75168b941d0..e0816f98923c 100644
--- a/drivers/base/regmap/regmap-sdw.c
+++ b/drivers/base/regmap/regmap-sdw.c
@@ -29,7 +29,7 @@ static int regmap_sdw_read(void *context, unsigned int reg, unsigned int *val)
 	return 0;
 }
 
-static struct regmap_bus regmap_sdw = {
+static const struct regmap_bus regmap_sdw = {
 	.reg_read = regmap_sdw_read,
 	.reg_write = regmap_sdw_write,
 	.reg_format_endian_default = REGMAP_ENDIAN_LITTLE,
* Unmerged path drivers/base/regmap/regmap-slimbus.c
diff --git a/drivers/base/regmap/regmap-w1.c b/drivers/base/regmap/regmap-w1.c
index e6c64b0be5b2..e35a95e23f8b 100644
--- a/drivers/base/regmap/regmap-w1.c
+++ b/drivers/base/regmap/regmap-w1.c
@@ -176,17 +176,17 @@ static int w1_reg_a16_v16_write(void *context, unsigned int reg,
  * Various types of supported bus addressing
  */
 
-static struct regmap_bus regmap_w1_bus_a8_v8 = {
+static const struct regmap_bus regmap_w1_bus_a8_v8 = {
 	.reg_read = w1_reg_a8_v8_read,
 	.reg_write = w1_reg_a8_v8_write,
 };
 
-static struct regmap_bus regmap_w1_bus_a8_v16 = {
+static const struct regmap_bus regmap_w1_bus_a8_v16 = {
 	.reg_read = w1_reg_a8_v16_read,
 	.reg_write = w1_reg_a8_v16_write,
 };
 
-static struct regmap_bus regmap_w1_bus_a16_v16 = {
+static const struct regmap_bus regmap_w1_bus_a16_v16 = {
 	.reg_read = w1_reg_a16_v16_read,
 	.reg_write = w1_reg_a16_v16_write,
 };
