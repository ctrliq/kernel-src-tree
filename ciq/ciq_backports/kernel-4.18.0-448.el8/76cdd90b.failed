ASoC: SOF: pcm: Add compress_ops for SOF platform component driver

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Daniel Baluta <daniel.baluta@nxp.com>
commit 76cdd90b27b4e7379ce4d9032dda1927ac69ad01
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/76cdd90b.failed

Now that sof_compressed_ops initial implementation was merged
we can enable it in SOF platform component driver.

This partially reverts commit
8a720724589e ("ASoC: SOF: pcm: Remove non existent CONFIG_SND_SOC_SOF_COMPRESS reference")

	Reported-by: Peter Ujfalusi <peter.ujfalusi@linux.intel.com>
	Signed-off-by: Daniel Baluta <daniel.baluta@nxp.com>
Link: https://lore.kernel.org/r/20220223153849.84471-1-daniel.baluta@oss.nxp.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 76cdd90b27b4e7379ce4d9032dda1927ac69ad01)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/sof/pcm.c
diff --cc sound/soc/sof/pcm.c
index 62cb61655761,a312ed855f1a..000000000000
--- a/sound/soc/sof/pcm.c
+++ b/sound/soc/sof/pcm.c
@@@ -925,9 -922,10 +925,16 @@@ void snd_sof_new_platform_drv(struct sn
  	pd->pointer = sof_pcm_pointer;
  	pd->ack = sof_pcm_ack;
  
++<<<<<<< HEAD
 +#if IS_ENABLED(CONFIG_SND_SOC_SOF_DEBUG_PROBES)
 +	pd->compress_ops = &sof_probe_compressed_ops;
 +#endif
++=======
+ #if IS_ENABLED(CONFIG_SND_SOC_SOF_COMPRESS)
+ 	pd->compress_ops = &sof_compressed_ops;
+ #endif
+ 
++>>>>>>> 76cdd90b27b4 (ASoC: SOF: pcm: Add compress_ops for SOF platform component driver)
  	pd->pcm_construct = sof_pcm_new;
  	pd->ignore_machine = drv_name;
  	pd->be_hw_params_fixup = sof_pcm_dai_link_fixup;
* Unmerged path sound/soc/sof/pcm.c
diff --git a/sound/soc/sof/sof-priv.h b/sound/soc/sof/sof-priv.h
index d19b259a3cba..d269b03bc5df 100644
--- a/sound/soc/sof/sof-priv.h
+++ b/sound/soc/sof/sof-priv.h
@@ -555,6 +555,11 @@ int snd_sof_debugfs_add_region_item_iomem(struct snd_sof_dev *sdev,
 		enum snd_sof_fw_blk_type blk_type, u32 offset, size_t size,
 		const char *name, enum sof_debugfs_access_type access_type);
 
+/*
+ * Platform specific ops.
+ */
+extern struct snd_compress_ops sof_compressed_ops;
+
 /*
  * DSP Architectures.
  */
