KVM: arm64: Print emulated register table name when it is unsorted

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Alexandru Elisei <alexandru.elisei@arm.com>
commit 325031d4f39cfb1adf41708c1329e60b9abfbdac
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/325031d4.failed

When a sysreg table entry is out-of-order, KVM attempts to print the
address of the table:

[    0.143911] kvm [1]: sys_reg table (____ptrval____) out of order (1)

Printing the name of the table instead of a pointer is more helpful in this
case. The message has also been slightly tweaked to be point out the
offending entry (and to match the missing reset error message):

[    0.143891] kvm [1]: sys_reg table sys_reg_descs+0x50/0x7490 entry 1 out of order

	Signed-off-by: Alexandru Elisei <alexandru.elisei@arm.com>
	Signed-off-by: Marc Zyngier <maz@kernel.org>
Link: https://lore.kernel.org/r/20220428103405.70884-3-alexandru.elisei@arm.com
(cherry picked from commit 325031d4f39cfb1adf41708c1329e60b9abfbdac)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/arm64/kvm/sys_regs.c
diff --cc arch/arm64/kvm/sys_regs.c
index 5de2df33fc42,a84a556eeb8f..000000000000
--- a/arch/arm64/kvm/sys_regs.c
+++ b/arch/arm64/kvm/sys_regs.c
@@@ -2176,14 -2194,13 +2176,24 @@@ static int check_sysreg_table(const str
  
  	for (i = 0; i < n; i++) {
  		if (!is_32 && table[i].reg && !table[i].reset) {
++<<<<<<< HEAD
 +			kvm_err("sys_reg table %p entry %d has lacks reset\n",
 +				table, i);
 +			return 1;
 +		}
 +
 +		if (i && cmp_sys_reg(&table[i-1], &table[i]) >= 0) {
 +			kvm_err("sys_reg table %p out of order (%d)\n", table, i - 1);
 +			return 1;
++=======
+ 			kvm_err("sys_reg table %pS entry %d lacks reset\n", &table[i], i);
+ 			return false;
+ 		}
+ 
+ 		if (i && cmp_sys_reg(&table[i-1], &table[i]) >= 0) {
+ 			kvm_err("sys_reg table %pS entry %d out of order\n", &table[i - 1], i - 1);
+ 			return false;
++>>>>>>> 325031d4f39c (KVM: arm64: Print emulated register table name when it is unsorted)
  		}
  	}
  
* Unmerged path arch/arm64/kvm/sys_regs.c
