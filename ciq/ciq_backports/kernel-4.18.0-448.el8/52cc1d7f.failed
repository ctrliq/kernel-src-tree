PM: core: Remove static qualifier in DEFINE_SIMPLE_DEV_PM_OPS macro

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Paul Cercueil <paul@crapouillou.net>
commit 52cc1d7f9786d2be44a3ab9b5b48416a7618e713
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/52cc1d7f.failed

Keep this macro in line with the other ones. This makes it possible to
use them in the cases where the underlying dev_pm_ops structure is
exported.

Restore the "static" qualifier in the two drivers where the
DEFINE_SIMPLE_DEV_PM_OPS macro was used.

	Signed-off-by: Paul Cercueil <paul@crapouillou.net>
	Acked-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>
	Reviewed-by: Ulf Hansson <ulf.hansson@linaro.org>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 52cc1d7f9786d2be44a3ab9b5b48416a7618e713)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/mmc/host/jz4740_mmc.c
#	drivers/mmc/host/mxcmmc.c
diff --cc drivers/mmc/host/jz4740_mmc.c
index 993386c9ea50,4ac87b0797bb..000000000000
--- a/drivers/mmc/host/jz4740_mmc.c
+++ b/drivers/mmc/host/jz4740_mmc.c
@@@ -1173,15 -1110,11 +1173,20 @@@ static int jz4740_mmc_suspend(struct de
  
  static int jz4740_mmc_resume(struct device *dev)
  {
 -	return pinctrl_select_default_state(dev);
 +	return pinctrl_pm_select_default_state(dev);
  }
  
++<<<<<<< HEAD
 +static SIMPLE_DEV_PM_OPS(jz4740_mmc_pm_ops, jz4740_mmc_suspend,
 +	jz4740_mmc_resume);
 +#define JZ4740_MMC_PM_OPS (&jz4740_mmc_pm_ops)
 +#else
 +#define JZ4740_MMC_PM_OPS NULL
 +#endif
++=======
+ static DEFINE_SIMPLE_DEV_PM_OPS(jz4740_mmc_pm_ops, jz4740_mmc_suspend,
+ 				jz4740_mmc_resume);
++>>>>>>> 52cc1d7f9786 (PM: core: Remove static qualifier in DEFINE_SIMPLE_DEV_PM_OPS macro)
  
  static struct platform_driver jz4740_mmc_driver = {
  	.probe = jz4740_mmc_probe,
diff --cc drivers/mmc/host/mxcmmc.c
index de4e6e5bf304,40b6878bea6c..000000000000
--- a/drivers/mmc/host/mxcmmc.c
+++ b/drivers/mmc/host/mxcmmc.c
@@@ -1242,9 -1209,8 +1242,13 @@@ static int mxcmci_resume(struct device 
  
  	return ret;
  }
 +#endif
  
++<<<<<<< HEAD
 +static SIMPLE_DEV_PM_OPS(mxcmci_pm_ops, mxcmci_suspend, mxcmci_resume);
++=======
+ static DEFINE_SIMPLE_DEV_PM_OPS(mxcmci_pm_ops, mxcmci_suspend, mxcmci_resume);
++>>>>>>> 52cc1d7f9786 (PM: core: Remove static qualifier in DEFINE_SIMPLE_DEV_PM_OPS macro)
  
  static struct platform_driver mxcmci_driver = {
  	.probe		= mxcmci_probe,
* Unmerged path drivers/mmc/host/jz4740_mmc.c
* Unmerged path drivers/mmc/host/mxcmmc.c
diff --git a/include/linux/pm.h b/include/linux/pm.h
index 2097a474a6ca..90fe869c4b0d 100644
--- a/include/linux/pm.h
+++ b/include/linux/pm.h
@@ -376,7 +376,7 @@ struct dev_pm_ops {
  * to RAM and hibernation.
  */
 #define DEFINE_SIMPLE_DEV_PM_OPS(name, suspend_fn, resume_fn) \
-static const struct dev_pm_ops name = { \
+const struct dev_pm_ops name = { \
 	SYSTEM_SLEEP_PM_OPS(suspend_fn, resume_fn) \
 }
 
