drm/bridge: anx7625: add missing destroy_workqueue() in anx7625_i2c_probe()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Yang Yingliang <yangyingliang@huawei.com>
commit 6f5efd118efafa22139e8670a4e4b506ba757dfd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/6f5efd11.failed

Add the missing destroy_workqueue() before return from
anx7625_i2c_probe() in the error handling case.

Fixes: adca62ec370c ("drm/bridge: anx7625: Support reading edid through aux channel")
	Signed-off-by: Yang Yingliang <yangyingliang@huawei.com>
	Reviewed-by: Hsin-Yi Wang <hsinyi@chromium.org>
	Signed-off-by: Robert Foss <robert.foss@linaro.org>
Link: https://patchwork.freedesktop.org/patch/msgid/20220326073326.3389347-1-yangyingliang@huawei.com
(cherry picked from commit 6f5efd118efafa22139e8670a4e4b506ba757dfd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/bridge/analogix/anx7625.c
diff --cc drivers/gpu/drm/bridge/analogix/anx7625.c
index 439c7bed33ff,6516f9570b86..000000000000
--- a/drivers/gpu/drm/bridge/analogix/anx7625.c
+++ b/drivers/gpu/drm/bridge/analogix/anx7625.c
@@@ -1812,6 -2650,19 +1812,22 @@@ static int anx7625_i2c_probe(struct i2c
  		}
  	}
  
++<<<<<<< HEAD
++=======
+ 	platform->aux.name = "anx7625-aux";
+ 	platform->aux.dev = dev;
+ 	platform->aux.transfer = anx7625_aux_transfer;
+ 	drm_dp_aux_init(&platform->aux);
+ 	devm_of_dp_aux_populate_ep_devices(&platform->aux);
+ 
+ 	ret = anx7625_parse_dt(dev, pdata);
+ 	if (ret) {
+ 		if (ret != -EPROBE_DEFER)
+ 			DRM_DEV_ERROR(dev, "fail to parse DT : %d\n", ret);
+ 		goto free_wq;
+ 	}
+ 
++>>>>>>> 6f5efd118efa (drm/bridge: anx7625: add missing destroy_workqueue() in anx7625_i2c_probe())
  	if (anx7625_register_i2c_dummy_clients(platform, client) != 0) {
  		ret = -ENOMEM;
  		DRM_DEV_ERROR(dev, "fail to reserve I2C bus.\n");
@@@ -1819,6 -2670,12 +1835,15 @@@
  	}
  
  	pm_runtime_enable(dev);
++<<<<<<< HEAD
++=======
+ 	pm_runtime_set_autosuspend_delay(dev, 1000);
+ 	pm_runtime_use_autosuspend(dev);
+ 	pm_suspend_ignore_children(dev, true);
+ 	ret = devm_add_action_or_reset(dev, anx7625_runtime_disable, dev);
+ 	if (ret)
+ 		goto free_wq;
++>>>>>>> 6f5efd118efa (drm/bridge: anx7625: add missing destroy_workqueue() in anx7625_i2c_probe())
  
  	if (!platform->pdata.low_power_mode) {
  		anx7625_disable_pd_protocol(platform);
* Unmerged path drivers/gpu/drm/bridge/analogix/anx7625.c
