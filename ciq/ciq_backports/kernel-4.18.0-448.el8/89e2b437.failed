drm/amdgpu: keep fbdev buffers pinned during suspend

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Alex Deucher <alexander.deucher@amd.com>
commit 89e2b4373ae5215f5c5d1b7726549950daa77018
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/89e2b437.failed

Was dropped when we converted to the generic helpers.

Fixes: 087451f372bf ("drm/amdgpu: use generic fb helpers instead of setting up AMD own's.")
	Acked-by: Evan Quan <evan.quan@amd.com>
	Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit 89e2b4373ae5215f5c5d1b7726549950daa77018)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/amd/amdgpu/amdgpu_display.c
diff --cc drivers/gpu/drm/amd/amdgpu/amdgpu_display.c
index dc50c05f23fc,c20922a5af9f..000000000000
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_display.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_display.c
@@@ -1603,8 -1609,7 +1618,12 @@@ int amdgpu_display_suspend_helper(struc
  			continue;
  		}
  		robj = gem_to_amdgpu_bo(fb->obj[0]);
++<<<<<<< HEAD
 +		/* don't unpin kernel fb objects */
 +		if (!amdgpu_fbdev_robj_is_fb(adev, robj)) {
++=======
+ 		if (!amdgpu_display_robj_is_fb(adev, robj)) {
++>>>>>>> 89e2b4373ae5 (drm/amdgpu: keep fbdev buffers pinned during suspend)
  			r = amdgpu_bo_reserve(robj, true);
  			if (r == 0) {
  				amdgpu_bo_unpin(robj);
* Unmerged path drivers/gpu/drm/amd/amdgpu/amdgpu_display.c
