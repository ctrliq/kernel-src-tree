Revert "ALSA: hda: cs35l41: Allow compilation test on non-ACPI configurations"

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Takashi Iwai <tiwai@suse.de>
commit d59d2277febbad93e42137a50673dd1c16199813
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/d59d2277.failed

Since the recent change in CS35L41 codec requires the reference of
acpi_dev handle, the current Kconfig may lead to a build breakage.

Revert the Kconfig change and re-introduce the hard dependency on
CONFIG_ACPI again as a temporary workaround.

Fixes: eef375960210 ("ALSA: hda: cs35l41: Support reading subsystem id from ACPI")
Link: https://lore.kernel.org/r/20220715182427.18891-1-tiwai@suse.de
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit d59d2277febbad93e42137a50673dd1c16199813)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/Kconfig
diff --cc sound/pci/hda/Kconfig
index 47c4323163ac,a8e8cf98befa..000000000000
--- a/sound/pci/hda/Kconfig
+++ b/sound/pci/hda/Kconfig
@@@ -91,6 -91,45 +91,48 @@@ config SND_HDA_PATCH_LOADE
  	  start up.  The "patch" file can be specified via patch module
  	  option, such as patch=hda-init.
  
++<<<<<<< HEAD
++=======
+ config SND_HDA_SCODEC_CS35L41
+ 	tristate
+ 	select SND_HDA_GENERIC
+ 	select REGMAP_IRQ
+ 
+ config SND_HDA_CS_DSP_CONTROLS
+ 	tristate
+ 	select CS_DSP
+ 
+ config SND_HDA_SCODEC_CS35L41_I2C
+ 	tristate "Build CS35L41 HD-audio side codec support for I2C Bus"
+ 	depends on I2C
+ 	depends on ACPI
+ 	depends on SND_SOC
+ 	select SND_SOC_CS35L41_LIB
+ 	select SND_HDA_SCODEC_CS35L41
+ 	select SND_HDA_CS_DSP_CONTROLS
+ 	help
+ 	  Say Y or M here to include CS35L41 I2C HD-audio side codec support
+ 	  in snd-hda-intel driver, such as ALC287.
+ 
+ comment "Set to Y if you want auto-loading the side codec driver"
+ 	depends on SND_HDA=y && SND_HDA_SCODEC_CS35L41_I2C=m
+ 
+ config SND_HDA_SCODEC_CS35L41_SPI
+ 	tristate "Build CS35L41 HD-audio codec support for SPI Bus"
+ 	depends on SPI_MASTER
+ 	depends on ACPI
+ 	depends on SND_SOC
+ 	select SND_SOC_CS35L41_LIB
+ 	select SND_HDA_SCODEC_CS35L41
+ 	select SND_HDA_CS_DSP_CONTROLS
+ 	help
+ 	  Say Y or M here to include CS35L41 SPI HD-audio side codec support
+ 	  in snd-hda-intel driver, such as ALC287.
+ 
+ comment "Set to Y if you want auto-loading the side codec driver"
+ 	depends on SND_HDA=y && SND_HDA_SCODEC_CS35L41_SPI=m
+ 
++>>>>>>> d59d2277febb (Revert "ALSA: hda: cs35l41: Allow compilation test on non-ACPI configurations")
  config SND_HDA_CODEC_REALTEK
  	tristate "Build Realtek HD-audio codec support"
  	select SND_HDA_GENERIC
* Unmerged path sound/pci/hda/Kconfig
