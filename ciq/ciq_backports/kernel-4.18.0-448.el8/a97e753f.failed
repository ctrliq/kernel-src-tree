drm/ssd130x: Fix rectangle updates

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Geert Uytterhoeven <geert@linux-m68k.org>
commit a97e753fd358e23155ae42c61292dfd57eb54c4a
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/a97e753f.failed

The rectangle update functions ssd130x_fb_blit_rect() and
ssd130x_update_rect() do not behave correctly when x1 != 0 or y1 !=
0, or when y1 or y2 are not aligned to display page boundaries.
E.g. when used as a text console, only the first line of text is shown
on the display.

  1. The buffer passed by ssd130x_fb_blit_rect() points to the first
     byte of monochrome bitmap data, and thus has its origin at (x1,
     y1), while ssd130x_update_rect() assumes it is at (0, 0).
     Fix ssd130x_update_rect() by changing the vertical and horizontal
     loop ranges, and adding the offsets only when needed.

  2. In ssd130x_fb_blit_rect(), align y1 and y2 to the display page
     boundaries before doing the color conversion, so the full page
     is converted and updated.
     Remove the correction for an unaligned y1 from
     ssd130x_update_rect(), and add a check to make sure y1 is aligned.

Fixes: a61732e808672cfa ("drm: Add driver for Solomon SSD130x OLED displays")
	Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
	Acked-by: Javier Martinez Canillas <javierm@redhat.com>
	Signed-off-by: Javier Martinez Canillas <javierm@redhat.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20220317081830.1211400-4-geert@linux-m68k.org
(cherry picked from commit a97e753fd358e23155ae42c61292dfd57eb54c4a)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/gpu/drm/solomon/ssd130x.c
* Unmerged path drivers/gpu/drm/solomon/ssd130x.c
* Unmerged path drivers/gpu/drm/solomon/ssd130x.c
