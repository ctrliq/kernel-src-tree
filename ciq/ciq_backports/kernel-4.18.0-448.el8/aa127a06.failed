s390/boot: add secure boot trailer

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Peter Oberparleiter <oberpar@linux.ibm.com>
commit aa127a069ef312aca02b730d5137e1778d0c3ba7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/aa127a06.failed

This patch enhances the kernel image adding a trailer as required for
secure boot by future firmware versions.

	Cc: <stable@vger.kernel.org> # 5.2+
	Signed-off-by: Peter Oberparleiter <oberpar@linux.ibm.com>
	Reviewed-by: Sven Schnelle <svens@linux.ibm.com>
	Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>
(cherry picked from commit aa127a069ef312aca02b730d5137e1778d0c3ba7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/s390/boot/compressed/vmlinux.lds.S
diff --cc arch/s390/boot/compressed/vmlinux.lds.S
index 5042469c301b,fa9d33b01b85..000000000000
--- a/arch/s390/boot/compressed/vmlinux.lds.S
+++ b/arch/s390/boot/compressed/vmlinux.lds.S
@@@ -79,14 -103,16 +79,27 @@@ SECTION
  		*(.vmlinux.bin.compressed)
  		_compressed_end = .;
  	}
++<<<<<<< HEAD:arch/s390/boot/compressed/vmlinux.lds.S
 +	. = ALIGN(256);
 +	.bss : {
 +		_bss = . ;
 +		*(.bss)
 +		*(.bss.*)
 +		*(COMMON)
 +		. = ALIGN(8);	/* For convenience during zeroing */
 +		_ebss = .;
++=======
+ 
+ #define SB_TRAILER_SIZE 32
+ 	/* Trailer needed for Secure Boot */
+ 	. += SB_TRAILER_SIZE; /* make sure .sb.trailer does not overwrite the previous section */
+ 	. = ALIGN(4096) - SB_TRAILER_SIZE;
+ 	.sb.trailer : {
+ 		QUAD(0)
+ 		QUAD(0)
+ 		QUAD(0)
+ 		QUAD(0x000000207a49504c)
++>>>>>>> aa127a069ef3 (s390/boot: add secure boot trailer):arch/s390/boot/vmlinux.lds.S
  	}
  	_end = .;
  
* Unmerged path arch/s390/boot/compressed/vmlinux.lds.S
