x86/lib/atomic64_386_32: Rename things

jira LE-1907
cve CVE-2021-26341
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Peter Zijlstra <peterz@infradead.org>
commit 22da5a07c75e1104caf6a42f189c97b83d070073
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/22da5a07.failed

Principally, in order to get rid of #define RET in this code to make
place for a new RET, but also to clarify the code, rename a bunch of
things:

  s/UNLOCK/IRQ_RESTORE/
  s/LOCK/IRQ_SAVE/
  s/BEGIN/BEGIN_IRQ_SAVE/
  s/\<RET\>/RET_IRQ_RESTORE/
  s/RET_ENDP/\tRET_IRQ_RESTORE\rENDP/

which then leaves RET unused so it can be removed.

	Signed-off-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Signed-off-by: Borislav Petkov <bp@suse.de>
Link: https://lore.kernel.org/r/20211204134907.841623970@infradead.org
(cherry picked from commit 22da5a07c75e1104caf6a42f189c97b83d070073)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	arch/x86/lib/atomic64_386_32.S
diff --cc arch/x86/lib/atomic64_386_32.S
index 9b0ca8fe80fc,4ad6b97fdb6f..000000000000
--- a/arch/x86/lib/atomic64_386_32.S
+++ b/arch/x86/lib/atomic64_386_32.S
@@@ -10,10 -6,10 +10,10 @@@
   */
  
  #include <linux/linkage.h>
 -#include <asm/alternative.h>
 +#include <asm/alternative-asm.h>
  
  /* if you want SMP support, implement these with real spinlocks */
- .macro LOCK reg
+ .macro IRQ_SAVE reg
  	pushfl
  	cli
  .endm
@@@ -22,13 -18,13 +22,18 @@@
  	popfl
  .endm
  
- #define BEGIN(op) \
+ #define BEGIN_IRQ_SAVE(op) \
  .macro endp; \
 -SYM_FUNC_END(atomic64_##op##_386); \
 +ENDPROC(atomic64_##op##_386); \
  .purgem endp; \
  .endm; \
++<<<<<<< HEAD
 +ENTRY(atomic64_##op##_386); \
 +	LOCK v;
++=======
+ SYM_FUNC_START(atomic64_##op##_386); \
+ 	IRQ_SAVE v;
++>>>>>>> 22da5a07c75e (x86/lib/atomic64_386_32: Rename things)
  
  #define ENDP endp
  
* Unmerged path arch/x86/lib/atomic64_386_32.S
