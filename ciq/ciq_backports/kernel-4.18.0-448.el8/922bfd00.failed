PCI: vmd: Add DID 8086:A77F for all Intel Raptor Lake SKU's

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Karthik L Gopalakrishnan <karthik.l.gopalakrishnan@intel.com>
commit 922bfd001d1ac02111ebbe0524aaab6ca7925521
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/922bfd00.failed

Add support for this VMD device which supports the bus restriction mode.
The feature that turns off vector 0 for MSI-X remapping is also enabled.

Link: https://lore.kernel.org/r/20211217231211.46018-1-francisco.munoz.ruiz@linux.intel.com
	Signed-off-by: Karthik L Gopalakrishnan <karthik.l.gopalakrishnan@intel.com>
	Signed-off-by: Francisco Munoz <francisco.munoz.ruiz@linux.intel.com>
	Signed-off-by: Lorenzo Pieralisi <lorenzo.pieralisi@arm.com>
	Reviewed-by: Jon Derrick <jonathan.derrick@linux.dev>
(cherry picked from commit 922bfd001d1ac02111ebbe0524aaab6ca7925521)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/pci/controller/vmd.c
diff --cc drivers/pci/controller/vmd.c
index 6e122dfa3c2f,20e01e5cf2d7..000000000000
--- a/drivers/pci/controller/vmd.c
+++ b/drivers/pci/controller/vmd.c
@@@ -879,16 -998,24 +879,25 @@@ static const struct pci_device_id vmd_i
  		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW_VSCAP,},
  	{PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_VMD_28C0),
  		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW |
 -				VMD_FEAT_HAS_BUS_RESTRICTIONS |
 -				VMD_FEAT_CAN_BYPASS_MSI_REMAP,},
 +				VMD_FEAT_HAS_BUS_RESTRICTIONS,},
  	{PCI_DEVICE(PCI_VENDOR_ID_INTEL, 0x467f),
  		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW_VSCAP |
 -				VMD_FEAT_HAS_BUS_RESTRICTIONS |
 -				VMD_FEAT_OFFSET_FIRST_VECTOR,},
 +				VMD_FEAT_HAS_BUS_RESTRICTIONS,},
  	{PCI_DEVICE(PCI_VENDOR_ID_INTEL, 0x4c3d),
  		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW_VSCAP |
++<<<<<<< HEAD
 +				VMD_FEAT_HAS_BUS_RESTRICTIONS,},
++=======
+ 				VMD_FEAT_HAS_BUS_RESTRICTIONS |
+ 				VMD_FEAT_OFFSET_FIRST_VECTOR,},
+ 	{PCI_DEVICE(PCI_VENDOR_ID_INTEL, 0xa77f),
+ 		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW_VSCAP |
+ 				VMD_FEAT_HAS_BUS_RESTRICTIONS |
+ 				VMD_FEAT_OFFSET_FIRST_VECTOR,},
++>>>>>>> 922bfd001d1a (PCI: vmd: Add DID 8086:A77F for all Intel Raptor Lake SKU's)
  	{PCI_DEVICE(PCI_VENDOR_ID_INTEL, PCI_DEVICE_ID_INTEL_VMD_9A0B),
  		.driver_data = VMD_FEAT_HAS_MEMBAR_SHADOW_VSCAP |
 -				VMD_FEAT_HAS_BUS_RESTRICTIONS |
 -				VMD_FEAT_OFFSET_FIRST_VECTOR,},
 +				VMD_FEAT_HAS_BUS_RESTRICTIONS,},
  	{0,}
  };
  MODULE_DEVICE_TABLE(pci, vmd_ids);
* Unmerged path drivers/pci/controller/vmd.c
