fbcon: Avoid 'cap' set but not used warning

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Helge Deller <deller@gmx.de>
commit 50b10528aad568c95f772039d4b3093b4aea7439
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/50b10528.failed

Fix this kernel test robot warning:

  drivers/video/fbdev/core/fbcon.c: In function 'fbcon_init':
  drivers/video/fbdev/core/fbcon.c:1028:6: warning: variable 'cap' set but not used [-Wunused-but-set-variable]

The cap variable is only used when CONFIG_FRAMEBUFFER_CONSOLE_LEGACY_ACCELERATION
is enabled. Drop the temporary variable and use info->flags instead.

Fixes: 87ab9f6b7417 ("Revert "fbcon: Disable accelerated scrolling")
	Reported-by: kernel test robot <lkp@intel.com>
	Signed-off-by: Helge Deller <deller@gmx.de>
	Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
Link: https://patchwork.freedesktop.org/patch/msgid/YgFB4xqI+As196FR@p100
(cherry picked from commit 50b10528aad568c95f772039d4b3093b4aea7439)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/video/fbdev/core/fbcon.c
diff --cc drivers/video/fbdev/core/fbcon.c
index cfa89b275079,2fc1b80a26ad..000000000000
--- a/drivers/video/fbdev/core/fbcon.c
+++ b/drivers/video/fbdev/core/fbcon.c
@@@ -1070,8 -1024,8 +1070,13 @@@ static void fbcon_init(struct vc_data *
  	struct vc_data **default_mode = vc->vc_display_fg;
  	struct vc_data *svc = *default_mode;
  	struct fbcon_display *t, *p = &fb_display[vc->vc_num];
++<<<<<<< HEAD
 +	int logo = 1, new_rows, new_cols, rows, cols, charcnt = 256;
 +	int cap, ret;
++=======
+ 	int logo = 1, new_rows, new_cols, rows, cols;
+ 	int ret;
++>>>>>>> 50b10528aad5 (fbcon: Avoid 'cap' set but not used warning)
  
  	if (WARN_ON(info_idx == -1))
  	    return;
@@@ -1185,8 -1135,9 +1189,14 @@@
  
  	ops->graphics = 0;
  
++<<<<<<< HEAD
 +	if ((cap & FBINFO_HWACCEL_COPYAREA) &&
 +	    !(cap & FBINFO_HWACCEL_DISABLED))
++=======
+ #ifdef CONFIG_FRAMEBUFFER_CONSOLE_LEGACY_ACCELERATION
+ 	if ((info->flags & FBINFO_HWACCEL_COPYAREA) &&
+ 	    !(info->flags & FBINFO_HWACCEL_DISABLED))
++>>>>>>> 50b10528aad5 (fbcon: Avoid 'cap' set but not used warning)
  		p->scrollmode = SCROLL_MOVE;
  	else /* default to something safe */
  		p->scrollmode = SCROLL_REDRAW;
* Unmerged path drivers/video/fbdev/core/fbcon.c
