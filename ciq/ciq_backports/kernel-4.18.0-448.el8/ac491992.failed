RDMA/pvrdma: Remove useless DMA-32 fallback configuration

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Christophe JAILLET <christophe.jaillet@wanadoo.fr>
commit ac491992f3705178e18eb185f392bf3fa2f6f54d
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/ac491992.failed

As stated in [1], dma_set_mask() with a 64-bit mask never fails if
dev->dma_mask is non-NULL.

So, if it fails, the 32 bits case will also fail for the same reason.

Simplify code and remove some dead code accordingly.

[1]: https://lore.kernel.org/r/YL3vSPK5DXTNvgdx@infradead.org

Link: https://lore.kernel.org/r/10c29cb45d14fb8ed89cf1308c4a9a7d445c52eb.1641717275.git.christophe.jaillet@wanadoo.fr
	Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
	Signed-off-by: Jason Gunthorpe <jgg@nvidia.com>
(cherry picked from commit ac491992f3705178e18eb185f392bf3fa2f6f54d)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/infiniband/hw/vmw_pvrdma/pvrdma_main.c
diff --cc drivers/infiniband/hw/vmw_pvrdma/pvrdma_main.c
index b39175837d58,343288b02792..000000000000
--- a/drivers/infiniband/hw/vmw_pvrdma/pvrdma_main.c
+++ b/drivers/infiniband/hw/vmw_pvrdma/pvrdma_main.c
@@@ -811,20 -811,10 +811,27 @@@ static int pvrdma_pci_probe(struct pci_
  	}
  
  	/* Enable 64-Bit DMA */
++<<<<<<< HEAD
 +	if (pci_set_dma_mask(pdev, DMA_BIT_MASK(64)) == 0) {
 +		ret = pci_set_consistent_dma_mask(pdev, DMA_BIT_MASK(64));
 +		if (ret != 0) {
 +			dev_err(&pdev->dev,
 +				"pci_set_consistent_dma_mask failed\n");
 +			goto err_free_resource;
 +		}
 +	} else {
 +		ret = pci_set_dma_mask(pdev, DMA_BIT_MASK(32));
 +		if (ret != 0) {
 +			dev_err(&pdev->dev,
 +				"pci_set_dma_mask failed\n");
 +			goto err_free_resource;
 +		}
++=======
+ 	ret = dma_set_mask_and_coherent(&pdev->dev, DMA_BIT_MASK(64));
+ 	if (ret) {
+ 		dev_err(&pdev->dev, "dma_set_mask failed\n");
+ 		goto err_free_resource;
++>>>>>>> ac491992f370 (RDMA/pvrdma: Remove useless DMA-32 fallback configuration)
  	}
  	dma_set_max_seg_size(&pdev->dev, UINT_MAX);
  	pci_set_master(pdev);
* Unmerged path drivers/infiniband/hw/vmw_pvrdma/pvrdma_main.c
