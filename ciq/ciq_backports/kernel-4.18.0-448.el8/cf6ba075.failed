ACPI: bus: Introduce acpi_dev_for_each_child()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Rafael J. Wysocki <rafael.j.wysocki@intel.com>
commit cf6ba0750a22a54f5101986401271429995cc4a0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/cf6ba075.failed

Introduce a wrapper around device_for_each_child() to iterate over
the children of a given ACPI device object.

This function will be used in subsequent change sets.

	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
	Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
(cherry picked from commit cf6ba0750a22a54f5101986401271429995cc4a0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/acpi/acpi_bus.h
diff --cc include/acpi/acpi_bus.h
index 73fce7717dea,c616f3d8506b..000000000000
--- a/include/acpi/acpi_bus.h
+++ b/include/acpi/acpi_bus.h
@@@ -489,6 -480,10 +489,13 @@@ void acpi_initialize_hp_context(struct 
  /* acpi_device.dev.bus == &acpi_bus_type */
  extern struct bus_type acpi_bus_type;
  
++<<<<<<< HEAD
++=======
+ int acpi_bus_for_each_dev(int (*fn)(struct device *, void *), void *data);
+ int acpi_dev_for_each_child(struct acpi_device *adev,
+ 			    int (*fn)(struct device *, void *), void *data);
+ 
++>>>>>>> cf6ba0750a22 (ACPI: bus: Introduce acpi_dev_for_each_child())
  /*
   * Events
   * ------
diff --git a/drivers/acpi/bus.c b/drivers/acpi/bus.c
index b4d279cc20e0..fcff01ed349d 100644
--- a/drivers/acpi/bus.c
+++ b/drivers/acpi/bus.c
@@ -1097,6 +1097,12 @@ struct bus_type acpi_bus_type = {
 };
 EXPORT_SYMBOL_GPL(acpi_bus_type);
 
+int acpi_dev_for_each_child(struct acpi_device *adev,
+			    int (*fn)(struct device *, void *), void *data)
+{
+	return device_for_each_child(&adev->dev, data, fn);
+}
+
 /* --------------------------------------------------------------------------
                              Initialization/Cleanup
    -------------------------------------------------------------------------- */
* Unmerged path include/acpi/acpi_bus.h
