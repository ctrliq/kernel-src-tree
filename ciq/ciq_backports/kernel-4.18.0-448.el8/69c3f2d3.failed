wifi: nl80211: allow link ID in set_wiphy with frequency

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Ilan Peer <ilan.peer@intel.com>
commit 69c3f2d30c357613f9059809bc95170301056aee
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/69c3f2d3.failed

This simplifies hostapd implementation, since it didn't
switch to NL80211_CMD_SET_CHANNEL.

	Signed-off-by: Ilan Peer <ilan.peer@intel.com>
	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit 69c3f2d30c357613f9059809bc95170301056aee)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/wireless/nl80211.c
diff --cc net/wireless/nl80211.c
index a792f71e47d7,0bf1f7267b89..000000000000
--- a/net/wireless/nl80211.c
+++ b/net/wireless/nl80211.c
@@@ -3408,10 -3475,19 +3408,26 @@@ static int nl80211_set_wiphy(struct sk_
  	}
  
  	if (info->attrs[NL80211_ATTR_WIPHY_FREQ]) {
++<<<<<<< HEAD
 +		result = __nl80211_set_channel(
 +			rdev,
 +			nl80211_can_set_dev_channel(wdev) ? netdev : NULL,
 +			info);
++=======
+ 		int link_id = nl80211_link_id_or_invalid(info->attrs);
+ 
+ 		if (wdev) {
+ 			wdev_lock(wdev);
+ 			result = __nl80211_set_channel(
+ 				rdev,
+ 				nl80211_can_set_dev_channel(wdev) ? netdev : NULL,
+ 				info, link_id);
+ 			wdev_unlock(wdev);
+ 		} else {
+ 			result = __nl80211_set_channel(rdev, netdev, info, link_id);
+ 		}
+ 
++>>>>>>> 69c3f2d30c35 (wifi: nl80211: allow link ID in set_wiphy with frequency)
  		if (result)
  			goto out;
  	}
* Unmerged path net/wireless/nl80211.c
