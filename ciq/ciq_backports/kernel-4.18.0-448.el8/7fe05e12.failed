ice: Fix VSI rebuild WARN_ON check for VF

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Benjamin Mikailenko <benjamin.mikailenko@intel.com>
commit 7fe05e125d5f730bd2d0fc53985bee77b6c762f0
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/7fe05e12.failed

In commit b03d519d3460 ("ice: store VF pointer instead of VF ID")
WARN_ON checks were added to validate the vsi->vf pointer and
catch programming errors. However, one check to vsi->vf was missed.
This caused a call trace when resetting VFs.

Fix ice_vsi_rebuild by encompassing VF pointer in WARN_ON check.

Fixes: b03d519d3460 ("ice: store VF pointer instead of VF ID")
	Signed-off-by: Benjamin Mikailenko <benjamin.mikailenko@intel.com>
	Tested-by: Marek Szlosek <marek.szlosek@intel.com>
	Signed-off-by: Tony Nguyen <anthony.l.nguyen@intel.com>
(cherry picked from commit 7fe05e125d5f730bd2d0fc53985bee77b6c762f0)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/intel/ice/ice_lib.c
diff --cc drivers/net/ethernet/intel/ice/ice_lib.c
index 6e4b0717348e,0d4dbca88964..000000000000
--- a/drivers/net/ethernet/intel/ice/ice_lib.c
+++ b/drivers/net/ethernet/intel/ice/ice_lib.c
@@@ -3341,8 -3181,10 +3341,15 @@@ int ice_vsi_rebuild(struct ice_vsi *vsi
  
  	pf = vsi->back;
  	vtype = vsi->type;
++<<<<<<< HEAD
 +	if (vtype == ICE_VSI_VF)
 +		vf = &pf->vf[vsi->vf_id];
++=======
+ 	if (WARN_ON(vtype == ICE_VSI_VF && !vsi->vf))
+ 		return -EINVAL;
+ 
+ 	ice_vsi_init_vlan_ops(vsi);
++>>>>>>> 7fe05e125d5f (ice: Fix VSI rebuild WARN_ON check for VF)
  
  	coalesce = kcalloc(vsi->num_q_vectors,
  			   sizeof(struct ice_coalesce_stored), GFP_KERNEL);
* Unmerged path drivers/net/ethernet/intel/ice/ice_lib.c
