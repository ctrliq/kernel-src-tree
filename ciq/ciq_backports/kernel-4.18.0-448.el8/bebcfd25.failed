ath11k: Init hw_params before setting up AHB resources

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Manikanta Pubbisetty <quic_mpubbise@quicinc.com>
commit bebcfd2534a63ab7e7325f5337662bc84ca038b6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/bebcfd25.failed

As part of adding the support of WCN6750 to ath11k, bus_params
were moved to hw_params and this regressed the initialization
of WCN6750. By the time AHB resources are setup for WCN6750,
hw_params will not be initialized and therefore initialization
for WCN6750 will fail. This is applicable only for WCN6750,
no other device is impacted.

Fix this by moving the initialization of hw_params before
setting up AHB resources.

Tested-on: WCN6750 hw1.0 AHB WLAN.MSL.1.0.1-00887-QCAMSLSWPLZ-1

Fixes: 00402f49d26f ("ath11k: Add support for WCN6750 device")
	Signed-off-by: Manikanta Pubbisetty <quic_mpubbise@quicinc.com>
	Signed-off-by: Kalle Valo <quic_kvalo@quicinc.com>
Link: https://lore.kernel.org/r/20220517055241.15885-1-quic_mpubbise@quicinc.com
(cherry picked from commit bebcfd2534a63ab7e7325f5337662bc84ca038b6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/wireless/ath/ath11k/ahb.c
diff --cc drivers/net/wireless/ath/ath11k/ahb.c
index c7ff98b317b6,d7d33d5cdfc5..000000000000
--- a/drivers/net/wireless/ath/ath11k/ahb.c
+++ b/drivers/net/wireless/ath/ath11k/ahb.c
@@@ -701,6 -977,14 +701,13 @@@ static int ath11k_ahb_probe(struct plat
  	platform_set_drvdata(pdev, ab);
  
  	ret = ath11k_core_pre_init(ab);
++<<<<<<< HEAD
++=======
+ 	if (ret)
+ 		goto err_core_free;
+ 
+ 	ret = ath11k_ahb_setup_resources(ab);
 -	if (ret)
 -		goto err_core_free;
 -
 -	ret = ath11k_ahb_fw_resources_init(ab);
++>>>>>>> bebcfd2534a6 (ath11k: Init hw_params before setting up AHB resources)
  	if (ret)
  		goto err_core_free;
  
* Unmerged path drivers/net/wireless/ath/ath11k/ahb.c
