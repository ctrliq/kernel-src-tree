wifi: mac80211: skip rate statistics for MLD STAs

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-448.el8
commit-author Johannes Berg <johannes.berg@intel.com>
commit 8a263dcb585f5d4193e33e22ae245e90dd0b0786
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-448.el8/8a263dcb.failed

For now, skip rate statistics here to avoid warnings in
the called code, we'll need to adjust this to have all
the statistics for link stations.

	Signed-off-by: Johannes Berg <johannes.berg@intel.com>
(cherry picked from commit 8a263dcb585f5d4193e33e22ae245e90dd0b0786)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	net/mac80211/sta_info.c
diff --cc net/mac80211/sta_info.c
index d25b297851c4,88ff61aadd96..000000000000
--- a/net/mac80211/sta_info.c
+++ b/net/mac80211/sta_info.c
@@@ -2448,8 -2507,9 +2448,14 @@@ void sta_set_sinfo(struct sta_info *sta
  		}
  	}
  
++<<<<<<< HEAD
 +	if (!(sinfo->filled & BIT_ULL(NL80211_STA_INFO_TX_BITRATE))) {
 +		sta_set_rate_info_tx(sta, &sta->tx_stats.last_rate,
++=======
+ 	if (!(sinfo->filled & BIT_ULL(NL80211_STA_INFO_TX_BITRATE)) &&
+ 	    !sta->sta.valid_links) {
+ 		sta_set_rate_info_tx(sta, &sta->deflink.tx_stats.last_rate,
++>>>>>>> 8a263dcb585f (wifi: mac80211: skip rate statistics for MLD STAs)
  				     &sinfo->txrate);
  		sinfo->filled |= BIT_ULL(NL80211_STA_INFO_TX_BITRATE);
  	}
* Unmerged path net/mac80211/sta_info.c
