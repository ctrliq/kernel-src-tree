nvme-pci: disable Write Zeroes on Phison E3C/E4C

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-489.el8
commit-author Tina Hsu <tina_hsu@phison.corp-partner.google.com>
commit d14c273132aec81a1a8107c9ab4865b89e7910a7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-489.el8/d14c2731.failed

E3C/E4C SSDs do support the Write Zeroes command in theory, but have very
bad performance when using it.  As the firmware has been frozen for these
products we can not expect firmware improvements for it, so disable
Write Zeroes.

	Signed-off-by: Tina Hsu <tina_hsu@phison.corp-partner.google.com>
[hch: update the commit message]
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit d14c273132aec81a1a8107c9ab4865b89e7910a7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/pci.c
diff --cc drivers/nvme/host/pci.c
index 3117779c6fae,3bdb97205699..000000000000
--- a/drivers/nvme/host/pci.c
+++ b/drivers/nvme/host/pci.c
@@@ -3270,8 -3470,15 +3270,17 @@@ static const struct pci_device_id nvme_
  		.driver_data = NVME_QUIRK_DELAY_BEFORE_CHK_RDY |
  				NVME_QUIRK_DISABLE_WRITE_ZEROES|
  				NVME_QUIRK_IGNORE_DEV_SUBNQN, },
 -	{ PCI_DEVICE(0x1987, 0x5012),	/* Phison E12 */
 -		.driver_data = NVME_QUIRK_BOGUS_NID, },
  	{ PCI_DEVICE(0x1987, 0x5016),	/* Phison E16 */
++<<<<<<< HEAD
 +		.driver_data = NVME_QUIRK_IGNORE_DEV_SUBNQN, },
++=======
+ 		.driver_data = NVME_QUIRK_IGNORE_DEV_SUBNQN |
+ 				NVME_QUIRK_BOGUS_NID, },
+ 	{ PCI_DEVICE(0x1987, 0x5019),  /* phison E19 */
+ 		.driver_data = NVME_QUIRK_DISABLE_WRITE_ZEROES, },
+ 	{ PCI_DEVICE(0x1987, 0x5021),   /* Phison E21 */
+ 		.driver_data = NVME_QUIRK_DISABLE_WRITE_ZEROES, },
++>>>>>>> d14c273132ae (nvme-pci: disable Write Zeroes on Phison E3C/E4C)
  	{ PCI_DEVICE(0x1b4b, 0x1092),	/* Lexar 256 GB SSD */
  		.driver_data = NVME_QUIRK_NO_NS_DESC_LIST |
  				NVME_QUIRK_IGNORE_DEV_SUBNQN, },
* Unmerged path drivers/nvme/host/pci.c
