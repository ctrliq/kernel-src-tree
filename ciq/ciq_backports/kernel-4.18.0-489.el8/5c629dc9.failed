nvme: use struct group for generic command dwords

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-489.el8
commit-author Keith Busch <kbusch@kernel.org>
commit 5c629dc9609dc43492a7bc8060cc6120875bf096
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-489.el8/5c629dc9.failed

This will allow the trace event to know the full size of the data
intended to be copied and silence read overflow checks.

	Reported-by: John Garry <john.garry@huawei.com>
	Suggested-by: Christoph Hellwig <hch@lst.de>
	Signed-off-by: Keith Busch <kbusch@kernel.org>
	Signed-off-by: Christoph Hellwig <hch@lst.de>
(cherry picked from commit 5c629dc9609dc43492a7bc8060cc6120875bf096)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/nvme/host/trace.h
diff --cc drivers/nvme/host/trace.h
index 35bac7a25422,37c7f4c89f92..000000000000
--- a/drivers/nvme/host/trace.h
+++ b/drivers/nvme/host/trace.h
@@@ -68,8 -68,8 +68,13 @@@ TRACE_EVENT(nvme_setup_cmd
  		__entry->nsid = le32_to_cpu(cmd->common.nsid);
  		__entry->metadata = !!blk_integrity_rq(req);
  		__entry->fctype = cmd->fabrics.fctype;
++<<<<<<< HEAD
 +		__assign_disk_name(__entry->disk, req->rq_disk);
 +		memcpy(__entry->cdw10, &cmd->common.cdw10,
++=======
+ 		__assign_disk_name(__entry->disk, req->q->disk);
+ 		memcpy(__entry->cdw10, &cmd->common.cdws,
++>>>>>>> 5c629dc9609d (nvme: use struct group for generic command dwords)
  			sizeof(__entry->cdw10));
  	    ),
  	    TP_printk("nvme%d: %sqid=%d, cmdid=%u, nsid=%u, flags=0x%x, meta=0x%x, cmd=(%s %s)",
* Unmerged path drivers/nvme/host/trace.h
diff --git a/include/linux/nvme.h b/include/linux/nvme.h
index 68e32cbc5c17..1a4d2cff5a1e 100644
--- a/include/linux/nvme.h
+++ b/include/linux/nvme.h
@@ -815,12 +815,14 @@ struct nvme_common_command {
 	__le32			cdw2[2];
 	__le64			metadata;
 	union nvme_data_ptr	dptr;
+	struct_group(cdws,
 	__le32			cdw10;
 	__le32			cdw11;
 	__le32			cdw12;
 	__le32			cdw13;
 	__le32			cdw14;
 	__le32			cdw15;
+	);
 };
 
 struct nvme_rw_command {
