ceph: rely on vfs for setgid stripping

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-481.el8
commit-author Yang Xu <xuyang2018.jy@fujitsu.com>
commit 5fadbd992996e9dda7ebcb62f5352866057bd619
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-481.el8/5fadbd99.failed

Now that we finished moving setgid stripping for regular files in setgid
directories into the vfs, individual filesystem don't need to manually
strip the setgid bit anymore. Drop the now unneeded code from ceph.

Link: https://lore.kernel.org/r/1657779088-2242-4-git-send-email-xuyang2018.jy@fujitsu.com
	Reviewed-by: Xiubo Li <xiubli@redhat.com>
	Reviewed-by: Christian Brauner (Microsoft)<brauner@kernel.org>
Reviewed-and-Tested-by: Jeff Layton <jlayton@kernel.org>
	Signed-off-by: Yang Xu <xuyang2018.jy@fujitsu.com>
	Signed-off-by: Christian Brauner (Microsoft) <brauner@kernel.org>
(cherry picked from commit 5fadbd992996e9dda7ebcb62f5352866057bd619)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/ceph/file.c
diff --cc fs/ceph/file.c
index c6174b751ebd,5a0266ea66ff..000000000000
--- a/fs/ceph/file.c
+++ b/fs/ceph/file.c
@@@ -618,10 -657,6 +618,13 @@@ static int ceph_finish_async_create(str
  		/* Directories always inherit the setgid bit. */
  		if (S_ISDIR(mode))
  			mode |= S_ISGID;
++<<<<<<< HEAD
 +		else if ((mode & (S_ISGID | S_IXGRP)) == (S_ISGID | S_IXGRP) &&
 +			 !in_group_p(dir->i_gid) &&
 +			 !capable_wrt_inode_uidgid(dir, CAP_FSETID))
 +			mode &= ~S_ISGID;
++=======
++>>>>>>> 5fadbd992996 (ceph: rely on vfs for setgid stripping)
  	} else {
  		in.gid = cpu_to_le32(from_kgid(&init_user_ns, current_fsgid()));
  	}
* Unmerged path fs/ceph/file.c
