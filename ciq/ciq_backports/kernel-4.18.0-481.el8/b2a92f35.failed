PM: domains: Trust domain-idle-states from DT to be correct by genpd

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-481.el8
commit-author Ulf Hansson <ulf.hansson@linaro.org>
commit b2a92f354c5a9436f1f4ac8f6485a3ce1c941b29
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-481.el8/b2a92f35.failed

If genpd has parsed the domain-idle-states from DT, it's reasonable to
believe that the parsed data should be correct for the HW in question.
Based upon this, it seem superfluous to let genpd measure the corresponding
power-on/off latencies for these states.

Therefore, let's improve the behaviour in genpd by avoiding the
measurements for the domain-idle-states that have been parsed from DT.

	Signed-off-by: Ulf Hansson <ulf.hansson@linaro.org>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit b2a92f354c5a9436f1f4ac8f6485a3ce1c941b29)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/power/domain.c
diff --cc drivers/base/power/domain.c
index 9e2b595b8793,739e52cd4aba..000000000000
--- a/drivers/base/power/domain.c
+++ b/drivers/base/power/domain.c
@@@ -511,6 -509,7 +511,10 @@@ static int _genpd_power_on(struct gener
  	if (!genpd->power_on)
  		goto out;
  
++<<<<<<< HEAD
++=======
+ 	timed = timed && genpd->gd && !genpd->states[state_idx].fwnode;
++>>>>>>> b2a92f354c5a (PM: domains: Trust domain-idle-states from DT to be correct by genpd)
  	if (!timed) {
  		ret = genpd->power_on(genpd);
  		if (ret)
@@@ -560,6 -559,7 +564,10 @@@ static int _genpd_power_off(struct gene
  	if (!genpd->power_off)
  		goto out;
  
++<<<<<<< HEAD
++=======
+ 	timed = timed && genpd->gd && !genpd->states[state_idx].fwnode;
++>>>>>>> b2a92f354c5a (PM: domains: Trust domain-idle-states from DT to be correct by genpd)
  	if (!timed) {
  		ret = genpd->power_off(genpd);
  		if (ret)
* Unmerged path drivers/base/power/domain.c
