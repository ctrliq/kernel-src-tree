platform/x86/amd: pmc: Write dummy postcode into the STB DRAM

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-527.el8
commit-author Shyam Sundar S K <Shyam-sundar.S-k@amd.com>
commit b0d4bb973539f5e60fff37ea0f211598cac614a8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-527.el8/b0d4bb97.failed

Based on the recommendation from the PMFW team in order to get the
recent telemetry data present on the STB DRAM the driver is required
to send one dummy write to the STB buffer, so it internally triggers
the PMFW to emit the latest telemetry data in the STB DRAM region.

	Reviewed-by: Hans de Goede <hdegoede@redhat.com>
	Signed-off-by: Shyam Sundar S K <Shyam-sundar.S-k@amd.com>
Link: https://lore.kernel.org/r/20230206150855.1938810-3-Shyam-sundar.S-k@amd.com
	Signed-off-by: Hans de Goede <hdegoede@redhat.com>
(cherry picked from commit b0d4bb973539f5e60fff37ea0f211598cac614a8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/platform/x86/amd/pmc.c
diff --cc drivers/platform/x86/amd/pmc.c
index 6e5dab57aae4,27774020597c..000000000000
--- a/drivers/platform/x86/amd/pmc.c
+++ b/drivers/platform/x86/amd/pmc.c
@@@ -42,6 -42,8 +42,11 @@@
  #define AMD_PMC_STB_PMI_0		0x03E30600
  #define AMD_PMC_STB_S2IDLE_PREPARE	0xC6000001
  #define AMD_PMC_STB_S2IDLE_RESTORE	0xC6000002
++<<<<<<< HEAD
++=======
+ #define AMD_PMC_STB_S2IDLE_CHECK	0xC6000003
+ #define AMD_PMC_STB_DUMMY_PC		0xC6000007
++>>>>>>> b0d4bb973539 (platform/x86/amd: pmc: Write dummy postcode into the STB DRAM)
  
  /* STB S2D(Spill to DRAM) has different message port offset */
  #define STB_SPILL_TO_DRAM		0xBE
* Unmerged path drivers/platform/x86/amd/pmc.c
