platform: use fwnode_irq_get_byname instead of of_irq_get_byname to get irq

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-504.el8
commit-author Soha Jin <soha@lohu.info>
commit d4ad017d634561907ecdd1e467a28612b369ee00
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-504.el8/d4ad017d.failed

Not only platform devices described by OF have named interrupts, but
devices described by ACPI also have named interrupts. The fwnode is an
abstraction to different standards, and using fwnode_irq_get_byname can
support more devices.

	Signed-off-by: Soha Jin <soha@lohu.info>
	Tested-by: Wende Tan <twd2.me@gmail.com>
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit d4ad017d634561907ecdd1e467a28612b369ee00)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/platform.c
diff --cc drivers/base/platform.c
index 935e9399cca8,968f3d71eeab..000000000000
--- a/drivers/base/platform.c
+++ b/drivers/base/platform.c
@@@ -380,11 -439,10 +380,16 @@@ static int __platform_get_irq_byname(st
  				     const char *name)
  {
  	struct resource *r;
 -	int ret;
  
++<<<<<<< HEAD
 +	if (IS_ENABLED(CONFIG_OF_IRQ) && dev->dev.of_node) {
 +		int ret;
 +
 +		ret = of_irq_get_byname(dev->dev.of_node, name);
++=======
+ 	if (!dev->dev.of_node || IS_ENABLED(CONFIG_OF_IRQ)) {
+ 		ret = fwnode_irq_get_byname(dev_fwnode(&dev->dev), name);
++>>>>>>> d4ad017d6345 (platform: use fwnode_irq_get_byname instead of of_irq_get_byname to get irq)
  		if (ret > 0 || ret == -EPROBE_DEFER)
  			return ret;
  	}
* Unmerged path drivers/base/platform.c
