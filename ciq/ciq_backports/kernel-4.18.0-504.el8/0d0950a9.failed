net: thunderbolt: Move into own directory

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-504.el8
commit-author Mika Westerberg <mika.westerberg@linux.intel.com>
commit 0d0950a968009fd6e5c2a3763b2c6e81b3805b05
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-504.el8/0d0950a9.failed

We will be adding tracepoints to the driver so instead of littering the
main network driver directory, move the driver into its own directory.
While there, rename the module to thunderbolt_net (with underscore) to
match with the thunderbolt_dma_test convention.

	Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
	Acked-by: Yehezkel Bernat <YehezkelShB@gmail.com>
	Signed-off-by: Jakub Kicinski <kuba@kernel.org>
(cherry picked from commit 0d0950a968009fd6e5c2a3763b2c6e81b3805b05)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/Kconfig
diff --cc drivers/net/Kconfig
index 2ce85c93ac66,950a09f021dd..000000000000
--- a/drivers/net/Kconfig
+++ b/drivers/net/Kconfig
@@@ -507,20 -581,9 +507,24 @@@ config FUJITSU_E
  	depends on ACPI
  	help
  	  This driver provides support for Extended Socket network device
 -	  on Extended Partitioning of FUJITSU PRIMEQUEST 2000 E2 series.
 +          on Extended Partitioning of FUJITSU PRIMEQUEST 2000 E2 series.
 +
++<<<<<<< HEAD
 +config USB4_NET
 +	tristate "Networking over USB4 and Thunderbolt cables"
 +	depends on USB4 && INET
 +	help
 +	  Select this if you want to create network between two computers
 +	  over USB4 and Thunderbolt cable. The driver supports Apple
 +	  ThunderboltIP protocol and allows communication with any host
 +	  supporting the same protocol including Windows and macOS.
  
 +	  To compile this driver a module, choose M here. The module will be
 +	  called thunderbolt-net.
 +
++=======
+ source "drivers/net/thunderbolt/Kconfig"
++>>>>>>> 0d0950a96800 (net: thunderbolt: Move into own directory)
  source "drivers/net/hyperv/Kconfig"
  
  config NETDEVSIM
diff --git a/MAINTAINERS b/MAINTAINERS
index a5fcd6421745..4260560834cb 100644
--- a/MAINTAINERS
+++ b/MAINTAINERS
@@ -14767,7 +14767,7 @@ M:	Mika Westerberg <mika.westerberg@linux.intel.com>
 M:	Yehezkel Bernat <YehezkelShB@gmail.com>
 L:	netdev@vger.kernel.org
 S:	Maintained
-F:	drivers/net/thunderbolt.c
+F:	drivers/net/thunderbolt/
 
 THUNDERX GPIO DRIVER
 M:	David Daney <david.daney@cavium.com>
* Unmerged path drivers/net/Kconfig
diff --git a/drivers/net/Makefile b/drivers/net/Makefile
index 0d12930d1fe9..8bbcb2140667 100644
--- a/drivers/net/Makefile
+++ b/drivers/net/Makefile
@@ -77,8 +77,6 @@ obj-$(CONFIG_HYPERV_NET) += hyperv/
 obj-$(CONFIG_NTB_NETDEV) += ntb_netdev.o
 
 obj-$(CONFIG_FUJITSU_ES) += fjes/
-
-thunderbolt-net-y += thunderbolt.o
-obj-$(CONFIG_USB4_NET) += thunderbolt-net.o
+obj-$(CONFIG_USB4_NET) += thunderbolt/
 obj-$(CONFIG_NETDEVSIM) += netdevsim/
 obj-$(CONFIG_NET_FAILOVER) += net_failover.o
diff --git a/drivers/net/thunderbolt/Kconfig b/drivers/net/thunderbolt/Kconfig
new file mode 100644
index 000000000000..e127848c8cbd
--- /dev/null
+++ b/drivers/net/thunderbolt/Kconfig
@@ -0,0 +1,12 @@
+# SPDX-License-Identifier: GPL-2.0-only
+config USB4_NET
+	tristate "Networking over USB4 and Thunderbolt cables"
+	depends on USB4 && INET
+	help
+	  Select this if you want to create network between two computers
+	  over a USB4 and Thunderbolt cables. The driver supports Apple
+	  ThunderboltIP protocol and allows communication with any host
+	  supporting the same protocol including Windows and macOS.
+
+	  To compile this driver a module, choose M here. The module will be
+	  called thunderbolt_net.
diff --git a/drivers/net/thunderbolt/Makefile b/drivers/net/thunderbolt/Makefile
new file mode 100644
index 000000000000..dd644c8775d9
--- /dev/null
+++ b/drivers/net/thunderbolt/Makefile
@@ -0,0 +1,3 @@
+# SPDX-License-Identifier: GPL-2.0
+obj-$(CONFIG_USB4_NET) := thunderbolt_net.o
+thunderbolt_net-objs := main.o
diff --git a/drivers/net/thunderbolt.c b/drivers/net/thunderbolt/main.c
similarity index 100%
rename from drivers/net/thunderbolt.c
rename to drivers/net/thunderbolt/main.c
