thunderbolt: Refactor tb_acpi_add_link()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-504.el8
commit-author Andy Shevchenko <andriy.shevchenko@linux.intel.com>
commit 953ff25fc9fb831a675259ce1e738c94fb6202b6
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-504.el8/953ff25f.failed

Convert while loop into do-while with only a single call to
acpi_get_first_physical_node(). No functional change intended.

	Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
	Signed-off-by: Mika Westerberg <mika.westerberg@linux.intel.com>
(cherry picked from commit 953ff25fc9fb831a675259ce1e738c94fb6202b6)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/thunderbolt/acpi.c
diff --cc drivers/thunderbolt/acpi.c
index e36c03e75a4a,628225deb8fe..000000000000
--- a/drivers/thunderbolt/acpi.c
+++ b/drivers/thunderbolt/acpi.c
@@@ -36,16 -36,13 +36,21 @@@ static acpi_status tb_acpi_add_link(acp
  	 * We need to do this because the xHCI driver might not yet be
  	 * bound so the USB3 SuperSpeed ports are not yet created.
  	 */
++<<<<<<< HEAD
 +	dev = acpi_get_first_physical_node(adev);
 +	while (!dev) {
 +		adev = adev->parent;
 +		if (!adev)
 +			break;
++=======
+ 	do {
++>>>>>>> 953ff25fc9fb (thunderbolt: Refactor tb_acpi_add_link())
  		dev = acpi_get_first_physical_node(adev);
- 	}
+ 		if (dev)
+ 			break;
  
- 	if (!dev)
- 		goto out_put;
+ 		adev = acpi_dev_parent(adev);
+ 	} while (adev);
  
  	/*
  	 * Check that the device is PCIe. This is because USB3
* Unmerged path drivers/thunderbolt/acpi.c
