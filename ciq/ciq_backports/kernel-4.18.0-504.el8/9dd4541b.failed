platform: remove useless if-branch in __platform_get_irq_byname()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-504.el8
commit-author Soha Jin <soha@lohu.info>
commit 9dd4541b1693e9aa124a167b40e294aa6906433f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-504.el8/9dd4541b.failed

When CONFIG_OF_IRQ is not enabled, there will be a stub method that always
returns 0 when getting IRQ. Thus, the if-branch can be removed safely.

	Signed-off-by: Soha Jin <soha@lohu.info>
Link: https://lore.kernel.org/r/20221111094542.270540-1-soha@lohu.info
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit 9dd4541b1693e9aa124a167b40e294aa6906433f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/platform.c
diff --cc drivers/base/platform.c
index 59069a0e6a44,b10a130cd433..000000000000
--- a/drivers/base/platform.c
+++ b/drivers/base/platform.c
@@@ -380,18 -439,18 +380,24 @@@ static int __platform_get_irq_byname(st
  				     const char *name)
  {
  	struct resource *r;
 -	int ret;
  
++<<<<<<< HEAD
 +	if (IS_ENABLED(CONFIG_OF_IRQ) && dev->dev.of_node) {
 +		int ret;
 +
 +		ret = of_irq_get_byname(dev->dev.of_node, name);
 +		if (ret > 0 || ret == -EPROBE_DEFER)
 +			return ret;
 +	}
++=======
+ 	ret = fwnode_irq_get_byname(dev_fwnode(&dev->dev), name);
+ 	if (ret > 0 || ret == -EPROBE_DEFER)
+ 		return ret;
++>>>>>>> 9dd4541b1693 (platform: remove useless if-branch in __platform_get_irq_byname())
  
  	r = platform_get_resource_byname(dev, IORESOURCE_IRQ, name);
 -	if (r) {
 -		if (WARN(!r->start, "0 is an invalid IRQ number\n"))
 -			return -EINVAL;
 +	if (r)
  		return r->start;
 -	}
  
  	return -ENXIO;
  }
* Unmerged path drivers/base/platform.c
