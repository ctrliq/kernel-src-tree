driver core: platform: removed unneeded variable from __platform_driver_probe()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-504.el8
commit-author Greg Kroah-Hartman <gregkh@linuxfoundation.org>
commit b4ce0bf7ab02c46676276ca1e8d4c5789528b439
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-504.el8/b4ce0bf7.failed

In the reworking of the function __platform_driver_probe() over the
years, it turns out that the variable 'code' does not actually do
anything or mean anything anymore and can be removed to simplify the
logic when trying to read and understand what this function is actually
doing.

	Cc: "Rafael J. Wysocki" <rafael@kernel.org>
Link: https://lore.kernel.org/r/20230131082459.301603-1-gregkh@linuxfoundation.org
	Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
(cherry picked from commit b4ce0bf7ab02c46676276ca1e8d4c5789528b439)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/base/platform.c
diff --cc drivers/base/platform.c
index 59069a0e6a44,423874269f9d..000000000000
--- a/drivers/base/platform.c
+++ b/drivers/base/platform.c
@@@ -882,7 -932,9 +882,13 @@@ int __init_or_module __platform_driver_
  
  	/* temporary section violation during probe() */
  	drv->probe = probe;
++<<<<<<< HEAD
 +	retval = code = __platform_driver_register(drv, module);
++=======
+ 	retval = __platform_driver_register(drv, module);
+ 	if (retval)
+ 		return retval;
++>>>>>>> b4ce0bf7ab02 (driver core: platform: removed unneeded variable from __platform_driver_probe())
  
  	/*
  	 * Fixup that section violation, being paranoid about code scanning
* Unmerged path drivers/base/platform.c
