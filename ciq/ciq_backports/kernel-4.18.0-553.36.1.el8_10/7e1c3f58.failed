cpufreq: intel_pstate: Support Emerald Rapids OOB mode

jira LE-2289
Rebuild_History Non-Buildable kernel-4.18.0-553.36.1.el8_10
commit-author Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
commit 7e1c3f584ee78b0d0210fc424420d9529f3ca952
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-553.36.1.el8_10/7e1c3f58.failed

Prevent intel_pstate from loading when OOB (Out Of Band) P-states mode is
enabled in Emerald Rapids.

The OOB identifying bits are same as for the prior generation CPUs
like Sapphire Rapids servers, so also add Emerald Rapids to the
intel_pstate_cpu_oob_ids[] list.

	Signed-off-by: Srinivas Pandruvada <srinivas.pandruvada@linux.intel.com>
	Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
(cherry picked from commit 7e1c3f584ee78b0d0210fc424420d9529f3ca952)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/cpufreq/intel_pstate.c
diff --cc drivers/cpufreq/intel_pstate.c
index 405d00dd8746,efb29a473be2..000000000000
--- a/drivers/cpufreq/intel_pstate.c
+++ b/drivers/cpufreq/intel_pstate.c
@@@ -2414,17 -2397,20 +2414,26 @@@ static const struct x86_cpu_id intel_ps
  };
  MODULE_DEVICE_TABLE(x86cpu, intel_pstate_cpu_ids);
  
 -#ifdef CONFIG_ACPI
  static const struct x86_cpu_id intel_pstate_cpu_oob_ids[] __initconst = {
++<<<<<<< HEAD
 +	X86_MATCH(BROADWELL_D,		core_funcs),
 +	X86_MATCH(BROADWELL_X,		core_funcs),
 +	X86_MATCH(SKYLAKE_X,		core_funcs),
 +	X86_MATCH(ICELAKE_X,		core_funcs),
 +	X86_MATCH(SAPPHIRERAPIDS_X,	core_funcs),
++=======
+ 	X86_MATCH(INTEL_BROADWELL_D,		core_funcs),
+ 	X86_MATCH(INTEL_BROADWELL_X,		core_funcs),
+ 	X86_MATCH(INTEL_SKYLAKE_X,		core_funcs),
+ 	X86_MATCH(INTEL_ICELAKE_X,		core_funcs),
+ 	X86_MATCH(INTEL_SAPPHIRERAPIDS_X,	core_funcs),
+ 	X86_MATCH(INTEL_EMERALDRAPIDS_X,	core_funcs),
++>>>>>>> 7e1c3f584ee7 (cpufreq: intel_pstate: Support Emerald Rapids OOB mode)
  	{}
  };
 -#endif
  
  static const struct x86_cpu_id intel_pstate_cpu_ee_disable_ids[] = {
 -	X86_MATCH(INTEL_KABYLAKE,		core_funcs),
 +	X86_MATCH(KABYLAKE,		core_funcs),
  	{}
  };
  
* Unmerged path drivers/cpufreq/intel_pstate.c
