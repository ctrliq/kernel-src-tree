gfs2: do_promote cleanup

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-516.el8
commit-author Andreas Gruenbacher <agruenba@redhat.com>
commit de3e7f97aebb7304856c46daf358ef14f0204219
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-516.el8/de3e7f97.failed

Change function do_promote to return true on success, and false
otherwise.

	Signed-off-by: Andreas Gruenbacher <agruenba@redhat.com>
(cherry picked from commit de3e7f97aebb7304856c46daf358ef14f0204219)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/gfs2/glock.c
diff --cc fs/gfs2/glock.c
index fd9c9a2dca5a,d0c82b721f90..000000000000
--- a/fs/gfs2/glock.c
+++ b/fs/gfs2/glock.c
@@@ -478,12 -481,13 +478,19 @@@ static bool do_promote(struct gfs2_gloc
  			continue;
  		if (!may_grant(gl, current_gh, gh)) {
  			/*
++<<<<<<< HEAD
 +			 * If we get here, it means we may not grant this holder for
 +			 * some reason. If this holder is the head of the list, it
 +			 * means we have a blocked holder at the head, so return 1.
++=======
+ 			 * If we get here, it means we may not grant this
+ 			 * holder for some reason. If this holder is at the
+ 			 * head of the list, it means we have a blocked holder
+ 			 * at the head, so return false.
++>>>>>>> de3e7f97aebb (gfs2: do_promote cleanup)
  			 */
  			if (list_is_first(&gh->gh_list, &gl->gl_holders))
- 				return 1;
+ 				return false;
  			do_error(gl, 0);
  			break;
  		}
* Unmerged path fs/gfs2/glock.c
