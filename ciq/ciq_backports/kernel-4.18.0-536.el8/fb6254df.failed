ALSA: hda/realtek - Fixed two speaker platform

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-536.el8
commit-author Kailang Yang <kailang@realtek.com>
commit fb6254df09bba303db2a1002085f6c0b90a456ed
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-536.el8/fb6254df.failed

If system has two speakers and one connect to 0x14 pin, use this
function will disable it.

Fixes: e43252db7e20 ("ALSA: hda/realtek - ALC287 I2S speaker platform support")
	Signed-off-by: Kailang Yang <kailang@realtek.com>
Link: https://lore.kernel.org/r/e3f2aac3fe6a47079d728a6443358cc2@realtek.com
	Signed-off-by: Takashi Iwai <tiwai@suse.de>
(cherry picked from commit fb6254df09bba303db2a1002085f6c0b90a456ed)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/pci/hda/patch_realtek.c
diff --cc sound/pci/hda/patch_realtek.c
index 41d8b3631e06,887c1b163865..000000000000
--- a/sound/pci/hda/patch_realtek.c
+++ b/sound/pci/hda/patch_realtek.c
@@@ -6980,6 -7057,29 +6980,32 @@@ static void alc295_fixup_dell_inspiron_
  	}
  }
  
++<<<<<<< HEAD
++=======
+ /* Forcibly assign NID 0x03 to HP while NID 0x02 to SPK */
+ static void alc287_fixup_bind_dacs(struct hda_codec *codec,
+ 				    const struct hda_fixup *fix, int action)
+ {
+ 	struct alc_spec *spec = codec->spec;
+ 	static const hda_nid_t conn[] = { 0x02, 0x03 }; /* exclude 0x06 */
+ 	static const hda_nid_t preferred_pairs[] = {
+ 		0x17, 0x02, 0x21, 0x03, 0
+ 	};
+ 
+ 	if (action != HDA_FIXUP_ACT_PRE_PROBE)
+ 		return;
+ 
+ 	snd_hda_override_conn_list(codec, 0x17, ARRAY_SIZE(conn), conn);
+ 	spec->gen.preferred_dacs = preferred_pairs;
+ 	spec->gen.auto_mute_via_amp = 1;
+ 	if (spec->gen.autocfg.speaker_pins[0] != 0x14) {
+ 		snd_hda_codec_write_cache(codec, 0x14, 0, AC_VERB_SET_PIN_WIDGET_CONTROL,
+ 					0x0); /* Make sure 0x14 was disable */
+ 	}
+ }
+ 
+ 
++>>>>>>> fb6254df09bb (ALSA: hda/realtek - Fixed two speaker platform)
  enum {
  	ALC269_FIXUP_GPIO2,
  	ALC269_FIXUP_SONY_VAIO,
* Unmerged path sound/pci/hda/patch_realtek.c
