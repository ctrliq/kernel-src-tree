ASoC: intel: sof_sdw: Move amp_num initialisation to mc_probe

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-536.el8
commit-author Charles Keepax <ckeepax@opensource.cirrus.com>
commit 8673e68b594684fac53398ec5783a6c8469a07a1
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-536.el8/8673e68b.failed

The amp_num member of the info struct is zeroed at the start of
sof_card_dai_links_create, but then summed in mc_probe after
sof_card_dai_links_create is called. It is a little clearer to hoist the
initialisation out of sof_card_dai_links_create so it is on the same
level as the summation.

	Reviewed-by: Bard Liao <yung-chuan.liao@linux.intel.com>
	Reviewed-by: Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
	Reviewed-by: Rander Wang <rander.wang@intel.com>
	Signed-off-by: Charles Keepax <ckeepax@opensource.cirrus.com>
	Signed-off-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Link: https://lore.kernel.org/r/20230731214257.444605-18-pierre-louis.bossart@linux.intel.com
	Signed-off-by: Mark Brown <broonie@kernel.org>
(cherry picked from commit 8673e68b594684fac53398ec5783a6c8469a07a1)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	sound/soc/intel/boards/sof_sdw.c
diff --cc sound/soc/intel/boards/sof_sdw.c
index d443935a04bd,1a60965439dd..000000000000
--- a/sound/soc/intel/boards/sof_sdw.c
+++ b/sound/soc/intel/boards/sof_sdw.c
@@@ -1984,7 -1987,11 +1980,15 @@@ static int mc_probe(struct platform_dev
  
  	log_quirks(card->dev);
  
++<<<<<<< HEAD
 +	ret = sof_card_dai_links_create(card->dev, mach, card);
++=======
+ 	/* reset amp_num to ensure amp_num++ starts from 0 in each probe */
+ 	for (i = 0; i < ARRAY_SIZE(codec_info_list); i++)
+ 		codec_info_list[i].amp_num = 0;
+ 
+ 	ret = sof_card_dai_links_create(card);
++>>>>>>> 8673e68b5946 (ASoC: intel: sof_sdw: Move amp_num initialisation to mc_probe)
  	if (ret < 0)
  		return ret;
  
* Unmerged path sound/soc/intel/boards/sof_sdw.c
