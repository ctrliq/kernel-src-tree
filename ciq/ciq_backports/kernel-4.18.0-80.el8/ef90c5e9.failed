net/mlx5: Return success for PAGE_FAULT_RESUME in internal error state

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-80.el8
commit-author Moni Shoua <monis@mellanox.com>
commit ef90c5e9757d5abc80b947cbcaacc43d1e916488
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-80.el8/ef90c5e9.failed

When the device is in internal error state, command interface isn't
accessible and the driver decides which commands to fail and which to
pass.
Move the PAGE_FAULT_RESUME command to the pass list in order to avoid
redundant failure messages.

Fixes: 89d44f0a6c73 ("net/mlx5_core: Add pci error handlers to mlx5_core driver")
	Signed-off-by: Moni Shoua <monis@mellanox.com>
	Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
(cherry picked from commit ef90c5e9757d5abc80b947cbcaacc43d1e916488)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/ethernet/mellanox/mlx5/core/cmd.c
diff --cc drivers/net/ethernet/mellanox/mlx5/core/cmd.c
index d16500a059bf,7b18aff955f1..000000000000
--- a/drivers/net/ethernet/mellanox/mlx5/core/cmd.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/cmd.c
@@@ -307,9 -308,12 +307,15 @@@ static int mlx5_internal_err_ret_value(
  	case MLX5_CMD_OP_MODIFY_FLOW_TABLE:
  	case MLX5_CMD_OP_SET_FLOW_TABLE_ENTRY:
  	case MLX5_CMD_OP_SET_FLOW_TABLE_ROOT:
 -	case MLX5_CMD_OP_DEALLOC_PACKET_REFORMAT_CONTEXT:
 +	case MLX5_CMD_OP_DEALLOC_ENCAP_HEADER:
  	case MLX5_CMD_OP_DEALLOC_MODIFY_HEADER_CONTEXT:
  	case MLX5_CMD_OP_FPGA_DESTROY_QP:
++<<<<<<< HEAD
++=======
+ 	case MLX5_CMD_OP_DESTROY_GENERAL_OBJECT:
+ 	case MLX5_CMD_OP_DEALLOC_MEMIC:
+ 	case MLX5_CMD_OP_PAGE_FAULT_RESUME:
++>>>>>>> ef90c5e9757d (net/mlx5: Return success for PAGE_FAULT_RESUME in internal error state)
  		return MLX5_CMD_STAT_OK;
  
  	case MLX5_CMD_OP_QUERY_HCA_CAP:
* Unmerged path drivers/net/ethernet/mellanox/mlx5/core/cmd.c
