cifs: Fix xid leak in cifs_ses_add_channel()

jira LE-4669
Rebuild_History Non-Buildable kernel-4.18.0-553.82.1.el8_10
commit-author Zhang Xiaoxu <zhangxiaoxu5@huawei.com>
commit e909d054bdea75ef1ec48c18c5936affdaecbb2c
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-553.82.1.el8_10/e909d054.failed

Before return, should free the xid, otherwise, the
xid will be leaked.

Fixes: d70e9fa55884 ("cifs: try opening channels after mounting")
	Reviewed-by: Paulo Alcantara (SUSE) <pc@cjr.nz>
	Signed-off-by: Zhang Xiaoxu <zhangxiaoxu5@huawei.com>
	Signed-off-by: Steve French <stfrench@microsoft.com>
(cherry picked from commit e909d054bdea75ef1ec48c18c5936affdaecbb2c)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/cifs/sess.c
diff --cc fs/cifs/sess.c
index 6a745143a3f1,92e4278ec35d..000000000000
--- a/fs/cifs/sess.c
+++ b/fs/cifs/sess.c
@@@ -441,13 -492,11 +441,17 @@@ out
  		 */
  		WARN_ON(ses->chan_count < 1);
  		spin_unlock(&ses->chan_lock);
 +	}
  
++<<<<<<< HEAD
 +	mutex_unlock(&ses->session_mutex);
 +
 +	if (rc && chan->server)
  		cifs_put_tcp_session(chan->server, 0);
 -	}
  
++=======
+ 	free_xid(xid);
++>>>>>>> e909d054bdea (cifs: Fix xid leak in cifs_ses_add_channel())
  	return rc;
  }
  
* Unmerged path fs/cifs/sess.c
