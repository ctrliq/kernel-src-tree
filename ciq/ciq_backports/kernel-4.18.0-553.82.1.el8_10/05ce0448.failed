cifs: generate signkey for the channel that's reconnecting

jira LE-4669
Rebuild_History Non-Buildable kernel-4.18.0-553.82.1.el8_10
commit-author Shyam Prasad N <sprasad@microsoft.com>
commit 05ce0448c3f36febd8db0ee0e9e16557f3ab5ee8
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-553.82.1.el8_10/05ce0448.failed

Before my changes to how multichannel reconnects work, the
primary channel was always used to do a non-binding session
setup. With my changes, that is not the case anymore.
Missed this place where channel at index 0 was forcibly
updated with the signing key.

	Signed-off-by: Shyam Prasad N <sprasad@microsoft.com>
	Reviewed-by: Paulo Alcantara (SUSE) <pc@manguebit.com>
	Cc: stable@vger.kernel.org
	Signed-off-by: Steve French <stfrench@microsoft.com>
(cherry picked from commit 05ce0448c3f36febd8db0ee0e9e16557f3ab5ee8)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/cifs/smb2transport.c
diff --cc fs/cifs/smb2transport.c
index 5eda4666cf82,d827b7547ffa..000000000000
--- a/fs/cifs/smb2transport.c
+++ b/fs/cifs/smb2transport.c
@@@ -434,8 -424,10 +434,13 @@@ generate_smb3signingkey(struct cifs_se
  			return rc;
  
  		/* safe to access primary channel, since it will never go away */
++<<<<<<< HEAD
 +		memcpy(ses->chans[0].signkey, ses->smb3signingkey,
++=======
+ 		spin_lock(&ses->chan_lock);
+ 		memcpy(ses->chans[chan_index].signkey, ses->smb3signingkey,
++>>>>>>> 05ce0448c3f3 (cifs: generate signkey for the channel that's reconnecting)
  		       SMB3_SIGN_KEY_SIZE);
 -		spin_unlock(&ses->chan_lock);
  
  		rc = generate_key(ses, ptriplet->encryption.label,
  				  ptriplet->encryption.context,
* Unmerged path fs/cifs/smb2transport.c
