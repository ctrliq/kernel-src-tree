udmabuf: fix a buf size overflow issue during udmabuf creation

jira LE-4192
cve CVE-2025-37803
Rebuild_History Non-Buildable kernel-6.12.0-55.31.1.el10_0
commit-author Xiaogang Chen <xiaogang.chen@amd.com>
commit 021ba7f1babd029e714d13a6bf2571b08af96d0f
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-6.12.0-55.31.1.el10_0/021ba7f1.failed

by casting size_limit_mb to u64  when calculate pglimit.

	Signed-off-by: Xiaogang Chen<Xiaogang.Chen@amd.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20250321164126.329638-1-xiaogang.chen@amd.com
	Signed-off-by: Christian KÃ¶nig <christian.koenig@amd.com>
(cherry picked from commit 021ba7f1babd029e714d13a6bf2571b08af96d0f)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/dma-buf/udmabuf.c
diff --cc drivers/dma-buf/udmabuf.c
index 5e836e4e5b44,e74e36a8ecda..000000000000
--- a/drivers/dma-buf/udmabuf.c
+++ b/drivers/dma-buf/udmabuf.c
@@@ -358,17 -393,21 +358,21 @@@ static long udmabuf_create(struct miscd
  	if (!ubuf)
  		return -ENOMEM;
  
++<<<<<<< HEAD
 +	INIT_LIST_HEAD(&ubuf->unpin_list);
 +	pglimit = (size_limit_mb * 1024 * 1024) >> PAGE_SHIFT;
++=======
+ 	pglimit = ((u64)size_limit_mb * 1024 * 1024) >> PAGE_SHIFT;
++>>>>>>> 021ba7f1babd (udmabuf: fix a buf size overflow issue during udmabuf creation)
  	for (i = 0; i < head->count; i++) {
 -		pgoff_t subpgcnt;
 -
  		if (!PAGE_ALIGNED(list[i].offset))
 -			goto err_noinit;
 +			goto err;
  		if (!PAGE_ALIGNED(list[i].size))
 -			goto err_noinit;
 +			goto err;
  
 -		subpgcnt = list[i].size >> PAGE_SHIFT;
 -		pgcnt += subpgcnt;
 +		pgcnt += list[i].size >> PAGE_SHIFT;
  		if (pgcnt > pglimit)
 -			goto err_noinit;
 -
 -		max_nr_folios = max_t(unsigned long, subpgcnt, max_nr_folios);
 +			goto err;
  	}
  
  	if (!pgcnt)
* Unmerged path drivers/dma-buf/udmabuf.c
