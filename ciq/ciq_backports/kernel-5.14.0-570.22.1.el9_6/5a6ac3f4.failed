media: v4l2-mediabus: Drop legacy V4L2_MBUS_CSI2_CHANNEL_* flags

jira LE-3262
Rebuild_History Non-Buildable kernel-5.14.0-570.22.1.el9_6
commit-author Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
commit 5a6ac3f4b46fd86d13e1d8ab4a55e4d89f3ab400
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-5.14.0-570.22.1.el9_6/5a6ac3f4.failed

The V4L2_MBUS_CSI2_CHANNEL_* flags are a legacy API. Only
V4L2_MBUS_CSI2_CHANNEL_0 is used, set in a single driver, and never
read. Drop those flags. Virtual channel information should be conveyed
through frame descriptors instead.

	Signed-off-by: Laurent Pinchart <laurent.pinchart+renesas@ideasonboard.com>
	Signed-off-by: Sakari Ailus <sakari.ailus@linux.intel.com>
	Signed-off-by: Mauro Carvalho Chehab <mchehab@kernel.org>
(cherry picked from commit 5a6ac3f4b46fd86d13e1d8ab4a55e4d89f3ab400)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/media/i2c/adv7180.c
#	include/media/v4l2-mediabus.h
diff --cc drivers/media/i2c/adv7180.c
index 811619651329,3ff37a550810..000000000000
--- a/drivers/media/i2c/adv7180.c
+++ b/drivers/media/i2c/adv7180.c
@@@ -768,8 -784,8 +768,13 @@@ static int adv7180_get_mbus_config(stru
  
  	if (state->chip_info->flags & ADV7180_FLAG_MIPI_CSI2) {
  		cfg->type = V4L2_MBUS_CSI2_DPHY;
++<<<<<<< HEAD
 +		cfg->flags = V4L2_MBUS_CSI2_1_LANE |
 +				V4L2_MBUS_CSI2_CHANNEL_0 |
++=======
+ 		cfg->bus.mipi_csi2.num_data_lanes = 1;
+ 		cfg->bus.mipi_csi2.flags =
++>>>>>>> 5a6ac3f4b46f (media: v4l2-mediabus: Drop legacy V4L2_MBUS_CSI2_CHANNEL_* flags)
  				V4L2_MBUS_CSI2_CONTINUOUS_CLOCK;
  	} else {
  		/*
diff --cc include/media/v4l2-mediabus.h
index b77871485306,c6626a22b394..000000000000
--- a/include/media/v4l2-mediabus.h
+++ b/include/media/v4l2-mediabus.h
@@@ -76,10 -71,54 +71,61 @@@
  #define V4L2_MBUS_CSI2_CONTINUOUS_CLOCK		BIT(8)
  #define V4L2_MBUS_CSI2_NONCONTINUOUS_CLOCK	BIT(9)
  
++<<<<<<< HEAD
 +#define V4L2_MBUS_CSI2_CHANNELS		(V4L2_MBUS_CSI2_CHANNEL_0 | \
 +					 V4L2_MBUS_CSI2_CHANNEL_1 | \
 +					 V4L2_MBUS_CSI2_CHANNEL_2 | \
 +					 V4L2_MBUS_CSI2_CHANNEL_3)
++=======
+ #define V4L2_MBUS_CSI2_MAX_DATA_LANES		8
+ 
+ /**
+  * struct v4l2_mbus_config_mipi_csi2 - MIPI CSI-2 data bus configuration
+  * @flags: media bus (V4L2_MBUS_*) flags
+  * @data_lanes: an array of physical data lane indexes
+  * @clock_lane: physical lane index of the clock lane
+  * @num_data_lanes: number of data lanes
+  * @lane_polarities: polarity of the lanes. The order is the same of
+  *		   the physical lanes.
+  */
+ struct v4l2_mbus_config_mipi_csi2 {
+ 	unsigned int flags;
+ 	unsigned char data_lanes[V4L2_MBUS_CSI2_MAX_DATA_LANES];
+ 	unsigned char clock_lane;
+ 	unsigned char num_data_lanes;
+ 	bool lane_polarities[1 + V4L2_MBUS_CSI2_MAX_DATA_LANES];
+ };
+ 
+ /**
+  * struct v4l2_mbus_config_parallel - parallel data bus configuration
+  * @flags: media bus (V4L2_MBUS_*) flags
+  * @bus_width: bus width in bits
+  * @data_shift: data shift in bits
+  */
+ struct v4l2_mbus_config_parallel {
+ 	unsigned int flags;
+ 	unsigned char bus_width;
+ 	unsigned char data_shift;
+ };
+ 
+ /**
+  * struct v4l2_mbus_config_mipi_csi1 - CSI-1/CCP2 data bus configuration
+  * @clock_inv: polarity of clock/strobe signal
+  *	       false - not inverted, true - inverted
+  * @strobe: false - data/clock, true - data/strobe
+  * @lane_polarity: the polarities of the clock (index 0) and data lanes
+  *		   index (1)
+  * @data_lane: the number of the data lane
+  * @clock_lane: the number of the clock lane
+  */
+ struct v4l2_mbus_config_mipi_csi1 {
+ 	unsigned char clock_inv:1;
+ 	unsigned char strobe:1;
+ 	bool lane_polarity[2];
+ 	unsigned char data_lane;
+ 	unsigned char clock_lane;
+ };
++>>>>>>> 5a6ac3f4b46f (media: v4l2-mediabus: Drop legacy V4L2_MBUS_CSI2_CHANNEL_* flags)
  
  /**
   * enum v4l2_mbus_type - media bus type
* Unmerged path drivers/media/i2c/adv7180.c
* Unmerged path include/media/v4l2-mediabus.h
