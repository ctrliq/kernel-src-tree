block: make sure ->nr_integrity_segments is cloned in blk_rq_prep_clone

jira LE-3519
Rebuild_History Non-Buildable kernel-5.14.0-570.25.1.el9_6
commit-author Ming Lei <ming.lei@redhat.com>
commit fc0e982b8a3a169b1c654d9a1aa45bf292943ef2
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-5.14.0-570.25.1.el9_6/fc0e982b.failed

Make sure ->nr_integrity_segments is cloned in blk_rq_prep_clone(),
otherwise requests cloned by device-mapper multipath will not have the
proper nr_integrity_segments values set, then BUG() is hit from
sg_alloc_table_chained().

Fixes: b0fd271d5fba ("block: add request clone interface (v2)")
	Cc: stable@vger.kernel.org
	Cc: Christoph Hellwig <hch@infradead.org>
	Signed-off-by: Ming Lei <ming.lei@redhat.com>
	Reviewed-by: Christoph Hellwig <hch@lst.de>
Link: https://lore.kernel.org/r/20250310115453.2271109-1-ming.lei@redhat.com
	Signed-off-by: Jens Axboe <axboe@kernel.dk>
(cherry picked from commit fc0e982b8a3a169b1c654d9a1aa45bf292943ef2)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	block/blk-mq.c
diff --cc block/blk-mq.c
index 828c019b9156,f1030d589a1b..000000000000
--- a/block/blk-mq.c
+++ b/block/blk-mq.c
@@@ -3193,7 -3314,7 +3193,11 @@@ int blk_rq_prep_clone(struct request *r
  		rq->special_vec = rq_src->special_vec;
  	}
  	rq->nr_phys_segments = rq_src->nr_phys_segments;
++<<<<<<< HEAD
 +	rq->ioprio = rq_src->ioprio;
++=======
+ 	rq->nr_integrity_segments = rq_src->nr_integrity_segments;
++>>>>>>> fc0e982b8a3a (block: make sure ->nr_integrity_segments is cloned in blk_rq_prep_clone)
  
  	if (rq->bio && blk_crypto_rq_bio_prep(rq, rq->bio, gfp_mask) < 0)
  		goto free_and_out;
* Unmerged path block/blk-mq.c
