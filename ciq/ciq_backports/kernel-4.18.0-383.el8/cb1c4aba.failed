perf: Add new macros for mem_hops field

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-383.el8
commit-author Kajol Jain <kjain@linux.ibm.com>
commit cb1c4aba055f928ffae0c868e8dfe08eeab302e7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-383.el8/cb1c4aba.failed

Add new macros for mem_hops field which can be used to
represent remote-node, socket and board level details.

Currently the code had macro for HOPS_0, which corresponds
to data coming from another core but same node.
Add new macros for HOPS_1 to HOPS_3 to represent
remote-node, socket and board level data.

For ex: Encodings for mem_hops fields with L2 cache:

L2			- local L2
L2 | REMOTE | HOPS_0	- remote core, same node L2
L2 | REMOTE | HOPS_1	- remote node, same socket L2
L2 | REMOTE | HOPS_2	- remote socket, same board L2
L2 | REMOTE | HOPS_3	- remote board L2

	Signed-off-by: Kajol Jain <kjain@linux.ibm.com>
	Acked-by: Peter Zijlstra (Intel) <peterz@infradead.org>
	Signed-off-by: Michael Ellerman <mpe@ellerman.id.au>
Link: https://lore.kernel.org/r/20211206091749.87585-2-kjain@linux.ibm.com

(cherry picked from commit cb1c4aba055f928ffae0c868e8dfe08eeab302e7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	include/uapi/linux/perf_event.h
diff --cc include/uapi/linux/perf_event.h
index bbe7b7e5f28c,1b65042ab1db..000000000000
--- a/include/uapi/linux/perf_event.h
+++ b/include/uapi/linux/perf_event.h
@@@ -1315,6 -1330,14 +1315,17 @@@ union perf_mem_data_src 
  #define PERF_MEM_BLK_ADDR	0x04 /* address conflict */
  #define PERF_MEM_BLK_SHIFT	40
  
++<<<<<<< HEAD
++=======
+ /* hop level */
+ #define PERF_MEM_HOPS_0		0x01 /* remote core, same node */
+ #define PERF_MEM_HOPS_1		0x02 /* remote node, same socket */
+ #define PERF_MEM_HOPS_2		0x03 /* remote socket, same board */
+ #define PERF_MEM_HOPS_3		0x04 /* remote board */
+ /* 5-7 available */
+ #define PERF_MEM_HOPS_SHIFT	43
+ 
++>>>>>>> cb1c4aba055f (perf: Add new macros for mem_hops field)
  #define PERF_MEM_S(a, s) \
  	(((__u64)PERF_MEM_##a##_##s) << PERF_MEM_##a##_SHIFT)
  
* Unmerged path include/uapi/linux/perf_event.h
