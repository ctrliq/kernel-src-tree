net: phy: marvell: refactor HWMON OOP style

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-383.el8
commit-author Marek Behún <kabel@kernel.org>
commit 41d26bf4aba070dfd2ab48866cc27a48ee6228c7
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-383.el8/41d26bf4.failed

Use a structure of Marvell PHY specific HWMON methods to reduce code
duplication. Store a pointer to this structure into the PHY driver's
driver_data member.

	Signed-off-by: Marek Behún <kabel@kernel.org>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit 41d26bf4aba070dfd2ab48866cc27a48ee6228c7)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/marvell.c
diff --cc drivers/net/phy/marvell.c
index 5bc67533602c,70cfcfcdd8f2..000000000000
--- a/drivers/net/phy/marvell.c
+++ b/drivers/net/phy/marvell.c
@@@ -3020,12 -2898,39 +2897,43 @@@ static struct phy_driver marvell_driver
  		.get_stats = marvell_get_stats,
  	},
  	{
 -		.phy_id = MARVELL_PHY_ID_88E6341_FAMILY,
 +		.phy_id = MARVELL_PHY_ID_88E6390,
  		.phy_id_mask = MARVELL_PHY_ID_MASK,
++<<<<<<< HEAD
 +		.name = "Marvell 88E6390",
++=======
+ 		.name = "Marvell 88E6341 Family",
+ 		.driver_data = DEF_MARVELL_HWMON_OPS(m88e1510_hwmon_ops),
  		/* PHY_GBIT_FEATURES */
  		.flags = PHY_POLL_CABLE_TEST,
- 		.probe = m88e6390_probe,
+ 		.probe = marvell_probe,
+ 		.config_init = marvell_config_init,
+ 		.config_aneg = m88e6390_config_aneg,
+ 		.read_status = marvell_read_status,
+ 		.config_intr = marvell_config_intr,
+ 		.handle_interrupt = marvell_handle_interrupt,
+ 		.resume = genphy_resume,
+ 		.suspend = genphy_suspend,
+ 		.read_page = marvell_read_page,
+ 		.write_page = marvell_write_page,
+ 		.get_sset_count = marvell_get_sset_count,
+ 		.get_strings = marvell_get_strings,
+ 		.get_stats = marvell_get_stats,
+ 		.get_tunable = m88e1540_get_tunable,
+ 		.set_tunable = m88e1540_set_tunable,
+ 		.cable_test_start = marvell_vct7_cable_test_start,
+ 		.cable_test_tdr_start = marvell_vct5_cable_test_tdr_start,
+ 		.cable_test_get_status = marvell_vct7_cable_test_get_status,
+ 	},
+ 	{
+ 		.phy_id = MARVELL_PHY_ID_88E6390_FAMILY,
+ 		.phy_id_mask = MARVELL_PHY_ID_MASK,
+ 		.name = "Marvell 88E6390 Family",
+ 		.driver_data = DEF_MARVELL_HWMON_OPS(m88e6390_hwmon_ops),
++>>>>>>> 41d26bf4aba0 (net: phy: marvell: refactor HWMON OOP style)
+ 		/* PHY_GBIT_FEATURES */
+ 		.flags = PHY_POLL_CABLE_TEST,
+ 		.probe = marvell_probe,
  		.config_init = marvell_config_init,
  		.config_aneg = m88e6390_config_aneg,
  		.read_status = marvell_read_status,
* Unmerged path drivers/net/phy/marvell.c
