net: phy: broadcom: Fix RGMII delays for BCM50160 and BCM50610M

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-383.el8
commit-author Florian Fainelli <f.fainelli@gmail.com>
commit b1dd9bf688b0dcc5a34dca660de46c7570bd9243
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-383.el8/b1dd9bf6.failed

The PHY driver entry for BCM50160 and BCM50610M calls
bcm54xx_config_init() but does not call bcm54xx_config_clock_delay() in
order to configuration appropriate clock delays on the PHY, fix that.

Fixes: 733336262b28 ("net: phy: Allow BCM5481x PHYs to setup internal TX/RX clock delay")
	Signed-off-by: Florian Fainelli <f.fainelli@gmail.com>
	Signed-off-by: David S. Miller <davem@davemloft.net>
(cherry picked from commit b1dd9bf688b0dcc5a34dca660de46c7570bd9243)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	drivers/net/phy/broadcom.c
diff --cc drivers/net/phy/broadcom.c
index 94e09f1104e3,82fe5f43f0e9..000000000000
--- a/drivers/net/phy/broadcom.c
+++ b/drivers/net/phy/broadcom.c
@@@ -283,15 -341,21 +283,24 @@@ static int bcm54xx_config_init(struct p
  
  	bcm54xx_adjust_rxrefclk(phydev);
  
++<<<<<<< HEAD
 +	if (BRCM_PHY_MODEL(phydev) == PHY_ID_BCM54210E) {
++=======
+ 	switch (BRCM_PHY_MODEL(phydev)) {
+ 	case PHY_ID_BCM50610:
+ 	case PHY_ID_BCM50610M:
+ 		err = bcm54xx_config_clock_delay(phydev);
+ 		break;
+ 	case PHY_ID_BCM54210E:
++>>>>>>> b1dd9bf688b0 (net: phy: broadcom: Fix RGMII delays for BCM50160 and BCM50610M)
  		err = bcm54210e_config_init(phydev);
 -		break;
 -	case PHY_ID_BCM54612E:
 +		if (err)
 +			return err;
 +	} else if (BRCM_PHY_MODEL(phydev) == PHY_ID_BCM54612E) {
  		err = bcm54612e_config_init(phydev);
 -		break;
 -	case PHY_ID_BCM54616S:
 -		err = bcm54616s_config_init(phydev);
 -		break;
 -	case PHY_ID_BCM54810:
 +		if (err)
 +			return err;
 +	} else if (BRCM_PHY_MODEL(phydev) == PHY_ID_BCM54810) {
  		/* For BCM54810, we need to disable BroadR-Reach function */
  		val = bcm_phy_read_exp(phydev,
  				       BCM54810_EXP_BROADREACH_LRE_MISC_CTL);
* Unmerged path drivers/net/phy/broadcom.c
