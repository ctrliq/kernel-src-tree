NFS: remove redundant code in nfs_file_write()

jira LE-1907
Rebuild_History Non-Buildable kernel-4.18.0-508.el8
commit-author ChenXiaoSong <chenxiaosong2@huawei.com>
commit 064109db53ecc5d88621d02f36da9f33ca0d64bd
Empty-Commit: Cherry-Pick Conflicts during history rebuild.
Will be included in final tarball splat. Ref for failed cherry-pick at:
ciq/ciq_backports/kernel-4.18.0-508.el8/064109db.failed

filemap_fdatawait_range() will always return 0, after patch 6c984083ec24
("NFS: Use of mapping_set_error() results in spurious errors"), it will not
save the wb err in struct address_space->flags:

  result = filemap_fdatawait_range(file->f_mapping, ...) = 0
    filemap_check_errors(mapping) = 0
      test_bit(..., &mapping->flags) // flags is 0

	Signed-off-by: ChenXiaoSong <chenxiaosong2@huawei.com>
	Signed-off-by: Trond Myklebust <trond.myklebust@hammerspace.com>
(cherry picked from commit 064109db53ecc5d88621d02f36da9f33ca0d64bd)
	Signed-off-by: Jonathan Maple <jmaple@ciq.com>

# Conflicts:
#	fs/nfs/file.c
diff --cc fs/nfs/file.c
index d8b0450f39fa,54237a231687..000000000000
--- a/fs/nfs/file.c
+++ b/fs/nfs/file.c
@@@ -634,6 -651,19 +634,22 @@@ ssize_t nfs_file_write(struct kiocb *io
  	written = result;
  	iocb->ki_pos += written;
  	nfs_add_stats(inode, NFSIOS_NORMALWRITTENBYTES, written);
++<<<<<<< HEAD
++=======
+ 
+ 	if (mntflags & NFS_MOUNT_WRITE_EAGER) {
+ 		result = filemap_fdatawrite_range(file->f_mapping,
+ 						  iocb->ki_pos - written,
+ 						  iocb->ki_pos - 1);
+ 		if (result < 0)
+ 			goto out;
+ 	}
+ 	if (mntflags & NFS_MOUNT_WRITE_WAIT) {
+ 		result = filemap_fdatawait_range(file->f_mapping,
+ 						 iocb->ki_pos - written,
+ 						 iocb->ki_pos - 1);
+ 	}
++>>>>>>> 064109db53ec (NFS: remove redundant code in nfs_file_write())
  	result = generic_write_sync(iocb, written);
  	if (result < 0)
  		return result;
* Unmerged path fs/nfs/file.c
